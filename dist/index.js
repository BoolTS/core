var UC=Object.create;var{getPrototypeOf:HC,defineProperty:pT,getOwnPropertyNames:XC}=Object;var JC=Object.prototype.hasOwnProperty;var VT=(T,_,E)=>{E=T!=null?UC(HC(T)):{};let A=_||!T||!T.__esModule?pT(E,"default",{value:T,enumerable:!0}):E;for(let C of XC(T))if(!JC.call(A,C))pT(A,C,{get:()=>T[C],enumerable:!0});return A};var c=(T,_)=>()=>(_||T((_={exports:{}}).exports,_),_.exports);var DC=(T,_)=>{for(var E in _)pT(T,E,{get:_[E],enumerable:!0,configurable:!0,set:(A)=>_[E]=()=>A})};var qC=((T)=>typeof require!=="undefined"?require:typeof Proxy!=="undefined"?new Proxy(T,{get:(_,E)=>(typeof require!=="undefined"?require:_)[E]}):T)(function(T){if(typeof require!=="undefined")return require.apply(this,arguments);throw Error('Dynamic require of "'+T+'" is not supported')});var NT=c(()=>{/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var cE;(function(T){(function(_){var E=typeof globalThis==="object"?globalThis:typeof global==="object"?global:typeof self==="object"?self:typeof this==="object"?this:H(),A=C(T);if(typeof E.Reflect!=="undefined")A=C(E.Reflect,A);if(_(A,E),typeof E.Reflect==="undefined")E.Reflect=T;function C(Z,z){return function(q,V){if(Object.defineProperty(Z,q,{configurable:!0,writable:!0,value:V}),z)z(q,V)}}function L(){try{return Function("return this;")()}catch(Z){}}function Q(){try{return(0,eval)("(function() { return this; })()")}catch(Z){}}function H(){return L()||Q()}})(function(_,E){var A=Object.prototype.hasOwnProperty,C=typeof Symbol==="function",L=C&&typeof Symbol.toPrimitive!=="undefined"?Symbol.toPrimitive:"@@toPrimitive",Q=C&&typeof Symbol.iterator!=="undefined"?Symbol.iterator:"@@iterator",H=typeof Object.create==="function",Z={__proto__:[]}instanceof Array,z=!H&&!Z,q={create:H?function(){return dT(Object.create(null))}:Z?function(){return dT({__proto__:null})}:function(){return dT({})},has:z?function(W,Y){return A.call(W,Y)}:function(W,Y){return Y in W},get:z?function(W,Y){return A.call(W,Y)?W[Y]:void 0}:function(W,Y){return W[Y]}},V=Object.getPrototypeOf(Function),J=typeof Map==="function"&&typeof Map.prototype.entries==="function"?Map:WC(),X=typeof Set==="function"&&typeof Set.prototype.entries==="function"?Set:YC(),x=typeof WeakMap==="function"?WeakMap:ZC(),w=C?Symbol.for("@reflect-metadata:registry"):void 0,k=CC(),m=RC(k);function v(W,Y,U,B){if(!P(U)){if(!fE(W))throw new TypeError;if(!p(Y))throw new TypeError;if(!p(B)&&!P(B)&&!n_(B))throw new TypeError;if(n_(B))B=void 0;return U=X_(U),__(W,Y,U,B)}else{if(!fE(W))throw new TypeError;if(!IE(Y))throw new TypeError;return A_(W,Y)}}_("decorate",v);function D(W,Y){function U(B,h){if(!p(B))throw new TypeError;if(!P(h)&&!EC(h))throw new TypeError;y_(W,Y,B,h)}return U}_("metadata",D);function F(W,Y,U,B){if(!p(U))throw new TypeError;if(!P(B))B=X_(B);return y_(W,Y,U,B)}_("defineMetadata",F);function b(W,Y,U){if(!p(Y))throw new TypeError;if(!P(U))U=X_(U);return e(W,Y,U)}_("hasMetadata",b);function S(W,Y,U){if(!p(Y))throw new TypeError;if(!P(U))U=X_(U);return o(W,Y,U)}_("hasOwnMetadata",S);function K(W,Y,U){if(!p(Y))throw new TypeError;if(!P(U))U=X_(U);return F_(W,Y,U)}_("getMetadata",K);function O(W,Y,U){if(!p(Y))throw new TypeError;if(!P(U))U=X_(U);return H_(W,Y,U)}_("getOwnMetadata",O);function R(W,Y){if(!p(W))throw new TypeError;if(!P(Y))Y=X_(Y);return AT(W,Y)}_("getMetadataKeys",R);function N(W,Y){if(!p(W))throw new TypeError;if(!P(Y))Y=X_(Y);return l_(W,Y)}_("getOwnMetadataKeys",N);function d(W,Y,U){if(!p(Y))throw new TypeError;if(!P(U))U=X_(U);if(!p(Y))throw new TypeError;if(!P(U))U=X_(U);var B=CT(Y,U,!1);if(P(B))return!1;return B.OrdinaryDeleteMetadata(W,Y,U)}_("deleteMetadata",d);function A_(W,Y){for(var U=W.length-1;U>=0;--U){var B=W[U],h=B(Y);if(!P(h)&&!n_(h)){if(!IE(h))throw new TypeError;Y=h}}return Y}function __(W,Y,U,B){for(var h=W.length-1;h>=0;--h){var s=W[h],r=s(Y,U,B);if(!P(r)&&!n_(r)){if(!p(r))throw new TypeError;B=r}}return B}function e(W,Y,U){var B=o(W,Y,U);if(B)return!0;var h=nT(Y);if(!n_(h))return e(W,h,U);return!1}function o(W,Y,U){var B=CT(Y,U,!1);if(P(B))return!1;return NE(B.OrdinaryHasOwnMetadata(W,Y,U))}function F_(W,Y,U){var B=o(W,Y,U);if(B)return H_(W,Y,U);var h=nT(Y);if(!n_(h))return F_(W,h,U);return}function H_(W,Y,U){var B=CT(Y,U,!1);if(P(B))return;return B.OrdinaryGetOwnMetadata(W,Y,U)}function y_(W,Y,U,B){var h=CT(U,B,!0);h.OrdinaryDefineOwnMetadata(W,Y,U,B)}function AT(W,Y){var U=l_(W,Y),B=nT(W);if(B===null)return U;var h=AT(B,Y);if(h.length<=0)return U;if(U.length<=0)return h;var s=new X,r=[];for(var M=0,G=U;M<G.length;M++){var f=G[M],I=s.has(f);if(!I)s.add(f),r.push(f)}for(var $=0,u=h;$<u.length;$++){var f=u[$],I=s.has(f);if(!I)s.add(f),r.push(f)}return r}function l_(W,Y){var U=CT(W,Y,!1);if(!U)return[];return U.OrdinaryOwnMetadataKeys(W,Y)}function VE(W){if(W===null)return 1;switch(typeof W){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return W===null?1:6;default:return 6}}function P(W){return W===void 0}function n_(W){return W===null}function e0(W){return typeof W==="symbol"}function p(W){return typeof W==="object"?W!==null:typeof W==="function"}function a0(W,Y){switch(VE(W)){case 0:return W;case 1:return W;case 2:return W;case 3:return W;case 4:return W;case 5:return W}var U=Y===3?"string":Y===5?"number":"default",B=xE(W,L);if(B!==void 0){var h=B.call(W,U);if(p(h))throw new TypeError;return h}return _C(W,U==="default"?"number":U)}function _C(W,Y){if(Y==="string"){var U=W.toString;if(d_(U)){var B=U.call(W);if(!p(B))return B}var h=W.valueOf;if(d_(h)){var B=h.call(W);if(!p(B))return B}}else{var h=W.valueOf;if(d_(h)){var B=h.call(W);if(!p(B))return B}var s=W.toString;if(d_(s)){var B=s.call(W);if(!p(B))return B}}throw new TypeError}function NE(W){return!!W}function TC(W){return""+W}function X_(W){var Y=a0(W,3);if(e0(Y))return Y;return TC(Y)}function fE(W){return Array.isArray?Array.isArray(W):W instanceof Object?W instanceof Array:Object.prototype.toString.call(W)==="[object Array]"}function d_(W){return typeof W==="function"}function IE(W){return typeof W==="function"}function EC(W){switch(VE(W)){case 3:return!0;case 4:return!0;default:return!1}}function lT(W,Y){return W===Y||W!==W&&Y!==Y}function xE(W,Y){var U=W[Y];if(U===void 0||U===null)return;if(!d_(U))throw new TypeError;return U}function $E(W){var Y=xE(W,Q);if(!d_(Y))throw new TypeError;var U=Y.call(W);if(!p(U))throw new TypeError;return U}function KE(W){return W.value}function hE(W){var Y=W.next();return Y.done?!1:Y}function OE(W){var Y=W.return;if(Y)Y.call(W)}function nT(W){var Y=Object.getPrototypeOf(W);if(typeof W!=="function"||W===V)return Y;if(Y!==V)return Y;var U=W.prototype,B=U&&Object.getPrototypeOf(U);if(B==null||B===Object.prototype)return Y;var h=B.constructor;if(typeof h!=="function")return Y;if(h===W)return Y;return h}function AC(){var W;if(!P(w)&&typeof E.Reflect!=="undefined"&&!(w in E.Reflect)&&typeof E.Reflect.defineMetadata==="function")W=LC(E.Reflect);var Y,U,B,h=new x,s={registerProvider:r,getProvider:G,setProvider:I};return s;function r($){if(!Object.isExtensible(s))throw new Error("Cannot add provider to a frozen registry.");switch(!0){case W===$:break;case P(Y):Y=$;break;case Y===$:break;case P(U):U=$;break;case U===$:break;default:if(B===void 0)B=new X;B.add($);break}}function M($,u){if(!P(Y)){if(Y.isProviderFor($,u))return Y;if(!P(U)){if(U.isProviderFor($,u))return Y;if(!P(B)){var l=$E(B);while(!0){var i=hE(l);if(!i)return;var Q_=KE(i);if(Q_.isProviderFor($,u))return OE(l),Q_}}}}if(!P(W)&&W.isProviderFor($,u))return W;return}function G($,u){var l=h.get($),i;if(!P(l))i=l.get(u);if(!P(i))return i;if(i=M($,u),!P(i)){if(P(l))l=new J,h.set($,l);l.set(u,i)}return i}function f($){if(P($))throw new TypeError;return Y===$||U===$||!P(B)&&B.has($)}function I($,u,l){if(!f(l))throw new Error("Metadata provider not registered.");var i=G($,u);if(i!==l){if(!P(i))return!1;var Q_=h.get($);if(P(Q_))Q_=new J,h.set($,Q_);Q_.set(u,l)}return!0}}function CC(){var W;if(!P(w)&&p(E.Reflect)&&Object.isExtensible(E.Reflect))W=E.Reflect[w];if(P(W))W=AC();if(!P(w)&&p(E.Reflect)&&Object.isExtensible(E.Reflect))Object.defineProperty(E.Reflect,w,{enumerable:!1,configurable:!1,writable:!1,value:W});return W}function RC(W){var Y=new x,U={isProviderFor:function(f,I){var $=Y.get(f);if(P($))return!1;return $.has(I)},OrdinaryDefineOwnMetadata:r,OrdinaryHasOwnMetadata:h,OrdinaryGetOwnMetadata:s,OrdinaryOwnMetadataKeys:M,OrdinaryDeleteMetadata:G};return k.registerProvider(U),U;function B(f,I,$){var u=Y.get(f),l=!1;if(P(u)){if(!$)return;u=new J,Y.set(f,u),l=!0}var i=u.get(I);if(P(i)){if(!$)return;if(i=new J,u.set(I,i),!W.setProvider(f,I,U)){if(u.delete(I),l)Y.delete(f);throw new Error("Wrong provider for target.")}}return i}function h(f,I,$){var u=B(I,$,!1);if(P(u))return!1;return NE(u.has(f))}function s(f,I,$){var u=B(I,$,!1);if(P(u))return;return u.get(f)}function r(f,I,$,u){var l=B($,u,!0);l.set(f,I)}function M(f,I){var $=[],u=B(f,I,!1);if(P(u))return $;var l=u.keys(),i=$E(l),Q_=0;while(!0){var PE=hE(i);if(!PE)return $.length=Q_,$;var FC=KE(PE);try{$[Q_]=FC}catch(QC){try{OE(i)}finally{throw QC}}Q_++}}function G(f,I,$){var u=B(I,$,!1);if(P(u))return!1;if(!u.delete(f))return!1;if(u.size===0){var l=Y.get(I);if(!P(l)){if(l.delete($),l.size===0)Y.delete(l)}}return!0}}function LC(W){var{defineMetadata:Y,hasOwnMetadata:U,getOwnMetadata:B,getOwnMetadataKeys:h,deleteMetadata:s}=W,r=new x,M={isProviderFor:function(G,f){var I=r.get(G);if(!P(I)&&I.has(f))return!0;if(h(G,f).length){if(P(I))I=new X,r.set(G,I);return I.add(f),!0}return!1},OrdinaryDefineOwnMetadata:Y,OrdinaryHasOwnMetadata:U,OrdinaryGetOwnMetadata:B,OrdinaryOwnMetadataKeys:h,OrdinaryDeleteMetadata:s};return M}function CT(W,Y,U){var B=k.getProvider(W,Y);if(!P(B))return B;if(U){if(k.setProvider(W,Y,m))return m;throw new Error("Illegal state.")}return}function WC(){var W={},Y=[],U=function(){function M(G,f,I){this._index=0,this._keys=G,this._values=f,this._selector=I}return M.prototype["@@iterator"]=function(){return this},M.prototype[Q]=function(){return this},M.prototype.next=function(){var G=this._index;if(G>=0&&G<this._keys.length){var f=this._selector(this._keys[G],this._values[G]);if(G+1>=this._keys.length)this._index=-1,this._keys=Y,this._values=Y;else this._index++;return{value:f,done:!1}}return{value:void 0,done:!0}},M.prototype.throw=function(G){if(this._index>=0)this._index=-1,this._keys=Y,this._values=Y;throw G},M.prototype.return=function(G){if(this._index>=0)this._index=-1,this._keys=Y,this._values=Y;return{value:G,done:!0}},M}(),B=function(){function M(){this._keys=[],this._values=[],this._cacheKey=W,this._cacheIndex=-2}return Object.defineProperty(M.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),M.prototype.has=function(G){return this._find(G,!1)>=0},M.prototype.get=function(G){var f=this._find(G,!1);return f>=0?this._values[f]:void 0},M.prototype.set=function(G,f){var I=this._find(G,!0);return this._values[I]=f,this},M.prototype.delete=function(G){var f=this._find(G,!1);if(f>=0){var I=this._keys.length;for(var $=f+1;$<I;$++)this._keys[$-1]=this._keys[$],this._values[$-1]=this._values[$];if(this._keys.length--,this._values.length--,lT(G,this._cacheKey))this._cacheKey=W,this._cacheIndex=-2;return!0}return!1},M.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=W,this._cacheIndex=-2},M.prototype.keys=function(){return new U(this._keys,this._values,h)},M.prototype.values=function(){return new U(this._keys,this._values,s)},M.prototype.entries=function(){return new U(this._keys,this._values,r)},M.prototype["@@iterator"]=function(){return this.entries()},M.prototype[Q]=function(){return this.entries()},M.prototype._find=function(G,f){if(!lT(this._cacheKey,G)){this._cacheIndex=-1;for(var I=0;I<this._keys.length;I++)if(lT(this._keys[I],G)){this._cacheIndex=I;break}}if(this._cacheIndex<0&&f)this._cacheIndex=this._keys.length,this._keys.push(G),this._values.push(void 0);return this._cacheIndex},M}();return B;function h(M,G){return M}function s(M,G){return G}function r(M,G){return[M,G]}}function YC(){var W=function(){function Y(){this._map=new J}return Object.defineProperty(Y.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),Y.prototype.has=function(U){return this._map.has(U)},Y.prototype.add=function(U){return this._map.set(U,U),this},Y.prototype.delete=function(U){return this._map.delete(U)},Y.prototype.clear=function(){this._map.clear()},Y.prototype.keys=function(){return this._map.keys()},Y.prototype.values=function(){return this._map.keys()},Y.prototype.entries=function(){return this._map.entries()},Y.prototype["@@iterator"]=function(){return this.keys()},Y.prototype[Q]=function(){return this.keys()},Y}();return W}function ZC(){var W=16,Y=q.create(),U=B();return function(){function G(){this._key=B()}return G.prototype.has=function(f){var I=h(f,!1);return I!==void 0?q.has(I,this._key):!1},G.prototype.get=function(f){var I=h(f,!1);return I!==void 0?q.get(I,this._key):void 0},G.prototype.set=function(f,I){var $=h(f,!0);return $[this._key]=I,this},G.prototype.delete=function(f){var I=h(f,!1);return I!==void 0?delete I[this._key]:!1},G.prototype.clear=function(){this._key=B()},G}();function B(){var G;do G="@@WeakMap@@"+M();while(q.has(Y,G));return Y[G]=!0,G}function h(G,f){if(!A.call(G,U)){if(!f)return;Object.defineProperty(G,U,{value:q.create()})}return G[U]}function s(G,f){for(var I=0;I<f;++I)G[I]=Math.random()*255|0;return G}function r(G){if(typeof Uint8Array==="function"){var f=new Uint8Array(G);if(typeof crypto!=="undefined")crypto.getRandomValues(f);else if(typeof msCrypto!=="undefined")msCrypto.getRandomValues(f);else s(f,G);return f}return s(new Array(G),G)}function M(){var G=r(W);G[6]=G[6]&79|64,G[8]=G[8]&191|128;var f="";for(var I=0;I<W;++I){var $=G[I];if(I===4||I===6||I===8)f+="-";if($<16)f+="0";f+=$.toString(16).toLowerCase()}return f}}function dT(W){return W.__=void 0,delete W.__,W}})})(cE||(cE={}))});var b_=c((wL,vE)=>{vE.exports=TypeError});var UT=c((GL,TA)=>{var AE=typeof Map==="function"&&Map.prototype,iT=Object.getOwnPropertyDescriptor&&AE?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,$T=AE&&iT&&typeof iT.get==="function"?iT.get:null,bE=AE&&Map.prototype.forEach,CE=typeof Set==="function"&&Set.prototype,oT=Object.getOwnPropertyDescriptor&&CE?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,KT=CE&&oT&&typeof oT.get==="function"?oT.get:null,mE=CE&&Set.prototype.forEach,tC=typeof WeakMap==="function"&&WeakMap.prototype,FT=tC?WeakMap.prototype.has:null,eC=typeof WeakSet==="function"&&WeakSet.prototype,QT=eC?WeakSet.prototype.has:null,aC=typeof WeakRef==="function"&&WeakRef.prototype,ME=aC?WeakRef.prototype.deref:null,_1=Boolean.prototype.valueOf,T1=Object.prototype.toString,E1=Function.prototype.toString,A1=String.prototype.match,RE=String.prototype.slice,K_=String.prototype.replace,C1=String.prototype.toUpperCase,uE=String.prototype.toLowerCase,iE=RegExp.prototype.test,gE=Array.prototype.concat,N_=Array.prototype.join,R1=Array.prototype.slice,jE=Math.floor,eT=typeof BigInt==="function"?BigInt.prototype.valueOf:null,rT=Object.getOwnPropertySymbols,aT=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?Symbol.prototype.toString:null,r_=typeof Symbol==="function"&&typeof Symbol.iterator==="object",C_=typeof Symbol==="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===r_?"object":"symbol")?Symbol.toStringTag:null,oE=Object.prototype.propertyIsEnumerable,yE=(typeof Reflect==="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(T){return T.__proto__}:null);function lE(T,_){if(T===1/0||T===-1/0||T!==T||T&&T>-1000&&T<1000||iE.call(/e/,_))return _;var E=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof T==="number"){var A=T<0?-jE(-T):jE(T);if(A!==T){var C=String(A),L=RE.call(_,C.length+1);return K_.call(C,E,"$&_")+"."+K_.call(K_.call(L,/([0-9]{3})/g,"$&_"),/_$/,"")}}return K_.call(_,E,"$&_")}var _E=(()=>({})),nE=_E.custom,dE=eE(nE)?nE:null,rE={__proto__:null,double:'"',single:"'"},L1={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};TA.exports=function T(_,E,A,C){var L=E||{};if($_(L,"quoteStyle")&&!$_(rE,L.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if($_(L,"maxStringLength")&&(typeof L.maxStringLength==="number"?L.maxStringLength<0&&L.maxStringLength!==1/0:L.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Q=$_(L,"customInspect")?L.customInspect:!0;if(typeof Q!=="boolean"&&Q!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if($_(L,"indent")&&L.indent!==null&&L.indent!=="\t"&&!(parseInt(L.indent,10)===L.indent&&L.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if($_(L,"numericSeparator")&&typeof L.numericSeparator!=="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var H=L.numericSeparator;if(typeof _==="undefined")return"undefined";if(_===null)return"null";if(typeof _==="boolean")return _?"true":"false";if(typeof _==="string")return _A(_,L);if(typeof _==="number"){if(_===0)return 1/0/_>0?"0":"-0";var Z=String(_);return H?lE(_,Z):Z}if(typeof _==="bigint"){var z=String(_)+"n";return H?lE(_,z):z}var q=typeof L.depth==="undefined"?5:L.depth;if(typeof A==="undefined")A=0;if(A>=q&&q>0&&typeof _==="object")return TE(_)?"[Array]":"[Object]";var V=N1(L,A);if(typeof C==="undefined")C=[];else if(aE(C,_)>=0)return"[Circular]";function J(__,e,o){if(e)C=R1.call(C),C.push(e);if(o){var F_={depth:L.depth};if($_(L,"quoteStyle"))F_.quoteStyle=L.quoteStyle;return T(__,F_,A+1,C)}return T(__,L,A+1,C)}if(typeof _==="function"&&!pE(_)){var X=J1(_),x=xT(_,J);return"[Function"+(X?": "+X:" (anonymous)")+"]"+(x.length>0?" { "+N_.call(x,", ")+" }":"")}if(eE(_)){var w=r_?K_.call(String(_),/^(Symbol\(.*\))_[^)]*$/,"$1"):aT.call(_);return typeof _==="object"&&!r_?ZT(w):w}if(w1(_)){var k="<"+uE.call(String(_.nodeName)),m=_.attributes||[];for(var v=0;v<m.length;v++)k+=" "+m[v].name+"="+tE(W1(m[v].value),"double",L);if(k+=">",_.childNodes&&_.childNodes.length)k+="...";return k+="</"+uE.call(String(_.nodeName))+">",k}if(TE(_)){if(_.length===0)return"[]";var D=xT(_,J);if(V&&!V1(D))return"["+EE(D,V)+"]";return"[ "+N_.call(D,", ")+" ]"}if(Z1(_)){var F=xT(_,J);if(!("cause"in Error.prototype)&&"cause"in _&&!oE.call(_,"cause"))return"{ ["+String(_)+"] "+N_.call(gE.call("[cause]: "+J(_.cause),F),", ")+" }";if(F.length===0)return"["+String(_)+"]";return"{ ["+String(_)+"] "+N_.call(F,", ")+" }"}if(typeof _==="object"&&Q){if(dE&&typeof _[dE]==="function"&&_E)return _E(_,{depth:q-A});else if(Q!=="symbol"&&typeof _.inspect==="function")return _.inspect()}if(D1(_)){var b=[];if(bE)bE.call(_,function(__,e){b.push(J(e,_,!0)+" => "+J(__,_))});return sE("Map",$T.call(_),b,V)}if(z1(_)){var S=[];if(mE)mE.call(_,function(__){S.push(J(__,_))});return sE("Set",KT.call(_),S,V)}if(q1(_))return tT("WeakMap");if(S1(_))return tT("WeakSet");if(B1(_))return tT("WeakRef");if(Q1(_))return ZT(J(Number(_)));if(H1(_))return ZT(J(eT.call(_)));if(U1(_))return ZT(_1.call(_));if(F1(_))return ZT(J(String(_)));if(typeof window!=="undefined"&&_===window)return"{ [object Window] }";if(typeof globalThis!=="undefined"&&_===globalThis||typeof global!=="undefined"&&_===global)return"{ [object globalThis] }";if(!Y1(_)&&!pE(_)){var K=xT(_,J),O=yE?yE(_)===Object.prototype:_ instanceof Object||_.constructor===Object,R=_ instanceof Object?"":"null prototype",N=!O&&C_&&Object(_)===_&&C_ in _?RE.call(h_(_),8,-1):R?"Object":"",d=O||typeof _.constructor!=="function"?"":_.constructor.name?_.constructor.name+" ":"",A_=d+(N||R?"["+N_.call(gE.call([],N||[],R||[]),": ")+"] ":"");if(K.length===0)return A_+"{}";if(V)return A_+"{"+EE(K,V)+"}";return A_+"{ "+N_.call(K,", ")+" }"}return String(_)};function tE(T,_,E){var A=E.quoteStyle||_,C=rE[A];return C+T+C}function W1(T){return K_.call(String(T),/"/g,"&quot;")}function TE(T){return h_(T)==="[object Array]"&&(!C_||!(typeof T==="object"&&(C_ in T)))}function Y1(T){return h_(T)==="[object Date]"&&(!C_||!(typeof T==="object"&&(C_ in T)))}function pE(T){return h_(T)==="[object RegExp]"&&(!C_||!(typeof T==="object"&&(C_ in T)))}function Z1(T){return h_(T)==="[object Error]"&&(!C_||!(typeof T==="object"&&(C_ in T)))}function F1(T){return h_(T)==="[object String]"&&(!C_||!(typeof T==="object"&&(C_ in T)))}function Q1(T){return h_(T)==="[object Number]"&&(!C_||!(typeof T==="object"&&(C_ in T)))}function U1(T){return h_(T)==="[object Boolean]"&&(!C_||!(typeof T==="object"&&(C_ in T)))}function eE(T){if(r_)return T&&typeof T==="object"&&T instanceof Symbol;if(typeof T==="symbol")return!0;if(!T||typeof T!=="object"||!aT)return!1;try{return aT.call(T),!0}catch(_){}return!1}function H1(T){if(!T||typeof T!=="object"||!eT)return!1;try{return eT.call(T),!0}catch(_){}return!1}var X1=Object.prototype.hasOwnProperty||function(T){return T in this};function $_(T,_){return X1.call(T,_)}function h_(T){return T1.call(T)}function J1(T){if(T.name)return T.name;var _=A1.call(E1.call(T),/^function\s*([\w$]+)/);if(_)return _[1];return null}function aE(T,_){if(T.indexOf)return T.indexOf(_);for(var E=0,A=T.length;E<A;E++)if(T[E]===_)return E;return-1}function D1(T){if(!$T||!T||typeof T!=="object")return!1;try{$T.call(T);try{KT.call(T)}catch(_){return!0}return T instanceof Map}catch(_){}return!1}function q1(T){if(!FT||!T||typeof T!=="object")return!1;try{FT.call(T,FT);try{QT.call(T,QT)}catch(_){return!0}return T instanceof WeakMap}catch(_){}return!1}function B1(T){if(!ME||!T||typeof T!=="object")return!1;try{return ME.call(T),!0}catch(_){}return!1}function z1(T){if(!KT||!T||typeof T!=="object")return!1;try{KT.call(T);try{$T.call(T)}catch(_){return!0}return T instanceof Set}catch(_){}return!1}function S1(T){if(!QT||!T||typeof T!=="object")return!1;try{QT.call(T,QT);try{FT.call(T,FT)}catch(_){return!0}return T instanceof WeakSet}catch(_){}return!1}function w1(T){if(!T||typeof T!=="object")return!1;if(typeof HTMLElement!=="undefined"&&T instanceof HTMLElement)return!0;return typeof T.nodeName==="string"&&typeof T.getAttribute==="function"}function _A(T,_){if(T.length>_.maxStringLength){var E=T.length-_.maxStringLength,A="... "+E+" more character"+(E>1?"s":"");return _A(RE.call(T,0,_.maxStringLength),_)+A}var C=L1[_.quoteStyle||"single"];C.lastIndex=0;var L=K_.call(K_.call(T,C,"\\$1"),/[\x00-\x1f]/g,G1);return tE(L,"single",_)}function G1(T){var _=T.charCodeAt(0),E={8:"b",9:"t",10:"n",12:"f",13:"r"}[_];if(E)return"\\"+E;return"\\x"+(_<16?"0":"")+C1.call(_.toString(16))}function ZT(T){return"Object("+T+")"}function tT(T){return T+" { ? }"}function sE(T,_,E,A){var C=A?EE(E,A):N_.call(E,", ");return T+" ("+_+") {"+C+"}"}function V1(T){for(var _=0;_<T.length;_++)if(aE(T[_],`
`)>=0)return!1;return!0}function N1(T,_){var E;if(T.indent==="\t")E="\t";else if(typeof T.indent==="number"&&T.indent>0)E=N_.call(Array(T.indent+1)," ");else return null;return{base:E,prev:N_.call(Array(_+1),E)}}function EE(T,_){if(T.length===0)return"";var E=`
`+_.prev+_.base;return E+N_.call(T,","+E)+`
`+_.prev}function xT(T,_){var E=TE(T),A=[];if(E){A.length=T.length;for(var C=0;C<T.length;C++)A[C]=$_(T,C)?_(T[C],T):""}var L=typeof rT==="function"?rT(T):[],Q;if(r_){Q={};for(var H=0;H<L.length;H++)Q["$"+L[H]]=L[H]}for(var Z in T){if(!$_(T,Z))continue;if(E&&String(Number(Z))===Z&&Z<T.length)continue;if(r_&&Q["$"+Z]instanceof Symbol)continue;else if(iE.call(/[^\w$]/,Z))A.push(_(Z,T)+": "+_(T[Z],T));else A.push(Z+": "+_(T[Z],T))}if(typeof rT==="function"){for(var z=0;z<L.length;z++)if(oE.call(T,L[z]))A.push("["+_(L[z])+"]: "+_(T[L[z]],T))}return A}});var AA=c((VL,EA)=>{var f1=UT(),I1=b_(),hT=function(T,_,E){var A=T,C;for(;(C=A.next)!=null;A=C)if(C.key===_){if(A.next=C.next,!E)C.next=T.next,T.next=C;return C}},x1=function(T,_){if(!T)return;var E=hT(T,_);return E&&E.value},$1=function(T,_,E){var A=hT(T,_);if(A)A.value=E;else T.next={key:_,next:T.next,value:E}},K1=function(T,_){if(!T)return!1;return!!hT(T,_)},h1=function(T,_){if(T)return hT(T,_,!0)};EA.exports=function T(){var _,E={assert:function(A){if(!E.has(A))throw new I1("Side channel does not contain "+f1(A))},delete:function(A){var C=_&&_.next,L=h1(_,A);if(L&&C&&C===L)_=void 0;return!!L},get:function(A){return x1(_,A)},has:function(A){return K1(_,A)},set:function(A,C){if(!_)_={next:void 0};$1(_,A,C)}};return E}});var LE=c((NL,CA)=>{CA.exports=Object});var LA=c((fL,RA)=>{RA.exports=Error});var YA=c((IL,WA)=>{WA.exports=EvalError});var FA=c((xL,ZA)=>{ZA.exports=RangeError});var UA=c(($L,QA)=>{QA.exports=ReferenceError});var XA=c((KL,HA)=>{HA.exports=SyntaxError});var DA=c((hL,JA)=>{JA.exports=URIError});var BA=c((OL,qA)=>{qA.exports=Math.abs});var SA=c((PL,zA)=>{zA.exports=Math.floor});var GA=c((cL,wA)=>{wA.exports=Math.max});var NA=c((kL,VA)=>{VA.exports=Math.min});var IA=c((vL,fA)=>{fA.exports=Math.pow});var $A=c((bL,xA)=>{xA.exports=Math.round});var hA=c((mL,KA)=>{KA.exports=Number.isNaN||function T(_){return _!==_}});var PA=c((ML,OA)=>{var O1=hA();OA.exports=function T(_){if(O1(_)||_===0)return _;return _<0?-1:1}});var kA=c((uL,cA)=>{cA.exports=Object.getOwnPropertyDescriptor});var WE=c((gL,vA)=>{var OT=kA();if(OT)try{OT([],"length")}catch(T){OT=null}vA.exports=OT});var mA=c((jL,bA)=>{var PT=Object.defineProperty||!1;if(PT)try{PT({},"a",{value:1})}catch(T){PT=!1}bA.exports=PT});var uA=c((yL,MA)=>{MA.exports=function T(){if(typeof Symbol!=="function"||typeof Object.getOwnPropertySymbols!=="function")return!1;if(typeof Symbol.iterator==="symbol")return!0;var _={},E=Symbol("test"),A=Object(E);if(typeof E==="string")return!1;if(Object.prototype.toString.call(E)!=="[object Symbol]")return!1;if(Object.prototype.toString.call(A)!=="[object Symbol]")return!1;var C=42;_[E]=C;for(var L in _)return!1;if(typeof Object.keys==="function"&&Object.keys(_).length!==0)return!1;if(typeof Object.getOwnPropertyNames==="function"&&Object.getOwnPropertyNames(_).length!==0)return!1;var Q=Object.getOwnPropertySymbols(_);if(Q.length!==1||Q[0]!==E)return!1;if(!Object.prototype.propertyIsEnumerable.call(_,E))return!1;if(typeof Object.getOwnPropertyDescriptor==="function"){var H=Object.getOwnPropertyDescriptor(_,E);if(H.value!==C||H.enumerable!==!0)return!1}return!0}});var yA=c((lL,jA)=>{var gA=typeof Symbol!=="undefined"&&Symbol,P1=uA();jA.exports=function T(){if(typeof gA!=="function")return!1;if(typeof Symbol!=="function")return!1;if(typeof gA("foo")!=="symbol")return!1;if(typeof Symbol("bar")!=="symbol")return!1;return P1()}});var YE=c((nL,lA)=>{lA.exports=typeof Reflect!=="undefined"&&Reflect.getPrototypeOf||null});var ZE=c((dL,nA)=>{var c1=LE();nA.exports=c1.getPrototypeOf||null});var sA=c((pL,pA)=>{var k1="Function.prototype.bind called on incompatible ",v1=Object.prototype.toString,b1=Math.max,m1="[object Function]",dA=function T(_,E){var A=[];for(var C=0;C<_.length;C+=1)A[C]=_[C];for(var L=0;L<E.length;L+=1)A[L+_.length]=E[L];return A},M1=function T(_,E){var A=[];for(var C=E||0,L=0;C<_.length;C+=1,L+=1)A[L]=_[C];return A},u1=function(T,_){var E="";for(var A=0;A<T.length;A+=1)if(E+=T[A],A+1<T.length)E+=_;return E};pA.exports=function T(_){var E=this;if(typeof E!=="function"||v1.apply(E)!==m1)throw new TypeError(k1+E);var A=M1(arguments,1),C,L=function(){if(this instanceof C){var q=E.apply(this,dA(A,arguments));if(Object(q)===q)return q;return this}return E.apply(_,dA(A,arguments))},Q=b1(0,E.length-A.length),H=[];for(var Z=0;Z<Q;Z++)H[Z]="$"+Z;if(C=Function("binder","return function ("+u1(H,",")+"){ return binder.apply(this,arguments); }")(L),E.prototype){var z=function q(){};z.prototype=E.prototype,C.prototype=new z,z.prototype=null}return C}});var HT=c((sL,iA)=>{var g1=sA();iA.exports=Function.prototype.bind||g1});var cT=c((iL,oA)=>{oA.exports=Function.prototype.call});var FE=c((oL,rA)=>{rA.exports=Function.prototype.apply});var eA=c((rL,tA)=>{tA.exports=typeof Reflect!=="undefined"&&Reflect&&Reflect.apply});var _0=c((tL,aA)=>{var j1=HT(),y1=FE(),l1=cT(),n1=eA();aA.exports=n1||j1.call(l1,y1)});var QE=c((eL,T0)=>{var d1=HT(),p1=b_(),s1=cT(),i1=_0();T0.exports=function T(_){if(_.length<1||typeof _[0]!=="function")throw new p1("a function is required");return i1(d1,s1,_)}});var W0=c((aL,L0)=>{var o1=QE(),E0=WE(),C0;try{C0=[].__proto__===Array.prototype}catch(T){if(!T||typeof T!=="object"||!("code"in T)||T.code!=="ERR_PROTO_ACCESS")throw T}var UE=!!C0&&E0&&E0(Object.prototype,"__proto__"),R0=Object,A0=R0.getPrototypeOf;L0.exports=UE&&typeof UE.get==="function"?o1([UE.get]):typeof A0==="function"?function T(_){return A0(_==null?_:R0(_))}:!1});var U0=c((_W,Q0)=>{var Y0=YE(),Z0=ZE(),F0=W0();Q0.exports=Y0?function T(_){return Y0(_)}:Z0?function T(_){if(!_||typeof _!=="object"&&typeof _!=="function")throw new TypeError("getProto: not an object");return Z0(_)}:F0?function T(_){return F0(_)}:null});var X0=c((TW,H0)=>{var r1=Function.prototype.call,t1=Object.prototype.hasOwnProperty,e1=HT();H0.exports=e1.call(r1,t1)});var bT=c((EW,S0)=>{var g,a1=LE(),_4=LA(),T4=YA(),E4=FA(),A4=UA(),_T=XA(),a_=b_(),C4=DA(),R4=BA(),L4=SA(),W4=GA(),Y4=NA(),Z4=IA(),F4=$A(),Q4=PA(),B0=Function,HE=function(T){try{return B0('"use strict"; return ('+T+").constructor;")()}catch(_){}},XT=WE(),U4=mA(),XE=function(){throw new a_},H4=XT?function(){try{return arguments.callee,XE}catch(T){try{return XT(arguments,"callee").get}catch(_){return XE}}}():XE,t_=yA()(),a=U0(),X4=ZE(),J4=YE(),z0=FE(),JT=cT(),e_={},D4=typeof Uint8Array==="undefined"||!a?g:a(Uint8Array),m_={__proto__:null,"%AggregateError%":typeof AggregateError==="undefined"?g:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer==="undefined"?g:ArrayBuffer,"%ArrayIteratorPrototype%":t_&&a?a([][Symbol.iterator]()):g,"%AsyncFromSyncIteratorPrototype%":g,"%AsyncFunction%":e_,"%AsyncGenerator%":e_,"%AsyncGeneratorFunction%":e_,"%AsyncIteratorPrototype%":e_,"%Atomics%":typeof Atomics==="undefined"?g:Atomics,"%BigInt%":typeof BigInt==="undefined"?g:BigInt,"%BigInt64Array%":typeof BigInt64Array==="undefined"?g:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array==="undefined"?g:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView==="undefined"?g:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":_4,"%eval%":eval,"%EvalError%":T4,"%Float32Array%":typeof Float32Array==="undefined"?g:Float32Array,"%Float64Array%":typeof Float64Array==="undefined"?g:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry==="undefined"?g:FinalizationRegistry,"%Function%":B0,"%GeneratorFunction%":e_,"%Int8Array%":typeof Int8Array==="undefined"?g:Int8Array,"%Int16Array%":typeof Int16Array==="undefined"?g:Int16Array,"%Int32Array%":typeof Int32Array==="undefined"?g:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":t_&&a?a(a([][Symbol.iterator]())):g,"%JSON%":typeof JSON==="object"?JSON:g,"%Map%":typeof Map==="undefined"?g:Map,"%MapIteratorPrototype%":typeof Map==="undefined"||!t_||!a?g:a(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":a1,"%Object.getOwnPropertyDescriptor%":XT,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise==="undefined"?g:Promise,"%Proxy%":typeof Proxy==="undefined"?g:Proxy,"%RangeError%":E4,"%ReferenceError%":A4,"%Reflect%":typeof Reflect==="undefined"?g:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set==="undefined"?g:Set,"%SetIteratorPrototype%":typeof Set==="undefined"||!t_||!a?g:a(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer==="undefined"?g:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":t_&&a?a(""[Symbol.iterator]()):g,"%Symbol%":t_?Symbol:g,"%SyntaxError%":_T,"%ThrowTypeError%":H4,"%TypedArray%":D4,"%TypeError%":a_,"%Uint8Array%":typeof Uint8Array==="undefined"?g:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray==="undefined"?g:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array==="undefined"?g:Uint16Array,"%Uint32Array%":typeof Uint32Array==="undefined"?g:Uint32Array,"%URIError%":C4,"%WeakMap%":typeof WeakMap==="undefined"?g:WeakMap,"%WeakRef%":typeof WeakRef==="undefined"?g:WeakRef,"%WeakSet%":typeof WeakSet==="undefined"?g:WeakSet,"%Function.prototype.call%":JT,"%Function.prototype.apply%":z0,"%Object.defineProperty%":U4,"%Object.getPrototypeOf%":X4,"%Math.abs%":R4,"%Math.floor%":L4,"%Math.max%":W4,"%Math.min%":Y4,"%Math.pow%":Z4,"%Math.round%":F4,"%Math.sign%":Q4,"%Reflect.getPrototypeOf%":J4};if(a)try{null.error}catch(T){J0=a(a(T)),m_["%Error.prototype%"]=J0}var J0,q4=function T(_){var E;if(_==="%AsyncFunction%")E=HE("async function () {}");else if(_==="%GeneratorFunction%")E=HE("function* () {}");else if(_==="%AsyncGeneratorFunction%")E=HE("async function* () {}");else if(_==="%AsyncGenerator%"){var A=T("%AsyncGeneratorFunction%");if(A)E=A.prototype}else if(_==="%AsyncIteratorPrototype%"){var C=T("%AsyncGenerator%");if(C&&a)E=a(C.prototype)}return m_[_]=E,E},D0={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},DT=HT(),kT=X0(),B4=DT.call(JT,Array.prototype.concat),z4=DT.call(z0,Array.prototype.splice),q0=DT.call(JT,String.prototype.replace),vT=DT.call(JT,String.prototype.slice),S4=DT.call(JT,RegExp.prototype.exec),w4=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,G4=/\\(\\)?/g,V4=function T(_){var E=vT(_,0,1),A=vT(_,-1);if(E==="%"&&A!=="%")throw new _T("invalid intrinsic syntax, expected closing `%`");else if(A==="%"&&E!=="%")throw new _T("invalid intrinsic syntax, expected opening `%`");var C=[];return q0(_,w4,function(L,Q,H,Z){C[C.length]=H?q0(Z,G4,"$1"):Q||L}),C},N4=function T(_,E){var A=_,C;if(kT(D0,A))C=D0[A],A="%"+C[0]+"%";if(kT(m_,A)){var L=m_[A];if(L===e_)L=q4(A);if(typeof L==="undefined"&&!E)throw new a_("intrinsic "+_+" exists, but is not available. Please file an issue!");return{alias:C,name:A,value:L}}throw new _T("intrinsic "+_+" does not exist!")};S0.exports=function T(_,E){if(typeof _!=="string"||_.length===0)throw new a_("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof E!=="boolean")throw new a_('"allowMissing" argument must be a boolean');if(S4(/^%?[^%]*%?$/,_)===null)throw new _T("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var A=V4(_),C=A.length>0?A[0]:"",L=N4("%"+C+"%",E),Q=L.name,H=L.value,Z=!1,z=L.alias;if(z)C=z[0],z4(A,B4([0,1],z));for(var q=1,V=!0;q<A.length;q+=1){var J=A[q],X=vT(J,0,1),x=vT(J,-1);if((X==='"'||X==="'"||X==="`"||(x==='"'||x==="'"||x==="`"))&&X!==x)throw new _T("property names with quotes must have matching quotes");if(J==="constructor"||!V)Z=!0;if(C+="."+J,Q="%"+C+"%",kT(m_,Q))H=m_[Q];else if(H!=null){if(!(J in H)){if(!E)throw new a_("base intrinsic for "+_+" exists, but the property is not available.");return}if(XT&&q+1>=A.length){var w=XT(H,J);if(V=!!w,V&&"get"in w&&!("originalValue"in w.get))H=w.get;else H=H[J]}else V=kT(H,J),H=H[J];if(V&&!Z)m_[Q]=H}}return H}});var JE=c((AW,V0)=>{var w0=bT(),G0=QE(),f4=G0([w0("%String.prototype.indexOf%")]);V0.exports=function T(_,E){var A=w0(_,!!E);if(typeof A==="function"&&f4(_,".prototype.")>-1)return G0([A]);return A}});var DE=c((CW,f0)=>{var I4=bT(),qT=JE(),x4=UT(),$4=b_(),N0=I4("%Map%",!0),K4=qT("Map.prototype.get",!0),h4=qT("Map.prototype.set",!0),O4=qT("Map.prototype.has",!0),P4=qT("Map.prototype.delete",!0),c4=qT("Map.prototype.size",!0);f0.exports=!!N0&&function T(){var _,E={assert:function(A){if(!E.has(A))throw new $4("Side channel does not contain "+x4(A))},delete:function(A){if(_){var C=P4(_,A);if(c4(_)===0)_=void 0;return C}return!1},get:function(A){if(_)return K4(_,A)},has:function(A){if(_)return O4(_,A);return!1},set:function(A,C){if(!_)_=new N0;h4(_,A,C)}};return E}});var x0=c((RW,I0)=>{var k4=bT(),MT=JE(),v4=UT(),mT=DE(),b4=b_(),TT=k4("%WeakMap%",!0),m4=MT("WeakMap.prototype.get",!0),M4=MT("WeakMap.prototype.set",!0),u4=MT("WeakMap.prototype.has",!0),g4=MT("WeakMap.prototype.delete",!0);I0.exports=TT?function T(){var _,E,A={assert:function(C){if(!A.has(C))throw new b4("Side channel does not contain "+v4(C))},delete:function(C){if(TT&&C&&(typeof C==="object"||typeof C==="function")){if(_)return g4(_,C)}else if(mT){if(E)return E.delete(C)}return!1},get:function(C){if(TT&&C&&(typeof C==="object"||typeof C==="function")){if(_)return m4(_,C)}return E&&E.get(C)},has:function(C){if(TT&&C&&(typeof C==="object"||typeof C==="function")){if(_)return u4(_,C)}return!!E&&E.has(C)},set:function(C,L){if(TT&&C&&(typeof C==="object"||typeof C==="function")){if(!_)_=new TT;M4(_,C,L)}else if(mT){if(!E)E=mT();E.set(C,L)}}};return A}:mT});var K0=c((LW,$0)=>{var j4=b_(),y4=UT(),l4=AA(),n4=DE(),d4=x0(),p4=d4||n4||l4;$0.exports=function T(){var _,E={assert:function(A){if(!E.has(A))throw new j4("Side channel does not contain "+y4(A))},delete:function(A){return!!_&&_.delete(A)},get:function(A){return _&&_.get(A)},has:function(A){return!!_&&_.has(A)},set:function(A,C){if(!_)_=p4();_.set(A,C)}};return E}});var uT=c((WW,h0)=>{var s4=String.prototype.replace,i4=/%20/g,qE={RFC1738:"RFC1738",RFC3986:"RFC3986"};h0.exports={default:qE.RFC3986,formatters:{RFC1738:function(T){return s4.call(T,i4,"+")},RFC3986:function(T){return String(T)}},RFC1738:qE.RFC1738,RFC3986:qE.RFC3986}});var SE=c((YW,P0)=>{var o4=uT(),BE=Object.prototype.hasOwnProperty,M_=Array.isArray,f_=function(){var T=[];for(var _=0;_<256;++_)T.push("%"+((_<16?"0":"")+_.toString(16)).toUpperCase());return T}(),r4=function T(_){while(_.length>1){var E=_.pop(),A=E.obj[E.prop];if(M_(A)){var C=[];for(var L=0;L<A.length;++L)if(typeof A[L]!=="undefined")C.push(A[L]);E.obj[E.prop]=C}}},O0=function T(_,E){var A=E&&E.plainObjects?{__proto__:null}:{};for(var C=0;C<_.length;++C)if(typeof _[C]!=="undefined")A[C]=_[C];return A},t4=function T(_,E,A){if(!E)return _;if(typeof E!=="object"&&typeof E!=="function"){if(M_(_))_.push(E);else if(_&&typeof _==="object"){if(A&&(A.plainObjects||A.allowPrototypes)||!BE.call(Object.prototype,E))_[E]=!0}else return[_,E];return _}if(!_||typeof _!=="object")return[_].concat(E);var C=_;if(M_(_)&&!M_(E))C=O0(_,A);if(M_(_)&&M_(E))return E.forEach(function(L,Q){if(BE.call(_,Q)){var H=_[Q];if(H&&typeof H==="object"&&L&&typeof L==="object")_[Q]=T(H,L,A);else _.push(L)}else _[Q]=L}),_;return Object.keys(E).reduce(function(L,Q){var H=E[Q];if(BE.call(L,Q))L[Q]=T(L[Q],H,A);else L[Q]=H;return L},C)},e4=function T(_,E){return Object.keys(E).reduce(function(A,C){return A[C]=E[C],A},_)},a4=function(T,_,E){var A=T.replace(/\+/g," ");if(E==="iso-8859-1")return A.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(A)}catch(C){return A}},zE=1024,_R=function T(_,E,A,C,L){if(_.length===0)return _;var Q=_;if(typeof _==="symbol")Q=Symbol.prototype.toString.call(_);else if(typeof _!=="string")Q=String(_);if(A==="iso-8859-1")return escape(Q).replace(/%u[0-9a-f]{4}/gi,function(X){return"%26%23"+parseInt(X.slice(2),16)+"%3B"});var H="";for(var Z=0;Z<Q.length;Z+=zE){var z=Q.length>=zE?Q.slice(Z,Z+zE):Q,q=[];for(var V=0;V<z.length;++V){var J=z.charCodeAt(V);if(J===45||J===46||J===95||J===126||J>=48&&J<=57||J>=65&&J<=90||J>=97&&J<=122||L===o4.RFC1738&&(J===40||J===41)){q[q.length]=z.charAt(V);continue}if(J<128){q[q.length]=f_[J];continue}if(J<2048){q[q.length]=f_[192|J>>6]+f_[128|J&63];continue}if(J<55296||J>=57344){q[q.length]=f_[224|J>>12]+f_[128|J>>6&63]+f_[128|J&63];continue}V+=1,J=65536+((J&1023)<<10|z.charCodeAt(V)&1023),q[q.length]=f_[240|J>>18]+f_[128|J>>12&63]+f_[128|J>>6&63]+f_[128|J&63]}H+=q.join("")}return H},TR=function T(_){var E=[{obj:{o:_},prop:"o"}],A=[];for(var C=0;C<E.length;++C){var L=E[C],Q=L.obj[L.prop],H=Object.keys(Q);for(var Z=0;Z<H.length;++Z){var z=H[Z],q=Q[z];if(typeof q==="object"&&q!==null&&A.indexOf(q)===-1)E.push({obj:Q,prop:z}),A.push(q)}}return r4(E),_},ER=function T(_){return Object.prototype.toString.call(_)==="[object RegExp]"},AR=function T(_){if(!_||typeof _!=="object")return!1;return!!(_.constructor&&_.constructor.isBuffer&&_.constructor.isBuffer(_))},CR=function T(_,E){return[].concat(_,E)},RR=function T(_,E){if(M_(_)){var A=[];for(var C=0;C<_.length;C+=1)A.push(E(_[C]));return A}return E(_)};P0.exports={arrayToObject:O0,assign:e4,combine:CR,compact:TR,decode:a4,encode:_R,isBuffer:AR,isRegExp:ER,maybeMap:RR,merge:t4}});var M0=c((ZW,m0)=>{var k0=K0(),gT=SE(),BT=uT(),LR=Object.prototype.hasOwnProperty,v0={brackets:function T(_){return _+"[]"},comma:"comma",indices:function T(_,E){return _+"["+E+"]"},repeat:function T(_){return _}},I_=Array.isArray,WR=Array.prototype.push,b0=function(T,_){WR.apply(T,I_(_)?_:[_])},YR=Date.prototype.toISOString,c0=BT.default,t={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:gT.encode,encodeValuesOnly:!1,filter:void 0,format:c0,formatter:BT.formatters[c0],indices:!1,serializeDate:function T(_){return YR.call(_)},skipNulls:!1,strictNullHandling:!1},ZR=function T(_){return typeof _==="string"||typeof _==="number"||typeof _==="boolean"||typeof _==="symbol"||typeof _==="bigint"},wE={},FR=function T(_,E,A,C,L,Q,H,Z,z,q,V,J,X,x,w,k,m,v){var D=_,F=v,b=0,S=!1;while((F=F.get(wE))!==void 0&&!S){var K=F.get(_);if(b+=1,typeof K!=="undefined")if(K===b)throw new RangeError("Cyclic object value");else S=!0;if(typeof F.get(wE)==="undefined")b=0}if(typeof q==="function")D=q(E,D);else if(D instanceof Date)D=X(D);else if(A==="comma"&&I_(D))D=gT.maybeMap(D,function(l_){if(l_ instanceof Date)return X(l_);return l_});if(D===null){if(Q)return z&&!k?z(E,t.encoder,m,"key",x):E;D=""}if(ZR(D)||gT.isBuffer(D)){if(z){var O=k?E:z(E,t.encoder,m,"key",x);return[w(O)+"="+w(z(D,t.encoder,m,"value",x))]}return[w(E)+"="+w(String(D))]}var R=[];if(typeof D==="undefined")return R;var N;if(A==="comma"&&I_(D)){if(k&&z)D=gT.maybeMap(D,z);N=[{value:D.length>0?D.join(",")||null:void 0}]}else if(I_(q))N=q;else{var d=Object.keys(D);N=V?d.sort(V):d}var A_=Z?String(E).replace(/\./g,"%2E"):String(E),__=C&&I_(D)&&D.length===1?A_+"[]":A_;if(L&&I_(D)&&D.length===0)return __+"[]";for(var e=0;e<N.length;++e){var o=N[e],F_=typeof o==="object"&&o&&typeof o.value!=="undefined"?o.value:D[o];if(H&&F_===null)continue;var H_=J&&Z?String(o).replace(/\./g,"%2E"):String(o),y_=I_(D)?typeof A==="function"?A(__,H_):__:__+(J?"."+H_:"["+H_+"]");v.set(_,b);var AT=k0();AT.set(wE,v),b0(R,T(F_,y_,A,C,L,Q,H,Z,A==="comma"&&k&&I_(D)?null:z,q,V,J,X,x,w,k,m,AT))}return R},QR=function T(_){if(!_)return t;if(typeof _.allowEmptyArrays!=="undefined"&&typeof _.allowEmptyArrays!=="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof _.encodeDotInKeys!=="undefined"&&typeof _.encodeDotInKeys!=="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(_.encoder!==null&&typeof _.encoder!=="undefined"&&typeof _.encoder!=="function")throw new TypeError("Encoder has to be a function.");var E=_.charset||t.charset;if(typeof _.charset!=="undefined"&&_.charset!=="utf-8"&&_.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var A=BT.default;if(typeof _.format!=="undefined"){if(!LR.call(BT.formatters,_.format))throw new TypeError("Unknown format option provided.");A=_.format}var C=BT.formatters[A],L=t.filter;if(typeof _.filter==="function"||I_(_.filter))L=_.filter;var Q;if(_.arrayFormat in v0)Q=_.arrayFormat;else if("indices"in _)Q=_.indices?"indices":"repeat";else Q=t.arrayFormat;if("commaRoundTrip"in _&&typeof _.commaRoundTrip!=="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var H=typeof _.allowDots==="undefined"?_.encodeDotInKeys===!0?!0:t.allowDots:!!_.allowDots;return{addQueryPrefix:typeof _.addQueryPrefix==="boolean"?_.addQueryPrefix:t.addQueryPrefix,allowDots:H,allowEmptyArrays:typeof _.allowEmptyArrays==="boolean"?!!_.allowEmptyArrays:t.allowEmptyArrays,arrayFormat:Q,charset:E,charsetSentinel:typeof _.charsetSentinel==="boolean"?_.charsetSentinel:t.charsetSentinel,commaRoundTrip:!!_.commaRoundTrip,delimiter:typeof _.delimiter==="undefined"?t.delimiter:_.delimiter,encode:typeof _.encode==="boolean"?_.encode:t.encode,encodeDotInKeys:typeof _.encodeDotInKeys==="boolean"?_.encodeDotInKeys:t.encodeDotInKeys,encoder:typeof _.encoder==="function"?_.encoder:t.encoder,encodeValuesOnly:typeof _.encodeValuesOnly==="boolean"?_.encodeValuesOnly:t.encodeValuesOnly,filter:L,format:A,formatter:C,serializeDate:typeof _.serializeDate==="function"?_.serializeDate:t.serializeDate,skipNulls:typeof _.skipNulls==="boolean"?_.skipNulls:t.skipNulls,sort:typeof _.sort==="function"?_.sort:null,strictNullHandling:typeof _.strictNullHandling==="boolean"?_.strictNullHandling:t.strictNullHandling}};m0.exports=function(T,_){var E=T,A=QR(_),C,L;if(typeof A.filter==="function")L=A.filter,E=L("",E);else if(I_(A.filter))L=A.filter,C=L;var Q=[];if(typeof E!=="object"||E===null)return"";var H=v0[A.arrayFormat],Z=H==="comma"&&A.commaRoundTrip;if(!C)C=Object.keys(E);if(A.sort)C.sort(A.sort);var z=k0();for(var q=0;q<C.length;++q){var V=C[q],J=E[V];if(A.skipNulls&&J===null)continue;b0(Q,FR(J,V,H,Z,A.allowEmptyArrays,A.strictNullHandling,A.skipNulls,A.encodeDotInKeys,A.encode?A.encoder:null,A.filter,A.sort,A.allowDots,A.serializeDate,A.format,A.formatter,A.encodeValuesOnly,A.charset,z))}var X=Q.join(A.delimiter),x=A.addQueryPrefix===!0?"?":"";if(A.charsetSentinel)if(A.charset==="iso-8859-1")x+="utf8=%26%2310003%3B&";else x+="utf8=%E2%9C%93&";return X.length>0?x+X:""}});var y0=c((FW,j0)=>{var u_=SE(),GE=Object.prototype.hasOwnProperty,u0=Array.isArray,n={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:u_.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1000,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},UR=function(T){return T.replace(/&#(\d+);/g,function(_,E){return String.fromCharCode(parseInt(E,10))})},g0=function(T,_,E){if(T&&typeof T==="string"&&_.comma&&T.indexOf(",")>-1)return T.split(",");if(_.throwOnLimitExceeded&&E>=_.arrayLimit)throw new RangeError("Array limit exceeded. Only "+_.arrayLimit+" element"+(_.arrayLimit===1?"":"s")+" allowed in an array.");return T},HR="utf8=%26%2310003%3B",XR="utf8=%E2%9C%93",JR=function T(_,E){var A={__proto__:null},C=E.ignoreQueryPrefix?_.replace(/^\?/,""):_;C=C.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var L=E.parameterLimit===1/0?void 0:E.parameterLimit,Q=C.split(E.delimiter,E.throwOnLimitExceeded?L+1:L);if(E.throwOnLimitExceeded&&Q.length>L)throw new RangeError("Parameter limit exceeded. Only "+L+" parameter"+(L===1?"":"s")+" allowed.");var H=-1,Z,z=E.charset;if(E.charsetSentinel){for(Z=0;Z<Q.length;++Z)if(Q[Z].indexOf("utf8=")===0){if(Q[Z]===XR)z="utf-8";else if(Q[Z]===HR)z="iso-8859-1";H=Z,Z=Q.length}}for(Z=0;Z<Q.length;++Z){if(Z===H)continue;var q=Q[Z],V=q.indexOf("]="),J=V===-1?q.indexOf("="):V+1,X,x;if(J===-1)X=E.decoder(q,n.decoder,z,"key"),x=E.strictNullHandling?null:"";else X=E.decoder(q.slice(0,J),n.decoder,z,"key"),x=u_.maybeMap(g0(q.slice(J+1),E,u0(A[X])?A[X].length:0),function(k){return E.decoder(k,n.decoder,z,"value")});if(x&&E.interpretNumericEntities&&z==="iso-8859-1")x=UR(String(x));if(q.indexOf("[]=")>-1)x=u0(x)?[x]:x;var w=GE.call(A,X);if(w&&E.duplicates==="combine")A[X]=u_.combine(A[X],x);else if(!w||E.duplicates==="last")A[X]=x}return A},DR=function(T,_,E,A){var C=0;if(T.length>0&&T[T.length-1]==="[]"){var L=T.slice(0,-1).join("");C=Array.isArray(_)&&_[L]?_[L].length:0}var Q=A?_:g0(_,E,C);for(var H=T.length-1;H>=0;--H){var Z,z=T[H];if(z==="[]"&&E.parseArrays)Z=E.allowEmptyArrays&&(Q===""||E.strictNullHandling&&Q===null)?[]:u_.combine([],Q);else{Z=E.plainObjects?{__proto__:null}:{};var q=z.charAt(0)==="["&&z.charAt(z.length-1)==="]"?z.slice(1,-1):z,V=E.decodeDotInKeys?q.replace(/%2E/g,"."):q,J=parseInt(V,10);if(!E.parseArrays&&V==="")Z={0:Q};else if(!isNaN(J)&&z!==V&&String(J)===V&&J>=0&&(E.parseArrays&&J<=E.arrayLimit))Z=[],Z[J]=Q;else if(V!=="__proto__")Z[V]=Q}Q=Z}return Q},qR=function T(_,E,A,C){if(!_)return;var L=A.allowDots?_.replace(/\.([^.[]+)/g,"[$1]"):_,Q=/(\[[^[\]]*])/,H=/(\[[^[\]]*])/g,Z=A.depth>0&&Q.exec(L),z=Z?L.slice(0,Z.index):L,q=[];if(z){if(!A.plainObjects&&GE.call(Object.prototype,z)){if(!A.allowPrototypes)return}q.push(z)}var V=0;while(A.depth>0&&(Z=H.exec(L))!==null&&V<A.depth){if(V+=1,!A.plainObjects&&GE.call(Object.prototype,Z[1].slice(1,-1))){if(!A.allowPrototypes)return}q.push(Z[1])}if(Z){if(A.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+A.depth+" and strictDepth is true");q.push("["+L.slice(Z.index)+"]")}return DR(q,E,A,C)},BR=function T(_){if(!_)return n;if(typeof _.allowEmptyArrays!=="undefined"&&typeof _.allowEmptyArrays!=="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof _.decodeDotInKeys!=="undefined"&&typeof _.decodeDotInKeys!=="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(_.decoder!==null&&typeof _.decoder!=="undefined"&&typeof _.decoder!=="function")throw new TypeError("Decoder has to be a function.");if(typeof _.charset!=="undefined"&&_.charset!=="utf-8"&&_.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof _.throwOnLimitExceeded!=="undefined"&&typeof _.throwOnLimitExceeded!=="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var E=typeof _.charset==="undefined"?n.charset:_.charset,A=typeof _.duplicates==="undefined"?n.duplicates:_.duplicates;if(A!=="combine"&&A!=="first"&&A!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var C=typeof _.allowDots==="undefined"?_.decodeDotInKeys===!0?!0:n.allowDots:!!_.allowDots;return{allowDots:C,allowEmptyArrays:typeof _.allowEmptyArrays==="boolean"?!!_.allowEmptyArrays:n.allowEmptyArrays,allowPrototypes:typeof _.allowPrototypes==="boolean"?_.allowPrototypes:n.allowPrototypes,allowSparse:typeof _.allowSparse==="boolean"?_.allowSparse:n.allowSparse,arrayLimit:typeof _.arrayLimit==="number"?_.arrayLimit:n.arrayLimit,charset:E,charsetSentinel:typeof _.charsetSentinel==="boolean"?_.charsetSentinel:n.charsetSentinel,comma:typeof _.comma==="boolean"?_.comma:n.comma,decodeDotInKeys:typeof _.decodeDotInKeys==="boolean"?_.decodeDotInKeys:n.decodeDotInKeys,decoder:typeof _.decoder==="function"?_.decoder:n.decoder,delimiter:typeof _.delimiter==="string"||u_.isRegExp(_.delimiter)?_.delimiter:n.delimiter,depth:typeof _.depth==="number"||_.depth===!1?+_.depth:n.depth,duplicates:A,ignoreQueryPrefix:_.ignoreQueryPrefix===!0,interpretNumericEntities:typeof _.interpretNumericEntities==="boolean"?_.interpretNumericEntities:n.interpretNumericEntities,parameterLimit:typeof _.parameterLimit==="number"?_.parameterLimit:n.parameterLimit,parseArrays:_.parseArrays!==!1,plainObjects:typeof _.plainObjects==="boolean"?_.plainObjects:n.plainObjects,strictDepth:typeof _.strictDepth==="boolean"?!!_.strictDepth:n.strictDepth,strictNullHandling:typeof _.strictNullHandling==="boolean"?_.strictNullHandling:n.strictNullHandling,throwOnLimitExceeded:typeof _.throwOnLimitExceeded==="boolean"?_.throwOnLimitExceeded:!1}};j0.exports=function(T,_){var E=BR(_);if(T===""||T===null||typeof T==="undefined")return E.plainObjects?{__proto__:null}:{};var A=typeof T==="string"?JR(T,E):T,C=E.plainObjects?{__proto__:null}:{},L=Object.keys(A);for(var Q=0;Q<L.length;++Q){var H=L[Q],Z=qR(H,A[H],E,typeof T==="string");C=u_.merge(C,Z,E)}if(E.allowSparse===!0)return C;return u_.compact(C)}});var n0=c((QW,l0)=>{var zR=M0(),SR=y0(),wR=uT();l0.exports={formats:wR,parse:SR,stringify:zR}});var E5=VT(NT(),1);var kE={};DC(kE,{zodSchemaKey:()=>fT,webSocketServerArgsKey:()=>q_,webSocketMessageArgsKey:()=>RT,webSocketKey:()=>D_,webSocketEventKey:()=>v_,webSocketEventArgumentsKey:()=>W_,webSocketConnectionArgsKey:()=>B_,webSocketCloseReasonArgsKey:()=>WT,webSocketCloseCodeArgsKey:()=>LT,routeModelArgsKey:()=>E_,responseHeadersArgsKey:()=>Y_,responseBodyArgsKey:()=>R_,requestHeadersArgsKey:()=>U_,requestHeaderArgsKey:()=>z_,requestBodyArgsKey:()=>S_,requestArgsKey:()=>G_,queryArgsKey:()=>YT,paramsArgsKey:()=>T_,paramArgsKey:()=>w_,moduleKey:()=>i_,middlewareKey:()=>k_,injectableKey:()=>c_,injectKey:()=>s_,httpServerArgsKey:()=>zC,guardKey:()=>P_,dispatcherKey:()=>O_,controllerKey:()=>J_,controllerHttpKey:()=>p_,contextArgsKey:()=>V_,containerKey:()=>BC,configKey:()=>sT,argumentsKey:()=>y});var y=Symbol("__bool:arguments__"),W_=Symbol("__bool:webSocketEventArguments__"),sT=Symbol("__bool:config__"),J_=Symbol("__bool:controller__"),O_=Symbol("__bool:dispatcher__"),P_=Symbol("__bool:guard__"),p_=Symbol("__bool:controller.http__"),s_=Symbol("__bool:inject__"),c_=Symbol("__bool:injectable__"),k_=Symbol("__bool:middleware__"),i_=Symbol("__bool:module__"),BC=Symbol("__bool:container__"),fT=Symbol("__bool:zodSchema__"),D_=Symbol("__bool:webSocket__"),v_=Symbol("__bool:webSocket:event__"),q_=Symbol("__bool:webSocketArguments:server__"),B_=Symbol("__bool:webSocketArguments:connection__"),RT=Symbol("__bool:webSocketArguments:message__"),LT=Symbol("__bool:webSocketArguments:closeCode__"),WT=Symbol("__bool:webSocketArguments:closeReason__"),zC=Symbol("__bool:httpArguments:server__"),U_=Symbol("__bool:httpArguments:requestHeaders__"),z_=Symbol("__bool:httpArguments:requestHeader__"),S_=Symbol("__bool:httpArguments:requestBody__"),T_=Symbol("__bool:httpArguments:params__"),w_=Symbol("__bool:httpArguments:param__"),YT=Symbol("__bool:httpArguments:query__"),G_=Symbol("__bool:httpArguments:request__"),Y_=Symbol("__bool:httpArguments:responseHeaders__"),V_=Symbol("__bool:httpArguments:context__"),E_=Symbol("__bool:httpArguments:routeModel__"),R_=Symbol("__bool:httpArguments:responseBody__");var SC=(T)=>(_,E,A)=>{if(!E)return;let C=Reflect.getOwnMetadata(y,_.constructor,E)||{};C[`argumentIndexes.${A}`]={index:A,type:U_,zodSchema:T},Reflect.defineMetadata(y,C,_.constructor,E)},wC=(T,_)=>(E,A,C)=>{if(!A)return;let L=Reflect.getOwnMetadata(y,E.constructor,A)||{};L[`argumentIndexes.${C}`]={index:C,type:z_,key:T,zodSchema:_},Reflect.defineMetadata(y,L,E.constructor,A)},GC=(T,_)=>(E,A,C)=>{if(!A)return;let L=Reflect.getOwnMetadata(y,E.constructor,A)||{};L[`argumentIndexes.${C}`]={index:C,type:S_,zodSchema:T,parser:_},Reflect.defineMetadata(y,L,E.constructor,A)},VC=(T)=>(_,E,A)=>{if(!E)return;let C=Reflect.getOwnMetadata(y,_.constructor,E)||{};C[`argumentIndexes.${A}`]={index:A,type:T_,zodSchema:T},Reflect.defineMetadata(y,C,_.constructor,E)},NC=(T,_)=>(E,A,C)=>{if(!A)return;let L=Reflect.getOwnMetadata(y,E.constructor,A)||{};L[`argumentIndexes.${C}`]={index:C,type:w_,key:T,zodSchema:_},Reflect.defineMetadata(y,L,E.constructor,A)},fC=(T)=>(_,E,A)=>{if(!E)return;let C=Reflect.getOwnMetadata(y,_.constructor,E)||{};C[`argumentIndexes.${A}`]={index:A,type:YT,zodSchema:T},Reflect.defineMetadata(y,C,_.constructor,E)},IC=(T)=>(_,E,A)=>{if(!E)return;let C=Reflect.getOwnMetadata(y,_.constructor,E)||{};C[`argumentIndexes.${A}`]={index:A,type:G_,zodSchema:T},Reflect.defineMetadata(y,C,_.constructor,E)},xC=()=>(T,_,E)=>{if(!_)return;let A=Reflect.getOwnMetadata(y,T.constructor,_)||{};A[`argumentIndexes.${E}`]={index:E,type:Y_},Reflect.defineMetadata(y,A,T.constructor,_)},$C=(T)=>(_,E,A)=>{if(!E)return;let C=Reflect.getOwnMetadata(y,_.constructor,E)||{};C[`argumentIndexes.${A}`]={index:A,type:V_,key:T},Reflect.defineMetadata(y,C,_.constructor,E)},KC=()=>(T,_,E)=>{if(!_)return;let A=Reflect.getOwnMetadata(y,T.constructor,_)||{};A[`argumentIndexes.${E}`]={index:E,type:E_},Reflect.defineMetadata(y,A,T.constructor,_)};var hC=(T)=>(_)=>{let E={prefix:!T?.startsWith("/")?`/${T||""}`:T,httpMetadata:[...Reflect.getOwnMetadata(p_,_)||[]]};Reflect.defineMetadata(J_,E,_)};var OC=()=>(T)=>{Reflect.defineMetadata(O_,void 0,T)};var PC=()=>(T)=>{if(!("enforce"in T.prototype)||typeof T.prototype.enforce!=="function")return;let _=void 0;Reflect.defineMetadata(P_,_,T)};var o_=(T,_)=>(E,A,C)=>{if(!(C?.value instanceof Function))throw Error(`${_} decorator only use for class method.`);let L=Reflect.getOwnMetadata(y,E.constructor,A)||{},Q=[...Reflect.getOwnMetadata(p_,E.constructor)||[],{path:!T.startsWith("/")?`/${T}`:T,httpMethod:_.toUpperCase(),methodName:A,descriptor:C,argumentsMetadata:L}];Reflect.defineMetadata(p_,Q,E.constructor)},cC=(T="/")=>o_(T,"Get"),kC=(T="/")=>o_(T,"Post"),vC=(T="/")=>o_(T,"Put"),bC=(T="/")=>o_(T,"Patch"),mC=(T="/")=>o_(T,"Delete"),MC=(T="/")=>o_(T,"Options");var uC=(T)=>{return(_,E,A)=>{let C=Reflect.getMetadata(s_,_)||[];C[A]=T,Reflect.defineMetadata(s_,C,_)}};var gC=()=>(T)=>Reflect.defineMetadata(c_,void 0,T);var jC=()=>(T)=>{Reflect.defineMetadata(k_,void 0,T)};var yC=(T)=>(_)=>{let{middlewares:E,guards:A,dispatchers:C,controllers:L,dependencies:Q,webSockets:H}=T||{};if(E){for(let Z=0;Z<E.length;Z++)if(!Reflect.getOwnMetadataKeys(E[Z]).includes(k_))throw Error(`${E[Z].name} is not a middleware.`)}if(A){for(let Z=0;Z<A.length;Z++)if(!Reflect.getOwnMetadataKeys(A[Z]).includes(P_))throw Error(`${A[Z].name} is not a guard.`)}if(C){for(let Z=0;Z<C.length;Z++)if(!Reflect.getOwnMetadataKeys(C[Z]).includes(O_))throw Error(`${C[Z].name} is not a dispatcher.`)}if(L){for(let Z=0;Z<L.length;Z++)if(!Reflect.getOwnMetadataKeys(L[Z]).includes(J_))throw Error(`${L[Z].name} is not a controller.`)}if(Q){for(let Z=0;Z<Q.length;Z++)if(!Reflect.getOwnMetadataKeys(Q[Z]).includes(c_))throw Error(`${Q[Z].name} is not an injectable.`)}if(H){for(let Z=0;Z<H.length;Z++)if(!Reflect.getOwnMetadataKeys(H[Z]).includes(D_))throw Error(`${H[Z].name} is not a websocket gateway.`)}Reflect.defineMetadata(i_,T,_)};var IT=Symbol("__bool:webSocket.upgrade__"),lC=(T,_,E)=>{let A=new URL(_.url);return T.upgrade(_,{data:{method:_.method.toUpperCase(),pathname:A.pathname,query:E}})},nC=(T)=>(_)=>{let{prefix:E}=T||{};_.prototype[IT]=lC;let A=Object.getOwnPropertyDescriptor(_.prototype,IT),C=!A?[]:[{path:"/",httpMethod:"GET",methodName:IT,descriptor:A,argumentsMetadata:{}},{path:"/",httpMethod:"POST",methodName:IT,descriptor:A,argumentsMetadata:{}}],L={prefix:!E?.startsWith("/")?`/${E||""}`:E,events:Reflect.getOwnMetadata(v_,_)||{},http:C};Reflect.defineMetadata(D_,L,_)};var dC=()=>(T,_,E)=>{if(!_)return;let A=Reflect.getOwnMetadata(W_,T.constructor,_)||{};A[`argumentIndexes.${E}`]={index:E,type:B_},Reflect.defineMetadata(W_,A,T.constructor,_)},pC=()=>(T,_,E)=>{if(!_)return;let A=Reflect.getOwnMetadata(W_,T.constructor,_)||{};A[`argumentIndexes.${E}`]={index:E,type:q_},Reflect.defineMetadata(W_,A,T.constructor,_)},sC=()=>(T,_,E)=>{if(!_)return;let A=Reflect.getOwnMetadata(W_,T.constructor,_)||{};A[`argumentIndexes.${E}`]={index:E,type:LT},Reflect.defineMetadata(W_,A,T.constructor,_)},iC=()=>(T,_,E)=>{if(!_)return;let A=Reflect.getOwnMetadata(W_,T.constructor,_)||{};A[`argumentIndexes.${E}`]={index:E,type:WT},Reflect.defineMetadata(W_,A,T.constructor,_)};var oC=(T)=>(_,E,A)=>{if(!(A.value instanceof Function))throw Error("WebSocketEvent decorator only use for class's method.");let C=Reflect.getOwnMetadata(W_,_.constructor,E),L=Object.freeze({methodName:E,descriptor:A,arguments:C}),Q={...Reflect.getOwnMetadata(v_,_.constructor)||void 0,[T]:L};Reflect.defineMetadata(v_,L,_.constructor,E),Reflect.defineMetadata(v_,Q,_.constructor)};var rC=(T)=>{return(_,E,A)=>{if(!E)return;let C=Reflect.getOwnMetadata(fT,_.constructor,E)||{};C[`paramterIndexes.${A}`]={index:A,schema:T},Reflect.defineMetadata(fT,C,_.constructor,E)}};var dW=VT(NT(),1),t0=VT(n0(),1);var Z_;(function(T){T.year="year",T.month="month",T.day="day",T.hours="hours",T.minutes="minutes",T.seconds="seconds",T.miliseconds="miliseconds"})(Z_||(Z_={}));var d0=(T,_,E=Z_.day)=>{let A=T instanceof Date?T:new Date(T);switch(E){case Z_.year:A.setFullYear(A.getFullYear()+_);break;case Z_.month:A.setMonth(A.getMonth()+_);break;case Z_.day:A.setDate(A.getDate()+_);break;case Z_.hours:A.setHours(A.getHours()+_);break;case Z_.minutes:A.setMinutes(A.getMinutes()+_);break;case Z_.seconds:A.setSeconds(A.getSeconds()+_);break;case Z_.miliseconds:A.setMilliseconds(A.getMilliseconds()+_);break}return A};class x_{static rootPattern=":([a-z0-9A-Z_-]{1,})";static innerRootPattern="([a-z0-9A-Z_-]{1,})";alias;_map=new Map;constructor(T){this.alias=this._thinAlias(T)}test(T,_){try{let E=this._map.get(_),A=this.alias.split("/"),C=this._thinAlias(T).split("/");if(!E)return;if(A.length!==C.length)return;let L=Object(),Q=this.alias.replace(new RegExp(x_.rootPattern,"g"),x_.innerRootPattern);if(!new RegExp(Q).test(this._thinAlias(T)))return;for(let H=0;H<A.length;H++){let Z=A[H],z=C[H];if(!new RegExp(x_.rootPattern,"g").test(Z)){if(Z!==z)return}else{let q=!1;if(Z.replace(new RegExp(x_.rootPattern,"g"),(V,J,X)=>{if(X===0)z.replace(new RegExp(x_.innerRootPattern,"g"),(x,w,k)=>{if(k===0)Object.assign(L,{[J]:x});return x});return V}),q)return}continue}return Object.freeze({parameters:L,model:E})}catch(E){return console.error(E),!1}}isMatch(T,_){try{if(!this._map.get(_))return;let A=this.alias.split("/"),C=this._thinAlias(T).split("/");if(A.length!==C.length)return!1;let L=Object();for(let Q=0;Q<A.length;Q++){let H=A[Q],Z=C[Q];if(!new RegExp(x_.rootPattern,"g").test(H)){if(H!==Z)return!1}else{let z=!1;if(H.replace(new RegExp(x_.rootPattern,"g"),(q,V,J)=>{if(!new RegExp(J,"g").test(Z))z=!0;else Object.assign(L,{[V]:Z});return""}),z)return!1}continue}return!0}catch(E){console.error(E);return}}get(T){if(!this._map.get("GET"))this._map.set("GET",T);return this}post(T){if(!this._map.get("POST"))this._map.set("POST",T);return this}put(T){if(!this._map.get("PUT"))this._map.set("PUT",T);return this}delete(T){if(!this._map.get("DELETE"))this._map.set("DELETE",T);return this}connect(T){if(!this._map.get("CONNECT"))return this._map.set("CONNECT",T);return this}options(T){if(!this._map.get("OPTIONS"))return this._map.set("OPTIONS",T);return this}trace(T){if(!this._map.get("TRACE"))return this._map.set("TRACE",T);return this}patch(T){if(!this._map.get("PATCH"))return this._map.set("PATCH",T);return this}_thinAlias(T){return T.replace(new RegExp("[/]{2,}","g"),"/").replace(new RegExp("^[/]|[/]$","g"),"")}get _fullPath(){return this.alias.split("/").map((E,A)=>{let C=new RegExp(":([a-z0-9A-Z_.-]{1,})(\\(.*?\\))","g");if(!C.test(E)){if(C=new RegExp(":([a-z0-9A-Z_.-]{1,})","g"),!C.test(E))return E;return E.replace(C,(L,Q)=>`${L}(.*?)`)}return E}).join("/")}get _filteredPath(){return this.alias.split("/").map((E,A)=>{let C=new RegExp(":([a-z0-9A-Z_.-]{1,})((.*?))","g");if(!C.test(E)){if(C=new RegExp(":([a-z0-9A-Z_.-]{1,})","g"),!C.test(E))return E;return E.replace(C,(L,Q)=>"(.*?)")}return E.replace(C,(L,Q,H)=>H)}).join("/")}}var p0=x_;class zT{alias;_routes=new Map;constructor(T){this.alias=this._thinAlias(T)}route(T){let _=this._thinAlias(`${this.alias}/${T}`),E=this._routes.get(_),A=!E?new p0(`${this.alias}/${T}`):E;if(!E)this._routes.set(_,A);return A}_thinAlias(T){return T.replace(new RegExp("[/]{2,}","g"),"/").replace(new RegExp("^[/]|[/]$","g"),"")}get routes(){return this._routes}}class ST{_routers=new Map;add(...T){for(let _=0;_<T.length;_++){if(this._routers.has(T[_].alias))continue;this._routers.set(T[_].alias,T[_])}return this}find(T,_){for(let E of[...this._routers.values()])for(let A of E.routes.values()){let C=A.test(T,_);if(!C)continue;return C}return}}class jT{eventName;metadata;_context=void 0;constructor({eventName:T,metadata:_}){this.eventName=T,this.metadata=_}bind(T){return this._context=T,this}execute(){return Object.freeze({methodName:this.metadata.methodName,descriptor:!this._context||typeof this.metadata.descriptor.value!=="function"?this.metadata.descriptor:this.metadata.descriptor.value.bind(this._context),arguments:this.metadata.arguments})}}class wT{rawAlias;alias;routes=[];constructor(T="/"){this.rawAlias=T;this.alias=wT.thinAlias(T)}addRoutes(...T){for(let _ of T)if(!this.routes.includes(_))this.routes.push(_);return this}bind(T){for(let _ of this.routes)_.bind(T);return this}execute(){let T=new Map;for(let _ of this.routes)T.set(`${this.alias}:::${_.eventName}`,_.execute());return T}static thinAlias(T){return T.replace(new RegExp("[/]{2,}","g"),"/").replace(new RegExp("^[/]|[/]$","g"),"")}}class ET{rawPrefix;prefix;routers=[];constructor(T="/"){this.rawPrefix=T;this.prefix=ET.thinPrefix(T)}addRouters(...T){for(let _=0;_<T.length;_++)if(!this.routers.includes(T[_]))this.routers.push(T[_]);for(let _ of T)if(!this.routers.includes(_))this.routers.push(_);return this}execute(){let T=new Map;for(let _ of this.routers){let E=_.execute();for(let[A,C]of E.entries())T.set(`/${ET.thinPrefix(`${this.prefix}/${A}`)}`,C)}return T}static thinPrefix(T){return T.replace(new RegExp("[/]{2,}","g"),"/").replace(new RegExp("^[/]|[/]$","g"),"")}}var GR=Object.freeze({400:"BAD_REQUEST",401:"UNAUTHORIZED",402:"PAYMENT_REQUIRED",403:"FORBIDDEN",404:"NOT_FOUND",405:"METHOD_NOT_ALLOWED",406:"NOT_ACCEPTABLE",407:"PROXY_AUTHENCATION_REQUIRED",408:"REQUEST_TIMEOUT",409:"CONFLICT",410:"GONE",411:"LENGTH_REQUIRED",412:"PRECONDITION_FAILED",413:"PAYLOAD_TOO_LARGE",414:"URI_TOO_LONG",415:"UNSUPPORTED_MEDIA_TYPE",416:"RANGE_NOT_SATISFIABLE",417:"EXPECTATION_FAILED",418:"IM_A_TEAPOT",421:"MISDIRECTED_REQUEST",422:"UNPROCESSABLE_ENTITY",423:"LOCKED",424:"FAILED_DEPENDENCY",425:"TOO_EARLY_",426:"UPGRAGE_REQUIRED",428:"PRECONDITION_REQUIRED",429:"TOO_MANY_REQUESTS",431:"REQUEST_HEADER_FIELDS_TOO_LARGE",451:"UNAVAILABLE_FOR_LEGAL_REASONS"});class g_ extends Error{httpCode;message;data;constructor({httpCode:T,data:_,message:E}){super();this.httpCode=T,this.message=!E?.trim()?GR[T]:E.trim(),this.data=_}}var VR=Object.freeze({500:"INTERNAL_SERVER_ERROR",501:"NOT_IMPLEMENTED",502:"BAD_GATEWAY",503:"SERVICE_UNAVAILABLE",504:"GATEWAY_TIMEOUT",505:"HTTP_VERSION_NOT_SUPPORTED",506:"VARIANT_ALSO_NEGOTIATES",507:"INSUFFICIENT_STORAGE",508:"LOOP_DETECTED",510:"NOT_EXTENDED",511:"NETWORK_AUTHENTICATION_REQUIRED"});class GT extends Error{httpCode;message;data;constructor({httpCode:T,data:_,message:E}){super();this.httpCode=T,this.message=!E?.trim()?VR[T]:E.trim(),this.data=_}}var s0=(T,_=new Headers)=>{if(_.set("Content-Type","application/json"),T instanceof g_||T instanceof GT)return new Response(JSON.stringify(T),{status:T.httpCode,statusText:T.message,headers:_});return new Response(JSON.stringify((()=>{switch(typeof T){case"object":return!(T instanceof Error)?T:{message:T.message,code:T.name,cause:T.cause};case"string":return{message:T};case"number":return{code:T};default:return}})()),{status:500,statusText:"INTERNAL SERVER ERROR",headers:_})};var kW=async function(){}.constructor;var i0=Object.freeze({black:30,red:31,green:32,yellow:33,blue:34,magenta:35,cyan:36,white:37,gray:90}),o0=Object.freeze({black:40,red:41,green:42,yellow:43,blue:44,magenta:45,cyan:46,white:47,gray:100}),j_=(T,_={})=>{let{color:E,backgroundColor:A,bold:C,underline:L}=_,Q="";if(C)Q+="\x1B[1m";if(L)Q+="\x1B[4m";if(E&&i0[E])Q+=`\x1B[${i0[E]}m`;if(A&&o0[A])Q+=`\x1B[${o0[A]}m`;return`${Q}${T}\x1B[0m`};var r0=(T)=>{let{headers:_,method:E}=T,A=_.get("upgrade")?.toLowerCase()||"",C=_.get("connection")?.toLowerCase()||"";return E==="GET"&&A?.toLowerCase()==="websocket"&&C?.toLowerCase().includes("upgrade")};var yW=VT(NT(),1);class yT{_mapper=new Map;get(T){if(this._mapper.has(T))return this._mapper.get(T);if(typeof T!=="function")return;let _=Reflect.getMetadataKeys(T);if(![c_,J_,k_,P_,O_,D_].some((L)=>_.includes(L)))throw Error("Missing dependency declaration, please check @Injectable() used on dependency(ies).");let A=(Reflect.getOwnMetadata(s_,T)||[]).map((L)=>this.get(L)),C=new T(...A);return this._mapper.set(T,C),C}set(T,_){this._mapper.set(T,_)}}var NR=900,L_=(T)=>{return T.headers.set("X-Powered-By","Bool Typescript"),T},fR=({controllerConstructor:T,httpRouterGroup:_,injector:E,prefix:A})=>{if(!Reflect.getOwnMetadataKeys(T).includes(J_))throw Error(`${T.name} is not a controller.`);let C=E.get(T);if(!C)throw Error("Can not initialize controller.");let L=Reflect.getOwnMetadata(J_,T)||{prefix:"/",httpMetadata:[]},Q=new zT(`/${A||""}/${L.prefix}`);return L.httpMetadata.forEach((H)=>{if(typeof H.descriptor.value!=="function")return;let Z=Q.route(H.path),z=H.descriptor.value.bind(C),q=Object.freeze({class:T,funcName:H.methodName,func:z,argumentsMetadata:H.argumentsMetadata});switch(H.httpMethod){case"GET":return Z.get(q);case"POST":return Z.post(q);case"PUT":return Z.put(q);case"PATCH":return Z.patch(q);case"DELETE":return Z.delete(q);case"OPTIONS":return Z.options(q)}}),_.add(Q)},IR=({injector:T,httpRouterGroup:_,prefix:E,webSocketRouterGroup:A,webSocketConstructor:C})=>{if(!Reflect.getOwnMetadataKeys(C).includes(D_))throw Error(`${C.name} is not a controller.`);let L=T.get(C);if(!L)throw Error("Can not initialize webSocket.");let Q=Reflect.getOwnMetadata(D_,C)||{prefix:"/",events:[],http:[]},H=`/${E||""}/${Q.prefix}`,Z=new zT(H);for(let[q,V]of Object.entries(Q.http)){if(typeof V.descriptor?.value!=="function")continue;let J=Z.route(V.path),X=V.descriptor.value.bind(L),x=Object.freeze({class:C,funcName:V.methodName,func:X,argumentsMetadata:V.argumentsMetadata});switch(V.httpMethod){case"GET":J.get(x);break;case"POST":J.post(x);break}}_.add(Z);let z=new wT(H);for(let[q,V]of Object.entries(Q.events)){let J=new jT({eventName:q,metadata:V});z.addRoutes(J)}return z.bind(L),A.addRouters(z),Object.freeze({httpRouterGroup:_,webSocketRouterGroup:A})},j=async(T,_,E,A)=>{try{let C=await _.safeParseAsync(T);if(!C.success)throw new g_({httpCode:400,message:`Validation at the [${A.toString()}] method fails at positional argument [${E}].`,data:C.error.issues});return C.data}catch(C){if(C instanceof g_)throw C;throw new GT({httpCode:500,message:`Validation at the [${A.toString()}] method error at positional argument [${E}].`,data:!(C instanceof Error)?C:[{message:C.message,code:C.name,cause:C.cause}]})}},xR=async(T,_)=>{if(!Reflect.getOwnMetadataKeys(T).includes(i_))throw Error(`${T.name} is not a module.`);let E=new yT,A=Reflect.getOwnMetadata(i_,T);if(!A)return;let{loaders:C,middlewares:L,guards:Q,dispatchers:H,controllers:Z,dependencies:z,webSockets:q,prefix:V,config:J}=A,X=`${_.prefix||""}/${V||""}`,{config:x}=Object.freeze({config:{...typeof _.config!=="function"?_.config:await _.config(),...typeof J!=="function"?typeof J!=="object"?void 0:J:await J()}});if(E.set(sT,x),C){let K=[];for(let[R,N]of Object.entries(C))K.push(async()=>{try{let d=await N({config:x});return console.info(`${j_(" INFO ",{color:"white",backgroundColor:"blue",bold:!0})} Loader [${R}] initialized successfully.`),d}catch(d){throw console.error(`${j_(" WARN ",{color:"yellow",backgroundColor:"red",bold:!0})} Loader [${R}] initialization failed.`),_.debug&&console.error(d),d}});let O=await Promise.all(K.map((R)=>R()));for(let R=0;R<O.length;R++){let[N,d]=O[R];E.set(N,d)}}!z||z.map((K)=>E.get(K));let w=[],k=[];L&&L.forEach((K)=>{let O=E.get(K);if(O.start&&typeof O.start==="function"){let R=Reflect.getOwnMetadata(y,K,"start")||{};w.push(Object.freeze({class:K,funcName:"start",func:O.start.bind(O),argumentsMetadata:R}))}if(O.end&&typeof O.end==="function"){let R=Reflect.getOwnMetadata(y,K,"start")||{};k.push(Object.freeze({class:K,funcName:"end",func:O.end.bind(O),argumentsMetadata:R}))}});let m=!Q?[]:Q.map((K)=>{let O=E.get(K),R=Reflect.getOwnMetadata(y,K,"enforce")||{};return Object.freeze({class:K,funcName:"enforce",func:O.enforce.bind(O),argumentsMetadata:R})}),v=[],D=[];H&&H.forEach((K)=>{let O=E.get(K);if(O.open&&typeof O.open==="function"){let R=Reflect.getOwnMetadata(y,K,"open")||{};v.push(Object.freeze({class:K,funcName:"open",func:O.open.bind(O),argumentsMetadata:R}))}if(O.close&&typeof O.close==="function"){let R=Reflect.getOwnMetadata(y,K,"close")||{};D.push(Object.freeze({class:K,funcName:"close",func:O.close.bind(O),argumentsMetadata:R}))}});let F=new ST;Z&&Z.forEach((K)=>fR({controllerConstructor:K,httpRouterGroup:F,injector:E,prefix:X}));let b=new ST,S=new ET;return q&&q.forEach((K)=>IR({webSocketConstructor:K,httpRouterGroup:b,webSocketRouterGroup:S,injector:E,prefix:X})),Object.freeze({prefix:A.prefix,injector:E,startMiddlewareGroup:w,endMiddlewareGroup:k,guardGroup:m,openDispatcherGroup:v,closeDispatcherGroup:D,controllerRouterGroup:F,webSocketHttpRouterGroup:b,webSocketRouterGroup:S})},$R=async(T,_)=>{let{request:E,server:A}=T,{query:C,responseHeaders:L,route:{model:Q}}=_,H=await Q.func(...[A,E,C]);if(typeof H!=="boolean")return L_(new Response(JSON.stringify({httpCode:500,message:"Can not detect webSocket upgrade result.",data:void 0}),{status:500,statusText:"Internal server error.",headers:L}));if(!H)return L_(new Response(JSON.stringify({httpCode:500,message:"Can not upgrade.",data:void 0}),{status:500,statusText:"Internal server error.",headers:L}));return H},KR=async(T,_)=>{let{request:E,server:A}=T,{query:C,responseHeaders:L,route:{parameters:Q,model:H},moduleResolution:{startMiddlewareGroup:Z,endMiddlewareGroup:z,guardGroup:q,openDispatcherGroup:V,closeDispatcherGroup:J}}=_,X={[U_]:E.headers,[Y_]:L,[YT]:C,[T_]:Q,[E_]:H},x={get(D){return X[D]},set(D,F){if(D in X)throw Error(`${String(D)} already exists in context.`);X[D]=F}};for(let D=0;D<Z.length;D++){let F=[],{func:b,funcName:S,argumentsMetadata:K}=Z[D];for(let[O,R]of Object.entries(K))switch(R.type){case G_:F[R.index]=!R.zodSchema?E:await j(E,R.zodSchema,R.index,S);break;case S_:F[R.index]=!R.zodSchema?await E[R.parser||"json"]():await j(await E[R.parser||"json"](),R.zodSchema,R.index,S);break;case V_:F[R.index]=!R.key?x:x.get(R.key);break;case U_:F[R.index]=!R.zodSchema?E.headers:await j(E.headers.toJSON(),R.zodSchema,R.index,S);break;case Y_:F[R.index]=X[R.type];break;case z_:F[R.index]=!R.zodSchema?E.headers.get(R.key)||void 0:await j(E.headers.get(R.key)||void 0,R.zodSchema,R.index,S);break;case w_:F[R.index]=!R.zodSchema?X[T_][R.key]||void 0:await j(X[T_][R.key],R.zodSchema,R.index,S);break;case E_:F[R.index]=X[E_];break;default:F[R.index]=!R.zodSchema?!(R.type in X)?void 0:X[R.type]:await j(!(R.type in X)?void 0:X[R.type],R.zodSchema,R.index,S);break}if(X[R_]=await b(...F),X[R_]instanceof Response)return L_(X[R_])}for(let D=0;D<q.length;D++){let F=[],{func:b,funcName:S,argumentsMetadata:K}=q[D];for(let[R,N]of Object.entries(K))switch(N.type){case G_:F[N.index]=!N.zodSchema?E:await j(E,N.zodSchema,N.index,S);break;case S_:F[N.index]=!N.zodSchema?await E[N.parser||"json"]():await j(await E[N.parser||"json"](),N.zodSchema,N.index,S);break;case V_:F[N.index]=!N.key?x:x.get(N.key);break;case U_:F[N.index]=!N.zodSchema?E.headers:await j(E.headers.toJSON(),N.zodSchema,N.index,S);break;case Y_:F[N.index]=X[N.type];break;case z_:F[N.index]=!N.zodSchema?E.headers.get(N.key)||void 0:await j(E.headers.get(N.key)||void 0,N.zodSchema,N.index,S);break;case w_:F[N.index]=!N.zodSchema?X[T_][N.key]||void 0:await j(X[T_][N.key],N.zodSchema,N.index,S);break;case E_:F[N.index]=X[E_];break;default:F[N.index]=!N.zodSchema?X[N.type]:await j(X[N.type],N.zodSchema,N.index,S);break}let O=await b(...F);if(typeof O!=="boolean"||!O)throw new g_({httpCode:401,message:"Unauthorization.",data:void 0})}for(let D=0;D<V.length;D++){let F=[],{func:b,funcName:S,argumentsMetadata:K}=V[D];for(let[O,R]of Object.entries(K))switch(R.type){case G_:F[R.index]=!R.zodSchema?E:await j(E,R.zodSchema,R.index,S);break;case S_:F[R.index]=!R.zodSchema?await E[R.parser||"json"]():await j(await E[R.parser||"json"](),R.zodSchema,R.index,S);break;case V_:F[R.index]=!R.key?x:x.get(R.key);break;case U_:F[R.index]=!R.zodSchema?E.headers:await j(E.headers.toJSON(),R.zodSchema,R.index,S);break;case Y_:F[R.index]=X[R.type];break;case z_:F[R.index]=!R.zodSchema?E.headers.get(R.key)||void 0:await j(E.headers.get(R.key)||void 0,R.zodSchema,R.index,S);break;case w_:F[R.index]=!R.zodSchema?X[T_][R.key]||void 0:await j(X[T_][R.key],R.zodSchema,R.index,S);break;case E_:F[R.index]=X[E_];break;default:F[R.index]=!R.zodSchema?X[R.type]:await j(X[R.type],R.zodSchema,R.index,S);break}X[R_]=await b(...F)}let w=[],{func:k,funcName:m,argumentsMetadata:v}=H;for(let[D,F]of Object.entries(v))switch(F.type){case G_:w[F.index]=!F.zodSchema?E:await j(E,F.zodSchema,F.index,m);break;case S_:w[F.index]=!F.zodSchema?await E[F.parser||"json"]():await j(await E[F.parser||"json"](),F.zodSchema,F.index,m);break;case V_:w[F.index]=!F.key?x:x.get(F.key);break;case U_:w[F.index]=!F.zodSchema?E.headers:await j(E.headers.toJSON(),F.zodSchema,F.index,m);break;case Y_:w[F.index]=X[F.type];break;case z_:w[F.index]=!F.zodSchema?E.headers.get(F.key)||void 0:await j(E.headers.get(F.key)||void 0,F.zodSchema,F.index,m);break;case w_:w[F.index]=!F.zodSchema?X[T_][F.key]||void 0:await j(X[T_][F.key],F.zodSchema,F.index,m);break;case E_:w[F.index]=X[E_];break;default:w[F.index]=!F.zodSchema?X[F.type]:await j(X[F.type],F.zodSchema,F.index,m);break}X[R_]=await k(...w);for(let D=0;D<J.length;D++){let F=[],{func:b,funcName:S,argumentsMetadata:K}=J[D];for(let[O,R]of Object.entries(K))switch(R.type){case G_:F[R.index]=!R.zodSchema?E:await j(E,R.zodSchema,R.index,S);break;case S_:F[R.index]=!R.zodSchema?await E[R.parser||"json"]():await j(await E[R.parser||"json"](),R.zodSchema,R.index,S);break;case V_:F[R.index]=!R.key?x:x.get(R.key);break;case U_:F[R.index]=!R.zodSchema?E.headers:await j(E.headers.toJSON(),R.zodSchema,R.index,S);break;case Y_:F[R.index]=X[R.type];break;case z_:F[R.index]=!R.zodSchema?E.headers.get(R.key)||void 0:await j(E.headers.get(R.key)||void 0,R.zodSchema,R.index,S);break;case w_:F[R.index]=!R.zodSchema?X[T_][R.key]||void 0:await j(X[T_][R.key],R.zodSchema,R.index,S);break;case E_:F[R.index]=X[E_];break;default:F[R.index]=!R.zodSchema?X[R.type]:await j(X[R.type],R.zodSchema,R.index,S);break}await b(...F)}if(X[R_]instanceof Response)return L_(X[R_]);for(let D=0;D<z.length;D++){let F=[],{func:b,funcName:S,argumentsMetadata:K}=z[D];for(let[O,R]of Object.entries(K))switch(R.type){case G_:F[R.index]=!R.zodSchema?E:await j(E,R.zodSchema,R.index,S);break;case S_:F[R.index]=!R.zodSchema?await E[R.parser||"json"]():await j(await E[R.parser||"json"](),R.zodSchema,R.index,S);break;case V_:F[R.index]=!R.key?x:x.get(R.key);break;case U_:F[R.index]=!R.zodSchema?E.headers:await j(E.headers.toJSON(),R.zodSchema,R.index,S);break;case Y_:F[R.index]=X[R.type];break;case z_:F[R.index]=!R.zodSchema?E.headers.get(R.key)||void 0:await j(E.headers.get(R.key)||void 0,R.zodSchema,R.index,S);break;case w_:F[R.index]=!R.zodSchema?X[T_][R.key]||void 0:await j(X[T_][R.key],R.zodSchema,R.index,S);break;case E_:F[R.index]=X[E_];break;default:F[R.index]=!R.zodSchema?!(R.type in X)?void 0:X[R.type]:await j(!(R.type in X)?void 0:X[R.type],R.zodSchema,R.index,S);break}if(X[R_]=await b(...F),X[R_]instanceof Response)return L_(X[R_])}return L_(new Response(!X[R_]?void 0:JSON.stringify({httpCode:200,message:"SUCCESS",data:X[R_]}),{status:!X[R_]?204:200,statusText:"SUCCESS",headers:X[Y_]}))},hR=async(T,_)=>{try{let E=new Map,A=!Array.isArray(T)?[T]:T,{allowLogsMethods:C,staticOption:L,allowOrigins:Q,allowMethods:H,allowCredentials:Z,allowHeaders:z}=Object.freeze({allowLogsMethods:_?.log?.methods,staticOption:_.static,allowOrigins:!_.cors?.origins?["*"]:typeof _.cors.origins!=="string"?_.cors.origins.includes("*")||_.cors.origins.length<1?["*"]:_.cors.origins:[_.cors.origins!=="*"?_.cors.origins:"*"],allowMethods:_.cors?.methods||["GET","POST","PUT","PATCH","DELETE","OPTIONS"],allowCredentials:!_.cors?.credentials?!1:!0,allowHeaders:!_.cors?.headers||_.cors.headers.includes("*")?["*"]:_.cors.headers}),V=(await Promise.all(A.map((w)=>xR(w,_)))).filter((w)=>typeof w!=="undefined");if([...new Set(V.map((w)=>w.prefix))].length!==V.length)throw Error("Module prefix should be unique.");let X=new Map;for(let w of V){let k=w.webSocketRouterGroup.execute();for(let[m,v]of k.entries())X.set(m,v)}let x=Bun.serve({port:_.port,fetch:async(w,k)=>{let m=performance.now(),v=new URL(w.url),D=t0.default.parse(v.searchParams.toString(),_.queryParser),F=w.headers.get("origin")||"*",b=w.method.toUpperCase(),S=new Headers;try{let K=r0(w),O;if(K){for(let N of V){let d=N.webSocketHttpRouterGroup.find(v.pathname,w.method);if(d){O=Object.freeze({route:d,resolution:N});break}}if(!O)return L_(new Response(JSON.stringify({httpCode:404,message:"Route not found",data:void 0}),{status:404,statusText:"Not found.",headers:S}));let R=await $R({request:w,server:k},{query:D,responseHeaders:S,route:O.route,moduleResolution:O.resolution});return R instanceof Response?R:void 0}if(Z&&S.set("Access-Control-Allow-Credentials","true"),S.set("Access-Control-Allow-Methods",H.join(", ")),S.set("Access-Control-Allow-Headers",z.join(", ")),S.set("Access-Control-Allow-Origin",Q.includes("*")?"*":!Q.includes(F)?Q[0]:F),!H.includes(b))return L_(new Response(void 0,{status:405,statusText:"Method Not Allowed.",headers:S}));if(w.method.toUpperCase()==="OPTIONS")return L_(Q.includes("*")||Q.includes(F)?new Response(void 0,{status:204,statusText:"No Content.",headers:S}):new Response(void 0,{status:417,statusText:"Expectation Failed.",headers:S}));if(L){let{path:R,headers:N,cacheTimeInSeconds:d}=L,A_=`${R}/${v.pathname}`,__=E.get(A_);if(!__){let e=Bun.file(A_);if(await e.exists()){if(N)for(let[F_,H_]of Object.entries(N))S.set(F_,H_);return S.set("Content-Type",e.type),L_(new Response(await e.arrayBuffer(),{status:200,statusText:"SUCCESS",headers:S}))}}else{let e=new Date>__.expiredAt;if(e)E.delete(A_);let o=!e?__.file:Bun.file(A_);if(await o.exists()){if(E.set(A_,Object.freeze({expiredAt:d0(new Date,typeof d!=="number"?NR:d,Z_.seconds),file:o})),N)for(let[H_,y_]of Object.entries(N))S.set(H_,y_);return S.set("Content-Type",o.type),L_(new Response(await o.arrayBuffer(),{status:200,statusText:"SUCCESS",headers:S}))}}}for(let R of V){let N=R.controllerRouterGroup.find(v.pathname,w.method);if(N){O=Object.freeze({route:N,resolution:R});break}}if(!O)return L_(new Response(JSON.stringify({httpCode:404,message:"Route not found",data:void 0}),{status:404,statusText:"Not found.",headers:S}));return await KR({request:w,server:k},{query:D,responseHeaders:S,route:O.route,moduleResolution:O.resolution})}catch(K){return _.debug&&console.error(K),L_(s0(K,S))}finally{if(C){let K=performance.now(),O=j_(v.pathname,{color:"blue"}),R=`${Bun.color("yellow","ansi")}${process.pid}`,N=j_(w.method,{color:"yellow",backgroundColor:"blue"}),d=j_(`${w.headers.get("x-forwarded-for")||w.headers.get("x-real-ip")||k.requestIP(w)?.address||"<Unknown>"}`,{color:"yellow"}),A_=j_(`${Math.round((K-m+Number.EPSILON)*100)/100}ms`,{color:"yellow",backgroundColor:"blue"});C.includes(w.method.toUpperCase())&&console.info(`PID: ${R} - Method: ${N} - IP: ${d} - ${O} - Time: ${A_}`)}}},websocket:{open:(w)=>{let k=`${w.data.pathname}:::open`,m=X.get(k);if(!m)return;let v=m.arguments||{},D=[];for(let[F,b]of Object.entries(v))switch(b.type){case B_:D[b.index]=w;break;case q_:D[b.index]=x;break}m.descriptor.value(...D)},close:(w,k,m)=>{let v=`${w.data.pathname}:::close`,D=X.get(v);if(!D)return;let F=D.arguments||{},b=[];for(let[S,K]of Object.entries(F))switch(K.type){case B_:b[K.index]=w;break;case q_:b[K.index]=x;break;case LT:b[K.index]=k;break;case WT:b[K.index]=m;break}D.descriptor.value(...b)},message:(w,k)=>{let m=`${w.data.pathname}:::message`,v=X.get(m);if(!v)return;let D=v.arguments||{},F=[];for(let[b,S]of Object.entries(D))switch(S.type){case B_:F[S.index]=w;break;case RT:F[S.index]=k;break;case q_:F[S.index]=x;break}v.descriptor.value(...F)},drain:(w)=>{let k=`${w.data.pathname}:::drain`,m=X.get(k);if(!m)return;let v=m.arguments||{},D=[];for(let[F,b]of Object.entries(v))switch(b.type){case B_:D[b.index]=w;break;case q_:D[b.index]=x;break}m.descriptor.value(...D)},ping:(w,k)=>{let m=`${w.data.pathname}:::ping`,v=X.get(m);if(!v)return;let D=v.arguments||{},F=[];for(let[b,S]of Object.entries(D))switch(S.type){case B_:F[S.index]=w;break;case q_:F[S.index]=x;break;case RT:F[S.index]=k;break}v.descriptor.value(...F)},pong:(w,k)=>{let m=`${w.data.pathname}:::pong`,v=X.get(m);if(!v)return;let D=v.arguments||{},F=[];for(let[b,S]of Object.entries(D))switch(S.type){case B_:F[S.index]=w;break;case q_:F[S.index]=x;break;case RT:F[S.index]=k;break}v.descriptor.value(...F)}}})}catch(E){throw _.debug&&console.error(E),E}};export{s0 as jsonErrorInfer,VR as httpServerErrors,GR as httpClientErrors,rC as ZodSchema,pC as WebSocketServer,oC as WebSocketEvent,dC as WebSocketConnection,iC as WebSocketCloseReason,sC as WebSocketCloseCode,nC as WebSocket,KC as RouteModel,xC as ResponseHeaders,SC as RequestHeaders,wC as RequestHeader,GC as RequestBody,IC as Request,fC as Query,vC as Put,kC as Post,bC as Patch,VC as Params,NC as Param,MC as Options,yC as Module,jC as Middleware,kE as Keys,yT as Injector,gC as Injectable,uC as Inject,GT as HttpServerError,g_ as HttpClientError,PC as Guard,cC as Get,OC as Dispatcher,mC as Delete,hC as Controller,$C as Context,hR as BoolFactory};

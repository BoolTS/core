// @bun
var Zf=Object.create;var{getPrototypeOf:Bf,defineProperty:t_,getOwnPropertyNames:Vf}=Object;var Df=Object.prototype.hasOwnProperty;var D_=(_,T,A)=>{A=_!=null?Zf(Bf(_)):{};let C=T||!_||!_.__esModule?t_(A,"default",{value:_,enumerable:!0}):A;for(let E of Vf(_))if(!Df.call(C,E))t_(C,E,{get:()=>_[E],enumerable:!0});return C};var I=(_,T)=>()=>(T||_((T={exports:{}}).exports,T),T.exports);var Gf=(_,T)=>{for(var A in T)t_(_,A,{get:T[A],enumerable:!0,configurable:!0,set:(C)=>T[A]=()=>C})};var nf=import.meta.require;var G_=I(()=>{/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var vC;(function(_){(function(T){var A=typeof globalThis==="object"?globalThis:typeof global==="object"?global:typeof self==="object"?self:typeof this==="object"?this:L(),C=E(_);if(typeof A.Reflect<"u")C=E(A.Reflect,C);if(T(C,A),typeof A.Reflect>"u")A.Reflect=_;function E(c,Y){return function(S,J){if(Object.defineProperty(c,S,{configurable:!0,writable:!0,value:J}),Y)Y(S,J)}}function f(){try{return Function("return this;")()}catch(c){}}function R(){try{return(0,eval)("(function() { return this; })()")}catch(c){}}function L(){return f()||R()}})(function(T,A){var C=Object.prototype.hasOwnProperty,E=typeof Symbol==="function",f=E&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",R=E&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",L=typeof Object.create==="function",c={__proto__:[]}instanceof Array,Y=!L&&!c,S={create:L?function(){return r_(Object.create(null))}:c?function(){return r_({__proto__:null})}:function(){return r_({})},has:Y?function(x,H){return C.call(x,H)}:function(x,H){return H in x},get:Y?function(x,H){return C.call(x,H)?x[H]:void 0}:function(x,H){return x[H]}},J=Object.getPrototypeOf(Function),w=typeof Map==="function"&&typeof Map.prototype.entries==="function"?Map:Yf(),Z=typeof Set==="function"&&typeof Set.prototype.entries==="function"?Set:Qf(),q=typeof WeakMap==="function"?WeakMap:Uf(),X=E?Symbol.for("@reflect-metadata:registry"):void 0,V=Ff(),W=Wf(V);function N(x,H,F,B){if(!u(F)){if(!IC(x))throw TypeError();if(!d(H))throw TypeError();if(!d(B)&&!u(B)&&!yT(B))throw TypeError();if(yT(B))B=void 0;return F=wT(F),a(x,H,F,B)}else{if(!IC(x))throw TypeError();if(!uC(H))throw TypeError();return l(x,H)}}T("decorate",N);function U(x,H){function F(B,K){if(!d(B))throw TypeError();if(!u(K)&&!Sf(K))throw TypeError();bT(x,H,B,K)}return F}T("metadata",U);function D(x,H,F,B){if(!d(F))throw TypeError();if(!u(B))B=wT(B);return bT(x,H,F,B)}T("defineMetadata",D);function n(x,H,F){if(!d(H))throw TypeError();if(!u(F))F=wT(F);return t(x,H,F)}T("hasMetadata",n);function TT(x,H,F){if(!d(H))throw TypeError();if(!u(F))F=wT(F);return p(x,H,F)}T("hasOwnMetadata",TT);function Q(x,H,F){if(!d(H))throw TypeError();if(!u(F))F=wT(F);return HT(x,H,F)}T("getMetadata",Q);function g(x,H,F){if(!d(H))throw TypeError();if(!u(F))F=wT(F);return ST(x,H,F)}T("getOwnMetadata",g);function P(x,H){if(!d(x))throw TypeError();if(!u(H))H=wT(H);return A_(x,H)}T("getMetadataKeys",P);function O(x,H){if(!d(x))throw TypeError();if(!u(H))H=wT(H);return lT(x,H)}T("getOwnMetadataKeys",O);function y(x,H,F){if(!d(H))throw TypeError();if(!u(F))F=wT(F);if(!d(H))throw TypeError();if(!u(F))F=wT(F);var B=E_(H,F,!1);if(u(B))return!1;return B.OrdinaryDeleteMetadata(x,H,F)}T("deleteMetadata",y);function l(x,H){for(var F=x.length-1;F>=0;--F){var B=x[F],K=B(H);if(!u(K)&&!yT(K)){if(!uC(K))throw TypeError();H=K}}return H}function a(x,H,F,B){for(var K=x.length-1;K>=0;--K){var s=x[K],o=s(H,F,B);if(!u(o)&&!yT(o)){if(!d(o))throw TypeError();B=o}}return B}function t(x,H,F){var B=p(x,H,F);if(B)return!0;var K=o_(H);if(!yT(K))return t(x,K,F);return!1}function p(x,H,F){var B=E_(H,F,!1);if(u(B))return!1;return KC(B.OrdinaryHasOwnMetadata(x,H,F))}function HT(x,H,F){var B=p(x,H,F);if(B)return ST(x,H,F);var K=o_(H);if(!yT(K))return HT(x,K,F);return}function ST(x,H,F){var B=E_(H,F,!1);if(u(B))return;return B.OrdinaryGetOwnMetadata(x,H,F)}function bT(x,H,F,B){var K=E_(F,B,!0);K.OrdinaryDefineOwnMetadata(x,H,F,B)}function A_(x,H){var F=lT(x,H),B=o_(x);if(B===null)return F;var K=A_(B,H);if(K.length<=0)return F;if(F.length<=0)return K;var s=new Z,o=[];for(var M=0,G=F;M<G.length;M++){var z=G[M],$=s.has(z);if(!$)s.add(z),o.push(z)}for(var h=0,k=K;h<k.length;h++){var z=k[h],$=s.has(z);if(!$)s.add(z),o.push(z)}return o}function lT(x,H){var F=E_(x,H,!1);if(!F)return[];return F.OrdinaryOwnMetadataKeys(x,H)}function hC(x){if(x===null)return 1;switch(typeof x){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return x===null?1:6;default:return 6}}function u(x){return x===void 0}function yT(x){return x===null}function Rf(x){return typeof x==="symbol"}function d(x){return typeof x==="object"?x!==null:typeof x==="function"}function cf(x,H){switch(hC(x)){case 0:return x;case 1:return x;case 2:return x;case 3:return x;case 4:return x;case 5:return x}var F=H===3?"string":H===5?"number":"default",B=OC(x,f);if(B!==void 0){var K=B.call(x,F);if(d(K))throw TypeError();return K}return Hf(x,F==="default"?"number":F)}function Hf(x,H){if(H==="string"){var F=x.toString;if(jT(F)){var B=F.call(x);if(!d(B))return B}var K=x.valueOf;if(jT(K)){var B=K.call(x);if(!d(B))return B}}else{var K=x.valueOf;if(jT(K)){var B=K.call(x);if(!d(B))return B}var s=x.toString;if(jT(s)){var B=s.call(x);if(!d(B))return B}}throw TypeError()}function KC(x){return!!x}function Lf(x){return""+x}function wT(x){var H=cf(x,3);if(Rf(H))return H;return Lf(H)}function IC(x){return Array.isArray?Array.isArray(x):x instanceof Object?x instanceof Array:Object.prototype.toString.call(x)==="[object Array]"}function jT(x){return typeof x==="function"}function uC(x){return typeof x==="function"}function Sf(x){switch(hC(x)){case 3:return!0;case 4:return!0;default:return!1}}function p_(x,H){return x===H||x!==x&&H!==H}function OC(x,H){var F=x[H];if(F===void 0||F===null)return;if(!jT(F))throw TypeError();return F}function MC(x){var H=OC(x,R);if(!jT(H))throw TypeError();var F=H.call(x);if(!d(F))throw TypeError();return F}function mC(x){return x.value}function gC(x){var H=x.next();return H.done?!1:H}function PC(x){var H=x.return;if(H)H.call(x)}function o_(x){var H=Object.getPrototypeOf(x);if(typeof x!=="function"||x===J)return H;if(H!==J)return H;var F=x.prototype,B=F&&Object.getPrototypeOf(F);if(B==null||B===Object.prototype)return H;var K=B.constructor;if(typeof K!=="function")return H;if(K===x)return H;return K}function wf(){var x;if(!u(X)&&typeof A.Reflect<"u"&&!(X in A.Reflect)&&typeof A.Reflect.defineMetadata==="function")x=qf(A.Reflect);var H,F,B,K=new q,s={registerProvider:o,getProvider:G,setProvider:$};return s;function o(h){if(!Object.isExtensible(s))throw Error("Cannot add provider to a frozen registry.");switch(!0){case x===h:break;case u(H):H=h;break;case H===h:break;case u(F):F=h;break;case F===h:break;default:if(B===void 0)B=new Z;B.add(h);break}}function M(h,k){if(!u(H)){if(H.isProviderFor(h,k))return H;if(!u(F)){if(F.isProviderFor(h,k))return H;if(!u(B)){var b=MC(B);while(!0){var i=gC(b);if(!i)return;var LT=mC(i);if(LT.isProviderFor(h,k))return PC(b),LT}}}}if(!u(x)&&x.isProviderFor(h,k))return x;return}function G(h,k){var b=K.get(h),i;if(!u(b))i=b.get(k);if(!u(i))return i;if(i=M(h,k),!u(i)){if(u(b))b=new w,K.set(h,b);b.set(k,i)}return i}function z(h){if(u(h))throw TypeError();return H===h||F===h||!u(B)&&B.has(h)}function $(h,k,b){if(!z(b))throw Error("Metadata provider not registered.");var i=G(h,k);if(i!==b){if(!u(i))return!1;var LT=K.get(h);if(u(LT))LT=new w,K.set(h,LT);LT.set(k,b)}return!0}}function Ff(){var x;if(!u(X)&&d(A.Reflect)&&Object.isExtensible(A.Reflect))x=A.Reflect[X];if(u(x))x=wf();if(!u(X)&&d(A.Reflect)&&Object.isExtensible(A.Reflect))Object.defineProperty(A.Reflect,X,{enumerable:!1,configurable:!1,writable:!1,value:x});return x}function Wf(x){var H=new q,F={isProviderFor:function(z,$){var h=H.get(z);if(u(h))return!1;return h.has($)},OrdinaryDefineOwnMetadata:o,OrdinaryHasOwnMetadata:K,OrdinaryGetOwnMetadata:s,OrdinaryOwnMetadataKeys:M,OrdinaryDeleteMetadata:G};return V.registerProvider(F),F;function B(z,$,h){var k=H.get(z),b=!1;if(u(k)){if(!h)return;k=new w,H.set(z,k),b=!0}var i=k.get($);if(u(i)){if(!h)return;if(i=new w,k.set($,i),!x.setProvider(z,$,F)){if(k.delete($),b)H.delete(z);throw Error("Wrong provider for target.")}}return i}function K(z,$,h){var k=B($,h,!1);if(u(k))return!1;return KC(k.has(z))}function s(z,$,h){var k=B($,h,!1);if(u(k))return;return k.get(z)}function o(z,$,h,k){var b=B(h,k,!0);b.set(z,$)}function M(z,$){var h=[],k=B(z,$,!1);if(u(k))return h;var b=k.keys(),i=MC(b),LT=0;while(!0){var kC=gC(i);if(!kC)return h.length=LT,h;var Xf=mC(kC);try{h[LT]=Xf}catch(Jf){try{PC(i)}finally{throw Jf}}LT++}}function G(z,$,h){var k=B($,h,!1);if(u(k))return!1;if(!k.delete(z))return!1;if(k.size===0){var b=H.get($);if(!u(b)){if(b.delete(h),b.size===0)H.delete(b)}}return!0}}function qf(x){var{defineMetadata:H,hasOwnMetadata:F,getOwnMetadata:B,getOwnMetadataKeys:K,deleteMetadata:s}=x,o=new q,M={isProviderFor:function(G,z){var $=o.get(G);if(!u($)&&$.has(z))return!0;if(K(G,z).length){if(u($))$=new Z,o.set(G,$);return $.add(z),!0}return!1},OrdinaryDefineOwnMetadata:H,OrdinaryHasOwnMetadata:F,OrdinaryGetOwnMetadata:B,OrdinaryOwnMetadataKeys:K,OrdinaryDeleteMetadata:s};return M}function E_(x,H,F){var B=V.getProvider(x,H);if(!u(B))return B;if(F){if(V.setProvider(x,H,W))return W;throw Error("Illegal state.")}return}function Yf(){var x={},H=[],F=function(){function M(G,z,$){this._index=0,this._keys=G,this._values=z,this._selector=$}return M.prototype["@@iterator"]=function(){return this},M.prototype[R]=function(){return this},M.prototype.next=function(){var G=this._index;if(G>=0&&G<this._keys.length){var z=this._selector(this._keys[G],this._values[G]);if(G+1>=this._keys.length)this._index=-1,this._keys=H,this._values=H;else this._index++;return{value:z,done:!1}}return{value:void 0,done:!0}},M.prototype.throw=function(G){if(this._index>=0)this._index=-1,this._keys=H,this._values=H;throw G},M.prototype.return=function(G){if(this._index>=0)this._index=-1,this._keys=H,this._values=H;return{value:G,done:!0}},M}(),B=function(){function M(){this._keys=[],this._values=[],this._cacheKey=x,this._cacheIndex=-2}return Object.defineProperty(M.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),M.prototype.has=function(G){return this._find(G,!1)>=0},M.prototype.get=function(G){var z=this._find(G,!1);return z>=0?this._values[z]:void 0},M.prototype.set=function(G,z){var $=this._find(G,!0);return this._values[$]=z,this},M.prototype.delete=function(G){var z=this._find(G,!1);if(z>=0){var $=this._keys.length;for(var h=z+1;h<$;h++)this._keys[h-1]=this._keys[h],this._values[h-1]=this._values[h];if(this._keys.length--,this._values.length--,p_(G,this._cacheKey))this._cacheKey=x,this._cacheIndex=-2;return!0}return!1},M.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=x,this._cacheIndex=-2},M.prototype.keys=function(){return new F(this._keys,this._values,K)},M.prototype.values=function(){return new F(this._keys,this._values,s)},M.prototype.entries=function(){return new F(this._keys,this._values,o)},M.prototype["@@iterator"]=function(){return this.entries()},M.prototype[R]=function(){return this.entries()},M.prototype._find=function(G,z){if(!p_(this._cacheKey,G)){this._cacheIndex=-1;for(var $=0;$<this._keys.length;$++)if(p_(this._keys[$],G)){this._cacheIndex=$;break}}if(this._cacheIndex<0&&z)this._cacheIndex=this._keys.length,this._keys.push(G),this._values.push(void 0);return this._cacheIndex},M}();return B;function K(M,G){return M}function s(M,G){return G}function o(M,G){return[M,G]}}function Qf(){var x=function(){function H(){this._map=new w}return Object.defineProperty(H.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),H.prototype.has=function(F){return this._map.has(F)},H.prototype.add=function(F){return this._map.set(F,F),this},H.prototype.delete=function(F){return this._map.delete(F)},H.prototype.clear=function(){this._map.clear()},H.prototype.keys=function(){return this._map.keys()},H.prototype.values=function(){return this._map.keys()},H.prototype.entries=function(){return this._map.entries()},H.prototype["@@iterator"]=function(){return this.keys()},H.prototype[R]=function(){return this.keys()},H}();return x}function Uf(){var x=16,H=S.create(),F=B();return function(){function G(){this._key=B()}return G.prototype.has=function(z){var $=K(z,!1);return $!==void 0?S.has($,this._key):!1},G.prototype.get=function(z){var $=K(z,!1);return $!==void 0?S.get($,this._key):void 0},G.prototype.set=function(z,$){var h=K(z,!0);return h[this._key]=$,this},G.prototype.delete=function(z){var $=K(z,!1);return $!==void 0?delete $[this._key]:!1},G.prototype.clear=function(){this._key=B()},G}();function B(){var G;do G="@@WeakMap@@"+M();while(S.has(H,G));return H[G]=!0,G}function K(G,z){if(!C.call(G,F)){if(!z)return;Object.defineProperty(G,F,{value:S.create()})}return G[F]}function s(G,z){for(var $=0;$<z;++$)G[$]=Math.random()*255|0;return G}function o(G){if(typeof Uint8Array==="function"){var z=new Uint8Array(G);if(typeof crypto<"u")crypto.getRandomValues(z);else if(typeof msCrypto<"u")msCrypto.getRandomValues(z);else s(z,G);return z}return s(Array(G),G)}function M(){var G=o(x);G[6]=G[6]&79|64,G[8]=G[8]&191|128;var z="";for(var $=0;$<x;++$){var h=G[$];if($===4||$===6||$===8)z+="-";if(h<16)z+="0";z+=h.toString(16).toLowerCase()}return z}}function r_(x){return x.__=void 0,delete x.__,x}})})(vC||(vC={}))});var MT=I((n0,yC)=>{yC.exports=TypeError});var dC=I((z0,jC)=>{jC.exports=nf("util").inspect});var F_=I((N0,SA)=>{var RC=typeof Map==="function"&&Map.prototype,e_=Object.getOwnPropertyDescriptor&&RC?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,K_=RC&&e_&&typeof e_.get==="function"?e_.get:null,sC=RC&&Map.prototype.forEach,cC=typeof Set==="function"&&Set.prototype,a_=Object.getOwnPropertyDescriptor&&cC?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,I_=cC&&a_&&typeof a_.get==="function"?a_.get:null,iC=cC&&Set.prototype.forEach,cx=typeof WeakMap==="function"&&WeakMap.prototype,L_=cx?WeakMap.prototype.has:null,Hx=typeof WeakSet==="function"&&WeakSet.prototype,S_=Hx?WeakSet.prototype.has:null,Lx=typeof WeakRef==="function"&&WeakRef.prototype,pC=Lx?WeakRef.prototype.deref:null,Sx=Boolean.prototype.valueOf,wx=Object.prototype.toString,Fx=Function.prototype.toString,Wx=String.prototype.match,HC=String.prototype.slice,hT=String.prototype.replace,qx=String.prototype.toUpperCase,oC=String.prototype.toLowerCase,EA=RegExp.prototype.test,rC=Array.prototype.concat,VT=Array.prototype.join,Yx=Array.prototype.slice,tC=Math.floor,CC=typeof BigInt==="function"?BigInt.prototype.valueOf:null,TC=Object.getOwnPropertySymbols,AC=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?Symbol.prototype.toString:null,oT=typeof Symbol==="function"&&typeof Symbol.iterator==="object",w_=typeof Symbol==="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===oT?"object":"symbol")?Symbol.toStringTag:null,fA=Object.prototype.propertyIsEnumerable,eC=(typeof Reflect==="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(_){return _.__proto__}:null);function aC(_,T){if(_===1/0||_===-1/0||_!==_||_&&_>-1000&&_<1000||EA.call(/e/,T))return T;var A=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof _==="number"){var C=_<0?-tC(-_):tC(_);if(C!==_){var E=String(C),f=HC.call(T,E.length+1);return hT.call(E,A,"$&_")+"."+hT.call(hT.call(f,/([0-9]{3})/g,"$&_"),/_$/,"")}}return hT.call(T,A,"$&_")}var EC=dC(),TA=EC.custom,_A=cA(TA)?TA:null,xA={__proto__:null,double:'"',single:"'"},Qx={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};SA.exports=function _(T,A,C,E){var f=A||{};if(NT(f,"quoteStyle")&&!NT(xA,f.quoteStyle))throw TypeError('option "quoteStyle" must be "single" or "double"');if(NT(f,"maxStringLength")&&(typeof f.maxStringLength==="number"?f.maxStringLength<0&&f.maxStringLength!==1/0:f.maxStringLength!==null))throw TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var R=NT(f,"customInspect")?f.customInspect:!0;if(typeof R!=="boolean"&&R!=="symbol")throw TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(NT(f,"indent")&&f.indent!==null&&f.indent!=="\t"&&!(parseInt(f.indent,10)===f.indent&&f.indent>0))throw TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(NT(f,"numericSeparator")&&typeof f.numericSeparator!=="boolean")throw TypeError('option "numericSeparator", if provided, must be `true` or `false`');var L=f.numericSeparator;if(typeof T>"u")return"undefined";if(T===null)return"null";if(typeof T==="boolean")return T?"true":"false";if(typeof T==="string")return LA(T,f);if(typeof T==="number"){if(T===0)return 1/0/T>0?"0":"-0";var c=String(T);return L?aC(T,c):c}if(typeof T==="bigint"){var Y=String(T)+"n";return L?aC(T,Y):Y}var S=typeof f.depth>"u"?5:f.depth;if(typeof C>"u")C=0;if(C>=S&&S>0&&typeof T==="object")return fC(T)?"[Array]":"[Object]";var J=Mx(f,C);if(typeof E>"u")E=[];else if(HA(E,T)>=0)return"[Circular]";function w(a,t,p){if(t)E=Yx.call(E),E.push(t);if(p){var HT={depth:f.depth};if(NT(f,"quoteStyle"))HT.quoteStyle=f.quoteStyle;return _(a,HT,C+1,E)}return _(a,f,C+1,E)}if(typeof T==="function"&&!CA(T)){var Z=nx(T),q=h_(T,w);return"[Function"+(Z?": "+Z:" (anonymous)")+"]"+(q.length>0?" { "+VT.call(q,", ")+" }":"")}if(cA(T)){var X=oT?hT.call(String(T),/^(Symbol\(.*\))_[^)]*$/,"$1"):AC.call(T);return typeof T==="object"&&!oT?H_(X):X}if(Ix(T)){var V="<"+oC.call(String(T.nodeName)),W=T.attributes||[];for(var N=0;N<W.length;N++)V+=" "+W[N].name+"="+RA(Ux(W[N].value),"double",f);if(V+=">",T.childNodes&&T.childNodes.length)V+="...";return V+="</"+oC.call(String(T.nodeName))+">",V}if(fC(T)){if(T.length===0)return"[]";var U=h_(T,w);if(J&&!Ox(U))return"["+xC(U,J)+"]";return"[ "+VT.call(U,", ")+" ]"}if(Jx(T)){var D=h_(T,w);if(!("cause"in Error.prototype)&&"cause"in T&&!fA.call(T,"cause"))return"{ ["+String(T)+"] "+VT.call(rC.call("[cause]: "+w(T.cause),D),", ")+" }";if(D.length===0)return"["+String(T)+"]";return"{ ["+String(T)+"] "+VT.call(D,", ")+" }"}if(typeof T==="object"&&R){if(_A&&typeof T[_A]==="function"&&EC)return EC(T,{depth:S-C});else if(R!=="symbol"&&typeof T.inspect==="function")return T.inspect()}if(zx(T)){var n=[];if(sC)sC.call(T,function(a,t){n.push(w(t,T,!0)+" => "+w(a,T))});return AA("Map",K_.call(T),n,J)}if(hx(T)){var TT=[];if(iC)iC.call(T,function(a){TT.push(w(a,T))});return AA("Set",I_.call(T),TT,J)}if(Nx(T))return _C("WeakMap");if(Kx(T))return _C("WeakSet");if($x(T))return _C("WeakRef");if(Bx(T))return H_(w(Number(T)));if(Dx(T))return H_(w(CC.call(T)));if(Vx(T))return H_(Sx.call(T));if(Zx(T))return H_(w(String(T)));if(typeof window<"u"&&T===window)return"{ [object Window] }";if(typeof globalThis<"u"&&T===globalThis||typeof global<"u"&&T===global)return"{ [object globalThis] }";if(!Xx(T)&&!CA(T)){var Q=h_(T,w),g=eC?eC(T)===Object.prototype:T instanceof Object||T.constructor===Object,P=T instanceof Object?"":"null prototype",O=!g&&w_&&Object(T)===T&&w_ in T?HC.call(KT(T),8,-1):P?"Object":"",y=g||typeof T.constructor!=="function"?"":T.constructor.name?T.constructor.name+" ":"",l=y+(O||P?"["+VT.call(rC.call([],O||[],P||[]),": ")+"] ":"");if(Q.length===0)return l+"{}";if(J)return l+"{"+xC(Q,J)+"}";return l+"{ "+VT.call(Q,", ")+" }"}return String(T)};function RA(_,T,A){var C=A.quoteStyle||T,E=xA[C];return E+_+E}function Ux(_){return hT.call(String(_),/"/g,"&quot;")}function mT(_){return!w_||!(typeof _==="object"&&((w_ in _)||typeof _[w_]<"u"))}function fC(_){return KT(_)==="[object Array]"&&mT(_)}function Xx(_){return KT(_)==="[object Date]"&&mT(_)}function CA(_){return KT(_)==="[object RegExp]"&&mT(_)}function Jx(_){return KT(_)==="[object Error]"&&mT(_)}function Zx(_){return KT(_)==="[object String]"&&mT(_)}function Bx(_){return KT(_)==="[object Number]"&&mT(_)}function Vx(_){return KT(_)==="[object Boolean]"&&mT(_)}function cA(_){if(oT)return _&&typeof _==="object"&&_ instanceof Symbol;if(typeof _==="symbol")return!0;if(!_||typeof _!=="object"||!AC)return!1;try{return AC.call(_),!0}catch(T){}return!1}function Dx(_){if(!_||typeof _!=="object"||!CC)return!1;try{return CC.call(_),!0}catch(T){}return!1}var Gx=Object.prototype.hasOwnProperty||function(_){return _ in this};function NT(_,T){return Gx.call(_,T)}function KT(_){return wx.call(_)}function nx(_){if(_.name)return _.name;var T=Wx.call(Fx.call(_),/^function\s*([\w$]+)/);if(T)return T[1];return null}function HA(_,T){if(_.indexOf)return _.indexOf(T);for(var A=0,C=_.length;A<C;A++)if(_[A]===T)return A;return-1}function zx(_){if(!K_||!_||typeof _!=="object")return!1;try{K_.call(_);try{I_.call(_)}catch(T){return!0}return _ instanceof Map}catch(T){}return!1}function Nx(_){if(!L_||!_||typeof _!=="object")return!1;try{L_.call(_,L_);try{S_.call(_,S_)}catch(T){return!0}return _ instanceof WeakMap}catch(T){}return!1}function $x(_){if(!pC||!_||typeof _!=="object")return!1;try{return pC.call(_),!0}catch(T){}return!1}function hx(_){if(!I_||!_||typeof _!=="object")return!1;try{I_.call(_);try{K_.call(_)}catch(T){return!0}return _ instanceof Set}catch(T){}return!1}function Kx(_){if(!S_||!_||typeof _!=="object")return!1;try{S_.call(_,S_);try{L_.call(_,L_)}catch(T){return!0}return _ instanceof WeakSet}catch(T){}return!1}function Ix(_){if(!_||typeof _!=="object")return!1;if(typeof HTMLElement<"u"&&_ instanceof HTMLElement)return!0;return typeof _.nodeName==="string"&&typeof _.getAttribute==="function"}function LA(_,T){if(_.length>T.maxStringLength){var A=_.length-T.maxStringLength,C="... "+A+" more character"+(A>1?"s":"");return LA(HC.call(_,0,T.maxStringLength),T)+C}var E=Qx[T.quoteStyle||"single"];E.lastIndex=0;var f=hT.call(hT.call(_,E,"\\$1"),/[\x00-\x1f]/g,ux);return RA(f,"single",T)}function ux(_){var T=_.charCodeAt(0),A={8:"b",9:"t",10:"n",12:"f",13:"r"}[T];if(A)return"\\"+A;return"\\x"+(T<16?"0":"")+qx.call(T.toString(16))}function H_(_){return"Object("+_+")"}function _C(_){return _+" { ? }"}function AA(_,T,A,C){var E=C?xC(A,C):VT.call(A,", ");return _+" ("+T+") {"+E+"}"}function Ox(_){for(var T=0;T<_.length;T++)if(HA(_[T],`
`)>=0)return!1;return!0}function Mx(_,T){var A;if(_.indent==="\t")A="\t";else if(typeof _.indent==="number"&&_.indent>0)A=VT.call(Array(_.indent+1)," ");else return null;return{base:A,prev:VT.call(Array(T+1),A)}}function xC(_,T){if(_.length===0)return"";var A=`
`+T.prev+T.base;return A+VT.call(_,","+A)+`
`+T.prev}function h_(_,T){var A=fC(_),C=[];if(A){C.length=_.length;for(var E=0;E<_.length;E++)C[E]=NT(_,E)?T(_[E],_):""}var f=typeof TC==="function"?TC(_):[],R;if(oT){R={};for(var L=0;L<f.length;L++)R["$"+f[L]]=f[L]}for(var c in _){if(!NT(_,c))continue;if(A&&String(Number(c))===c&&c<_.length)continue;if(oT&&R["$"+c]instanceof Symbol)continue;else if(EA.call(/[^\w$]/,c))C.push(T(c,_)+": "+T(_[c],_));else C.push(c+": "+T(_[c],_))}if(typeof TC==="function"){for(var Y=0;Y<f.length;Y++)if(fA.call(_,f[Y]))C.push("["+T(f[Y])+"]: "+T(_[f[Y]],_))}return C}});var FA=I(($0,wA)=>{var mx=F_(),gx=MT(),u_=function(_,T,A){var C=_,E;for(;(E=C.next)!=null;C=E)if(E.key===T){if(C.next=E.next,!A)E.next=_.next,_.next=E;return E}},Px=function(_,T){if(!_)return;var A=u_(_,T);return A&&A.value},kx=function(_,T,A){var C=u_(_,T);if(C)C.value=A;else _.next={key:T,next:_.next,value:A}},vx=function(_,T){if(!_)return!1;return!!u_(_,T)},bx=function(_,T){if(_)return u_(_,T,!0)};wA.exports=function(){var T,A={assert:function(C){if(!A.has(C))throw new gx("Side channel does not contain "+mx(C))},delete:function(C){var E=T&&T.next,f=bx(T,C);if(f&&E&&E===f)T=void 0;return!!f},get:function(C){return Px(T,C)},has:function(C){return vx(T,C)},set:function(C,E){if(!T)T={next:void 0};kx(T,C,E)}};return A}});var LC=I((h0,WA)=>{WA.exports=Object});var YA=I((K0,qA)=>{qA.exports=Error});var UA=I((I0,QA)=>{QA.exports=EvalError});var JA=I((u0,XA)=>{XA.exports=RangeError});var BA=I((O0,ZA)=>{ZA.exports=ReferenceError});var DA=I((M0,VA)=>{VA.exports=SyntaxError});var nA=I((m0,GA)=>{GA.exports=URIError});var NA=I((g0,zA)=>{zA.exports=Math.abs});var hA=I((P0,$A)=>{$A.exports=Math.floor});var IA=I((k0,KA)=>{KA.exports=Math.max});var OA=I((v0,uA)=>{uA.exports=Math.min});var mA=I((b0,MA)=>{MA.exports=Math.pow});var PA=I((l0,gA)=>{gA.exports=Math.round});var vA=I((y0,kA)=>{kA.exports=Number.isNaN||function(T){return T!==T}});var lA=I((j0,bA)=>{var lx=vA();bA.exports=function(T){if(lx(T)||T===0)return T;return T<0?-1:1}});var jA=I((d0,yA)=>{yA.exports=Object.getOwnPropertyDescriptor});var SC=I((s0,dA)=>{var O_=jA();if(O_)try{O_([],"length")}catch(_){O_=null}dA.exports=O_});var iA=I((i0,sA)=>{var M_=Object.defineProperty||!1;if(M_)try{M_({},"a",{value:1})}catch(_){M_=!1}sA.exports=M_});var oA=I((p0,pA)=>{pA.exports=function(){if(typeof Symbol!=="function"||typeof Object.getOwnPropertySymbols!=="function")return!1;if(typeof Symbol.iterator==="symbol")return!0;var T={},A=Symbol("test"),C=Object(A);if(typeof A==="string")return!1;if(Object.prototype.toString.call(A)!=="[object Symbol]")return!1;if(Object.prototype.toString.call(C)!=="[object Symbol]")return!1;var E=42;T[A]=E;for(var f in T)return!1;if(typeof Object.keys==="function"&&Object.keys(T).length!==0)return!1;if(typeof Object.getOwnPropertyNames==="function"&&Object.getOwnPropertyNames(T).length!==0)return!1;var R=Object.getOwnPropertySymbols(T);if(R.length!==1||R[0]!==A)return!1;if(!Object.prototype.propertyIsEnumerable.call(T,A))return!1;if(typeof Object.getOwnPropertyDescriptor==="function"){var L=Object.getOwnPropertyDescriptor(T,A);if(L.value!==E||L.enumerable!==!0)return!1}return!0}});var eA=I((o0,tA)=>{var rA=typeof Symbol<"u"&&Symbol,yx=oA();tA.exports=function(){if(typeof rA!=="function")return!1;if(typeof Symbol!=="function")return!1;if(typeof rA("foo")!=="symbol")return!1;if(typeof Symbol("bar")!=="symbol")return!1;return yx()}});var wC=I((r0,aA)=>{aA.exports=typeof Reflect<"u"&&Reflect.getPrototypeOf||null});var FC=I((t0,TE)=>{var jx=LC();TE.exports=jx.getPrototypeOf||null});var AE=I((e0,CE)=>{var dx="Function.prototype.bind called on incompatible ",sx=Object.prototype.toString,ix=Math.max,px="[object Function]",_E=function(T,A){var C=[];for(var E=0;E<T.length;E+=1)C[E]=T[E];for(var f=0;f<A.length;f+=1)C[f+T.length]=A[f];return C},ox=function(T,A){var C=[];for(var E=A||0,f=0;E<T.length;E+=1,f+=1)C[f]=T[E];return C},rx=function(_,T){var A="";for(var C=0;C<_.length;C+=1)if(A+=_[C],C+1<_.length)A+=T;return A};CE.exports=function(T){var A=this;if(typeof A!=="function"||sx.apply(A)!==px)throw TypeError(dx+A);var C=ox(arguments,1),E,f=function(){if(this instanceof E){var S=A.apply(this,_E(C,arguments));if(Object(S)===S)return S;return this}return A.apply(T,_E(C,arguments))},R=ix(0,A.length-C.length),L=[];for(var c=0;c<R;c++)L[c]="$"+c;if(E=Function("binder","return function ("+rx(L,",")+"){ return binder.apply(this,arguments); }")(f),A.prototype){var Y=function(){};Y.prototype=A.prototype,E.prototype=new Y,Y.prototype=null}return E}});var W_=I((a0,EE)=>{var tx=AE();EE.exports=Function.prototype.bind||tx});var m_=I((T1,fE)=>{fE.exports=Function.prototype.call});var WC=I((_1,xE)=>{xE.exports=Function.prototype.apply});var cE=I((C1,RE)=>{RE.exports=typeof Reflect<"u"&&Reflect&&Reflect.apply});var LE=I((A1,HE)=>{var ex=W_(),ax=WC(),TR=m_(),_R=cE();HE.exports=_R||ex.call(TR,ax)});var qC=I((E1,SE)=>{var CR=W_(),AR=MT(),ER=m_(),fR=LE();SE.exports=function(T){if(T.length<1||typeof T[0]!=="function")throw new AR("a function is required");return fR(CR,ER,T)}});var QE=I((f1,YE)=>{var xR=qC(),wE=SC(),WE;try{WE=[].__proto__===Array.prototype}catch(_){if(!_||typeof _!=="object"||!("code"in _)||_.code!=="ERR_PROTO_ACCESS")throw _}var YC=!!WE&&wE&&wE(Object.prototype,"__proto__"),qE=Object,FE=qE.getPrototypeOf;YE.exports=YC&&typeof YC.get==="function"?xR([YC.get]):typeof FE==="function"?function(T){return FE(T==null?T:qE(T))}:!1});var BE=I((x1,ZE)=>{var UE=wC(),XE=FC(),JE=QE();ZE.exports=UE?function(T){return UE(T)}:XE?function(T){if(!T||typeof T!=="object"&&typeof T!=="function")throw TypeError("getProto: not an object");return XE(T)}:JE?function(T){return JE(T)}:null});var DE=I((R1,VE)=>{var RR=Function.prototype.call,cR=Object.prototype.hasOwnProperty,HR=W_();VE.exports=HR.call(RR,cR)});var k_=I((c1,$E)=>{var m,LR=LC(),SR=YA(),wR=UA(),FR=JA(),WR=BA(),aT=DA(),eT=MT(),qR=nA(),YR=NA(),QR=hA(),UR=IA(),XR=OA(),JR=mA(),ZR=PA(),BR=lA(),zE=Function,QC=function(_){try{return zE('"use strict"; return ('+_+").constructor;")()}catch(T){}},q_=SC(),VR=iA(),UC=function(){throw new eT},DR=q_?function(){try{return arguments.callee,UC}catch(_){try{return q_(arguments,"callee").get}catch(T){return UC}}}():UC,rT=eA()(),e=BE(),GR=FC(),nR=wC(),NE=WC(),Y_=m_(),tT={},zR=typeof Uint8Array>"u"||!e?m:e(Uint8Array),gT={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?m:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?m:ArrayBuffer,"%ArrayIteratorPrototype%":rT&&e?e([][Symbol.iterator]()):m,"%AsyncFromSyncIteratorPrototype%":m,"%AsyncFunction%":tT,"%AsyncGenerator%":tT,"%AsyncGeneratorFunction%":tT,"%AsyncIteratorPrototype%":tT,"%Atomics%":typeof Atomics>"u"?m:Atomics,"%BigInt%":typeof BigInt>"u"?m:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?m:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?m:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?m:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":SR,"%eval%":eval,"%EvalError%":wR,"%Float16Array%":typeof Float16Array>"u"?m:Float16Array,"%Float32Array%":typeof Float32Array>"u"?m:Float32Array,"%Float64Array%":typeof Float64Array>"u"?m:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?m:FinalizationRegistry,"%Function%":zE,"%GeneratorFunction%":tT,"%Int8Array%":typeof Int8Array>"u"?m:Int8Array,"%Int16Array%":typeof Int16Array>"u"?m:Int16Array,"%Int32Array%":typeof Int32Array>"u"?m:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":rT&&e?e(e([][Symbol.iterator]())):m,"%JSON%":typeof JSON==="object"?JSON:m,"%Map%":typeof Map>"u"?m:Map,"%MapIteratorPrototype%":typeof Map>"u"||!rT||!e?m:e(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":LR,"%Object.getOwnPropertyDescriptor%":q_,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?m:Promise,"%Proxy%":typeof Proxy>"u"?m:Proxy,"%RangeError%":FR,"%ReferenceError%":WR,"%Reflect%":typeof Reflect>"u"?m:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?m:Set,"%SetIteratorPrototype%":typeof Set>"u"||!rT||!e?m:e(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?m:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":rT&&e?e(""[Symbol.iterator]()):m,"%Symbol%":rT?Symbol:m,"%SyntaxError%":aT,"%ThrowTypeError%":DR,"%TypedArray%":zR,"%TypeError%":eT,"%Uint8Array%":typeof Uint8Array>"u"?m:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?m:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?m:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?m:Uint32Array,"%URIError%":qR,"%WeakMap%":typeof WeakMap>"u"?m:WeakMap,"%WeakRef%":typeof WeakRef>"u"?m:WeakRef,"%WeakSet%":typeof WeakSet>"u"?m:WeakSet,"%Function.prototype.call%":Y_,"%Function.prototype.apply%":NE,"%Object.defineProperty%":VR,"%Object.getPrototypeOf%":GR,"%Math.abs%":YR,"%Math.floor%":QR,"%Math.max%":UR,"%Math.min%":XR,"%Math.pow%":JR,"%Math.round%":ZR,"%Math.sign%":BR,"%Reflect.getPrototypeOf%":nR};if(e)try{null.error}catch(_){XC=e(e(_)),gT["%Error.prototype%"]=XC}var XC,NR=function _(T){var A;if(T==="%AsyncFunction%")A=QC("async function () {}");else if(T==="%GeneratorFunction%")A=QC("function* () {}");else if(T==="%AsyncGeneratorFunction%")A=QC("async function* () {}");else if(T==="%AsyncGenerator%"){var C=_("%AsyncGeneratorFunction%");if(C)A=C.prototype}else if(T==="%AsyncIteratorPrototype%"){var E=_("%AsyncGenerator%");if(E&&e)A=e(E.prototype)}return gT[T]=A,A},GE={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Q_=W_(),g_=DE(),$R=Q_.call(Y_,Array.prototype.concat),hR=Q_.call(NE,Array.prototype.splice),nE=Q_.call(Y_,String.prototype.replace),P_=Q_.call(Y_,String.prototype.slice),KR=Q_.call(Y_,RegExp.prototype.exec),IR=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,uR=/\\(\\)?/g,OR=function(T){var A=P_(T,0,1),C=P_(T,-1);if(A==="%"&&C!=="%")throw new aT("invalid intrinsic syntax, expected closing `%`");else if(C==="%"&&A!=="%")throw new aT("invalid intrinsic syntax, expected opening `%`");var E=[];return nE(T,IR,function(f,R,L,c){E[E.length]=L?nE(c,uR,"$1"):R||f}),E},MR=function(T,A){var C=T,E;if(g_(GE,C))E=GE[C],C="%"+E[0]+"%";if(g_(gT,C)){var f=gT[C];if(f===tT)f=NR(C);if(typeof f>"u"&&!A)throw new eT("intrinsic "+T+" exists, but is not available. Please file an issue!");return{alias:E,name:C,value:f}}throw new aT("intrinsic "+T+" does not exist!")};$E.exports=function(T,A){if(typeof T!=="string"||T.length===0)throw new eT("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof A!=="boolean")throw new eT('"allowMissing" argument must be a boolean');if(KR(/^%?[^%]*%?$/,T)===null)throw new aT("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var C=OR(T),E=C.length>0?C[0]:"",f=MR("%"+E+"%",A),R=f.name,L=f.value,c=!1,Y=f.alias;if(Y)E=Y[0],hR(C,$R([0,1],Y));for(var S=1,J=!0;S<C.length;S+=1){var w=C[S],Z=P_(w,0,1),q=P_(w,-1);if((Z==='"'||Z==="'"||Z==="`"||(q==='"'||q==="'"||q==="`"))&&Z!==q)throw new aT("property names with quotes must have matching quotes");if(w==="constructor"||!J)c=!0;if(E+="."+w,R="%"+E+"%",g_(gT,R))L=gT[R];else if(L!=null){if(!(w in L)){if(!A)throw new eT("base intrinsic for "+T+" exists, but the property is not available.");return}if(q_&&S+1>=C.length){var X=q_(L,w);if(J=!!X,J&&"get"in X&&!("originalValue"in X.get))L=X.get;else L=L[w]}else J=g_(L,w),L=L[w];if(J&&!c)gT[R]=L}}return L}});var JC=I((H1,IE)=>{var hE=k_(),KE=qC(),mR=KE([hE("%String.prototype.indexOf%")]);IE.exports=function(T,A){var C=hE(T,!!A);if(typeof C==="function"&&mR(T,".prototype.")>-1)return KE([C]);return C}});var ZC=I((L1,OE)=>{var gR=k_(),U_=JC(),PR=F_(),kR=MT(),uE=gR("%Map%",!0),vR=U_("Map.prototype.get",!0),bR=U_("Map.prototype.set",!0),lR=U_("Map.prototype.has",!0),yR=U_("Map.prototype.delete",!0),jR=U_("Map.prototype.size",!0);OE.exports=!!uE&&function(){var T,A={assert:function(C){if(!A.has(C))throw new kR("Side channel does not contain "+PR(C))},delete:function(C){if(T){var E=yR(T,C);if(jR(T)===0)T=void 0;return E}return!1},get:function(C){if(T)return vR(T,C)},has:function(C){if(T)return lR(T,C);return!1},set:function(C,E){if(!T)T=new uE;bR(T,C,E)}};return A}});var mE=I((S1,ME)=>{var dR=k_(),b_=JC(),sR=F_(),v_=ZC(),iR=MT(),T_=dR("%WeakMap%",!0),pR=b_("WeakMap.prototype.get",!0),oR=b_("WeakMap.prototype.set",!0),rR=b_("WeakMap.prototype.has",!0),tR=b_("WeakMap.prototype.delete",!0);ME.exports=T_?function(){var T,A,C={assert:function(E){if(!C.has(E))throw new iR("Side channel does not contain "+sR(E))},delete:function(E){if(T_&&E&&(typeof E==="object"||typeof E==="function")){if(T)return tR(T,E)}else if(v_){if(A)return A.delete(E)}return!1},get:function(E){if(T_&&E&&(typeof E==="object"||typeof E==="function")){if(T)return pR(T,E)}return A&&A.get(E)},has:function(E){if(T_&&E&&(typeof E==="object"||typeof E==="function")){if(T)return rR(T,E)}return!!A&&A.has(E)},set:function(E,f){if(T_&&E&&(typeof E==="object"||typeof E==="function")){if(!T)T=new T_;oR(T,E,f)}else if(v_){if(!A)A=v_();A.set(E,f)}}};return C}:v_});var PE=I((w1,gE)=>{var eR=MT(),aR=F_(),Tc=FA(),_c=ZC(),Cc=mE(),Ac=Cc||_c||Tc;gE.exports=function(){var T,A={assert:function(C){if(!A.has(C))throw new eR("Side channel does not contain "+aR(C))},delete:function(C){return!!T&&T.delete(C)},get:function(C){return T&&T.get(C)},has:function(C){return!!T&&T.has(C)},set:function(C,E){if(!T)T=Ac();T.set(C,E)}};return A}});var l_=I((F1,kE)=>{var Ec=String.prototype.replace,fc=/%20/g,BC={RFC1738:"RFC1738",RFC3986:"RFC3986"};kE.exports={default:BC.RFC3986,formatters:{RFC1738:function(_){return Ec.call(_,fc,"+")},RFC3986:function(_){return String(_)}},RFC1738:BC.RFC1738,RFC3986:BC.RFC3986}});var GC=I((W1,bE)=>{var xc=l_(),VC=Object.prototype.hasOwnProperty,PT=Array.isArray,DT=function(){var _=[];for(var T=0;T<256;++T)_.push("%"+((T<16?"0":"")+T.toString(16)).toUpperCase());return _}(),Rc=function(T){while(T.length>1){var A=T.pop(),C=A.obj[A.prop];if(PT(C)){var E=[];for(var f=0;f<C.length;++f)if(typeof C[f]<"u")E.push(C[f]);A.obj[A.prop]=E}}},vE=function(T,A){var C=A&&A.plainObjects?{__proto__:null}:{};for(var E=0;E<T.length;++E)if(typeof T[E]<"u")C[E]=T[E];return C},cc=function _(T,A,C){if(!A)return T;if(typeof A!=="object"&&typeof A!=="function"){if(PT(T))T.push(A);else if(T&&typeof T==="object"){if(C&&(C.plainObjects||C.allowPrototypes)||!VC.call(Object.prototype,A))T[A]=!0}else return[T,A];return T}if(!T||typeof T!=="object")return[T].concat(A);var E=T;if(PT(T)&&!PT(A))E=vE(T,C);if(PT(T)&&PT(A))return A.forEach(function(f,R){if(VC.call(T,R)){var L=T[R];if(L&&typeof L==="object"&&f&&typeof f==="object")T[R]=_(L,f,C);else T.push(f)}else T[R]=f}),T;return Object.keys(A).reduce(function(f,R){var L=A[R];if(VC.call(f,R))f[R]=_(f[R],L,C);else f[R]=L;return f},E)},Hc=function(T,A){return Object.keys(A).reduce(function(C,E){return C[E]=A[E],C},T)},Lc=function(_,T,A){var C=_.replace(/\+/g," ");if(A==="iso-8859-1")return C.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(C)}catch(E){return C}},DC=1024,Sc=function(T,A,C,E,f){if(T.length===0)return T;var R=T;if(typeof T==="symbol")R=Symbol.prototype.toString.call(T);else if(typeof T!=="string")R=String(T);if(C==="iso-8859-1")return escape(R).replace(/%u[0-9a-f]{4}/gi,function(Z){return"%26%23"+parseInt(Z.slice(2),16)+"%3B"});var L="";for(var c=0;c<R.length;c+=DC){var Y=R.length>=DC?R.slice(c,c+DC):R,S=[];for(var J=0;J<Y.length;++J){var w=Y.charCodeAt(J);if(w===45||w===46||w===95||w===126||w>=48&&w<=57||w>=65&&w<=90||w>=97&&w<=122||f===xc.RFC1738&&(w===40||w===41)){S[S.length]=Y.charAt(J);continue}if(w<128){S[S.length]=DT[w];continue}if(w<2048){S[S.length]=DT[192|w>>6]+DT[128|w&63];continue}if(w<55296||w>=57344){S[S.length]=DT[224|w>>12]+DT[128|w>>6&63]+DT[128|w&63];continue}J+=1,w=65536+((w&1023)<<10|Y.charCodeAt(J)&1023),S[S.length]=DT[240|w>>18]+DT[128|w>>12&63]+DT[128|w>>6&63]+DT[128|w&63]}L+=S.join("")}return L},wc=function(T){var A=[{obj:{o:T},prop:"o"}],C=[];for(var E=0;E<A.length;++E){var f=A[E],R=f.obj[f.prop],L=Object.keys(R);for(var c=0;c<L.length;++c){var Y=L[c],S=R[Y];if(typeof S==="object"&&S!==null&&C.indexOf(S)===-1)A.push({obj:R,prop:Y}),C.push(S)}}return Rc(A),T},Fc=function(T){return Object.prototype.toString.call(T)==="[object RegExp]"},Wc=function(T){if(!T||typeof T!=="object")return!1;return!!(T.constructor&&T.constructor.isBuffer&&T.constructor.isBuffer(T))},qc=function(T,A){return[].concat(T,A)},Yc=function(T,A){if(PT(T)){var C=[];for(var E=0;E<T.length;E+=1)C.push(A(T[E]));return C}return A(T)};bE.exports={arrayToObject:vE,assign:Hc,combine:qc,compact:wc,decode:Lc,encode:Sc,isBuffer:Wc,isRegExp:Fc,maybeMap:Yc,merge:cc}});var iE=I((q1,sE)=>{var yE=PE(),y_=GC(),X_=l_(),Qc=Object.prototype.hasOwnProperty,jE={brackets:function(T){return T+"[]"},comma:"comma",indices:function(T,A){return T+"["+A+"]"},repeat:function(T){return T}},GT=Array.isArray,Uc=Array.prototype.push,dE=function(_,T){Uc.apply(_,GT(T)?T:[T])},Xc=Date.prototype.toISOString,lE=X_.default,r={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:y_.encode,encodeValuesOnly:!1,filter:void 0,format:lE,formatter:X_.formatters[lE],indices:!1,serializeDate:function(T){return Xc.call(T)},skipNulls:!1,strictNullHandling:!1},Jc=function(T){return typeof T==="string"||typeof T==="number"||typeof T==="boolean"||typeof T==="symbol"||typeof T==="bigint"},nC={},Zc=function _(T,A,C,E,f,R,L,c,Y,S,J,w,Z,q,X,V,W,N){var U=T,D=N,n=0,TT=!1;while((D=D.get(nC))!==void 0&&!TT){var Q=D.get(T);if(n+=1,typeof Q<"u")if(Q===n)throw RangeError("Cyclic object value");else TT=!0;if(typeof D.get(nC)>"u")n=0}if(typeof S==="function")U=S(A,U);else if(U instanceof Date)U=Z(U);else if(C==="comma"&&GT(U))U=y_.maybeMap(U,function(lT){if(lT instanceof Date)return Z(lT);return lT});if(U===null){if(R)return Y&&!V?Y(A,r.encoder,W,"key",q):A;U=""}if(Jc(U)||y_.isBuffer(U)){if(Y){var g=V?A:Y(A,r.encoder,W,"key",q);return[X(g)+"="+X(Y(U,r.encoder,W,"value",q))]}return[X(A)+"="+X(String(U))]}var P=[];if(typeof U>"u")return P;var O;if(C==="comma"&&GT(U)){if(V&&Y)U=y_.maybeMap(U,Y);O=[{value:U.length>0?U.join(",")||null:void 0}]}else if(GT(S))O=S;else{var y=Object.keys(U);O=J?y.sort(J):y}var l=c?String(A).replace(/\./g,"%2E"):String(A),a=E&&GT(U)&&U.length===1?l+"[]":l;if(f&&GT(U)&&U.length===0)return a+"[]";for(var t=0;t<O.length;++t){var p=O[t],HT=typeof p==="object"&&p&&typeof p.value<"u"?p.value:U[p];if(L&&HT===null)continue;var ST=w&&c?String(p).replace(/\./g,"%2E"):String(p),bT=GT(U)?typeof C==="function"?C(a,ST):a:a+(w?"."+ST:"["+ST+"]");N.set(T,n);var A_=yE();A_.set(nC,N),dE(P,_(HT,bT,C,E,f,R,L,c,C==="comma"&&V&&GT(U)?null:Y,S,J,w,Z,q,X,V,W,A_))}return P},Bc=function(T){if(!T)return r;if(typeof T.allowEmptyArrays<"u"&&typeof T.allowEmptyArrays!=="boolean")throw TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof T.encodeDotInKeys<"u"&&typeof T.encodeDotInKeys!=="boolean")throw TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(T.encoder!==null&&typeof T.encoder<"u"&&typeof T.encoder!=="function")throw TypeError("Encoder has to be a function.");var A=T.charset||r.charset;if(typeof T.charset<"u"&&T.charset!=="utf-8"&&T.charset!=="iso-8859-1")throw TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var C=X_.default;if(typeof T.format<"u"){if(!Qc.call(X_.formatters,T.format))throw TypeError("Unknown format option provided.");C=T.format}var E=X_.formatters[C],f=r.filter;if(typeof T.filter==="function"||GT(T.filter))f=T.filter;var R;if(T.arrayFormat in jE)R=T.arrayFormat;else if("indices"in T)R=T.indices?"indices":"repeat";else R=r.arrayFormat;if("commaRoundTrip"in T&&typeof T.commaRoundTrip!=="boolean")throw TypeError("`commaRoundTrip` must be a boolean, or absent");var L=typeof T.allowDots>"u"?T.encodeDotInKeys===!0?!0:r.allowDots:!!T.allowDots;return{addQueryPrefix:typeof T.addQueryPrefix==="boolean"?T.addQueryPrefix:r.addQueryPrefix,allowDots:L,allowEmptyArrays:typeof T.allowEmptyArrays==="boolean"?!!T.allowEmptyArrays:r.allowEmptyArrays,arrayFormat:R,charset:A,charsetSentinel:typeof T.charsetSentinel==="boolean"?T.charsetSentinel:r.charsetSentinel,commaRoundTrip:!!T.commaRoundTrip,delimiter:typeof T.delimiter>"u"?r.delimiter:T.delimiter,encode:typeof T.encode==="boolean"?T.encode:r.encode,encodeDotInKeys:typeof T.encodeDotInKeys==="boolean"?T.encodeDotInKeys:r.encodeDotInKeys,encoder:typeof T.encoder==="function"?T.encoder:r.encoder,encodeValuesOnly:typeof T.encodeValuesOnly==="boolean"?T.encodeValuesOnly:r.encodeValuesOnly,filter:f,format:C,formatter:E,serializeDate:typeof T.serializeDate==="function"?T.serializeDate:r.serializeDate,skipNulls:typeof T.skipNulls==="boolean"?T.skipNulls:r.skipNulls,sort:typeof T.sort==="function"?T.sort:null,strictNullHandling:typeof T.strictNullHandling==="boolean"?T.strictNullHandling:r.strictNullHandling}};sE.exports=function(_,T){var A=_,C=Bc(T),E,f;if(typeof C.filter==="function")f=C.filter,A=f("",A);else if(GT(C.filter))f=C.filter,E=f;var R=[];if(typeof A!=="object"||A===null)return"";var L=jE[C.arrayFormat],c=L==="comma"&&C.commaRoundTrip;if(!E)E=Object.keys(A);if(C.sort)E.sort(C.sort);var Y=yE();for(var S=0;S<E.length;++S){var J=E[S],w=A[J];if(C.skipNulls&&w===null)continue;dE(R,Zc(w,J,L,c,C.allowEmptyArrays,C.strictNullHandling,C.skipNulls,C.encodeDotInKeys,C.encode?C.encoder:null,C.filter,C.sort,C.allowDots,C.serializeDate,C.format,C.formatter,C.encodeValuesOnly,C.charset,Y))}var Z=R.join(C.delimiter),q=C.addQueryPrefix===!0?"?":"";if(C.charsetSentinel)if(C.charset==="iso-8859-1")q+="utf8=%26%2310003%3B&";else q+="utf8=%E2%9C%93&";return Z.length>0?q+Z:""}});var tE=I((Y1,rE)=>{var kT=GC(),zC=Object.prototype.hasOwnProperty,pE=Array.isArray,j={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:kT.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1000,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},Vc=function(_){return _.replace(/&#(\d+);/g,function(T,A){return String.fromCharCode(parseInt(A,10))})},oE=function(_,T,A){if(_&&typeof _==="string"&&T.comma&&_.indexOf(",")>-1)return _.split(",");if(T.throwOnLimitExceeded&&A>=T.arrayLimit)throw RangeError("Array limit exceeded. Only "+T.arrayLimit+" element"+(T.arrayLimit===1?"":"s")+" allowed in an array.");return _},Dc="utf8=%26%2310003%3B",Gc="utf8=%E2%9C%93",nc=function(T,A){var C={__proto__:null},E=A.ignoreQueryPrefix?T.replace(/^\?/,""):T;E=E.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var f=A.parameterLimit===1/0?void 0:A.parameterLimit,R=E.split(A.delimiter,A.throwOnLimitExceeded?f+1:f);if(A.throwOnLimitExceeded&&R.length>f)throw RangeError("Parameter limit exceeded. Only "+f+" parameter"+(f===1?"":"s")+" allowed.");var L=-1,c,Y=A.charset;if(A.charsetSentinel){for(c=0;c<R.length;++c)if(R[c].indexOf("utf8=")===0){if(R[c]===Gc)Y="utf-8";else if(R[c]===Dc)Y="iso-8859-1";L=c,c=R.length}}for(c=0;c<R.length;++c){if(c===L)continue;var S=R[c],J=S.indexOf("]="),w=J===-1?S.indexOf("="):J+1,Z,q;if(w===-1)Z=A.decoder(S,j.decoder,Y,"key"),q=A.strictNullHandling?null:"";else Z=A.decoder(S.slice(0,w),j.decoder,Y,"key"),q=kT.maybeMap(oE(S.slice(w+1),A,pE(C[Z])?C[Z].length:0),function(V){return A.decoder(V,j.decoder,Y,"value")});if(q&&A.interpretNumericEntities&&Y==="iso-8859-1")q=Vc(String(q));if(S.indexOf("[]=")>-1)q=pE(q)?[q]:q;var X=zC.call(C,Z);if(X&&A.duplicates==="combine")C[Z]=kT.combine(C[Z],q);else if(!X||A.duplicates==="last")C[Z]=q}return C},zc=function(_,T,A,C){var E=0;if(_.length>0&&_[_.length-1]==="[]"){var f=_.slice(0,-1).join("");E=Array.isArray(T)&&T[f]?T[f].length:0}var R=C?T:oE(T,A,E);for(var L=_.length-1;L>=0;--L){var c,Y=_[L];if(Y==="[]"&&A.parseArrays)c=A.allowEmptyArrays&&(R===""||A.strictNullHandling&&R===null)?[]:kT.combine([],R);else{c=A.plainObjects?{__proto__:null}:{};var S=Y.charAt(0)==="["&&Y.charAt(Y.length-1)==="]"?Y.slice(1,-1):Y,J=A.decodeDotInKeys?S.replace(/%2E/g,"."):S,w=parseInt(J,10);if(!A.parseArrays&&J==="")c={0:R};else if(!isNaN(w)&&Y!==J&&String(w)===J&&w>=0&&(A.parseArrays&&w<=A.arrayLimit))c=[],c[w]=R;else if(J!=="__proto__")c[J]=R}R=c}return R},Nc=function(T,A,C,E){if(!T)return;var f=C.allowDots?T.replace(/\.([^.[]+)/g,"[$1]"):T,R=/(\[[^[\]]*])/,L=/(\[[^[\]]*])/g,c=C.depth>0&&R.exec(f),Y=c?f.slice(0,c.index):f,S=[];if(Y){if(!C.plainObjects&&zC.call(Object.prototype,Y)){if(!C.allowPrototypes)return}S.push(Y)}var J=0;while(C.depth>0&&(c=L.exec(f))!==null&&J<C.depth){if(J+=1,!C.plainObjects&&zC.call(Object.prototype,c[1].slice(1,-1))){if(!C.allowPrototypes)return}S.push(c[1])}if(c){if(C.strictDepth===!0)throw RangeError("Input depth exceeded depth option of "+C.depth+" and strictDepth is true");S.push("["+f.slice(c.index)+"]")}return zc(S,A,C,E)},$c=function(T){if(!T)return j;if(typeof T.allowEmptyArrays<"u"&&typeof T.allowEmptyArrays!=="boolean")throw TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof T.decodeDotInKeys<"u"&&typeof T.decodeDotInKeys!=="boolean")throw TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(T.decoder!==null&&typeof T.decoder<"u"&&typeof T.decoder!=="function")throw TypeError("Decoder has to be a function.");if(typeof T.charset<"u"&&T.charset!=="utf-8"&&T.charset!=="iso-8859-1")throw TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof T.throwOnLimitExceeded<"u"&&typeof T.throwOnLimitExceeded!=="boolean")throw TypeError("`throwOnLimitExceeded` option must be a boolean");var A=typeof T.charset>"u"?j.charset:T.charset,C=typeof T.duplicates>"u"?j.duplicates:T.duplicates;if(C!=="combine"&&C!=="first"&&C!=="last")throw TypeError("The duplicates option must be either combine, first, or last");var E=typeof T.allowDots>"u"?T.decodeDotInKeys===!0?!0:j.allowDots:!!T.allowDots;return{allowDots:E,allowEmptyArrays:typeof T.allowEmptyArrays==="boolean"?!!T.allowEmptyArrays:j.allowEmptyArrays,allowPrototypes:typeof T.allowPrototypes==="boolean"?T.allowPrototypes:j.allowPrototypes,allowSparse:typeof T.allowSparse==="boolean"?T.allowSparse:j.allowSparse,arrayLimit:typeof T.arrayLimit==="number"?T.arrayLimit:j.arrayLimit,charset:A,charsetSentinel:typeof T.charsetSentinel==="boolean"?T.charsetSentinel:j.charsetSentinel,comma:typeof T.comma==="boolean"?T.comma:j.comma,decodeDotInKeys:typeof T.decodeDotInKeys==="boolean"?T.decodeDotInKeys:j.decodeDotInKeys,decoder:typeof T.decoder==="function"?T.decoder:j.decoder,delimiter:typeof T.delimiter==="string"||kT.isRegExp(T.delimiter)?T.delimiter:j.delimiter,depth:typeof T.depth==="number"||T.depth===!1?+T.depth:j.depth,duplicates:C,ignoreQueryPrefix:T.ignoreQueryPrefix===!0,interpretNumericEntities:typeof T.interpretNumericEntities==="boolean"?T.interpretNumericEntities:j.interpretNumericEntities,parameterLimit:typeof T.parameterLimit==="number"?T.parameterLimit:j.parameterLimit,parseArrays:T.parseArrays!==!1,plainObjects:typeof T.plainObjects==="boolean"?T.plainObjects:j.plainObjects,strictDepth:typeof T.strictDepth==="boolean"?!!T.strictDepth:j.strictDepth,strictNullHandling:typeof T.strictNullHandling==="boolean"?T.strictNullHandling:j.strictNullHandling,throwOnLimitExceeded:typeof T.throwOnLimitExceeded==="boolean"?T.throwOnLimitExceeded:!1}};rE.exports=function(_,T){var A=$c(T);if(_===""||_===null||typeof _>"u")return A.plainObjects?{__proto__:null}:{};var C=typeof _==="string"?nc(_,A):_,E=A.plainObjects?{__proto__:null}:{},f=Object.keys(C);for(var R=0;R<f.length;++R){var L=f[R],c=Nc(L,C[L],A,typeof _==="string");E=kT.merge(E,c,A)}if(A.allowSparse===!0)return E;return kT.compact(E)}});var aE=I((Q1,eE)=>{var hc=iE(),Kc=tE(),Ic=l_();eE.exports={formats:Ic,parse:Kc,stringify:hc}});var J4=D_(G_(),1);var bC={};Gf(bC,{zodSchemaKey:()=>zf,webSocketServerArgsKey:()=>QT,webSocketMessageArgsKey:()=>OT,webSocketKey:()=>YT,webSocketEventKey:()=>uT,webSocketEventArgumentsKey:()=>_T,webSocketConnectionArgsKey:()=>UT,webSocketCloseReasonArgsKey:()=>x_,webSocketCloseCodeArgsKey:()=>f_,routeModelArgsKey:()=>RT,responseStatusTextArgsKey:()=>N_,responseStatusArgsKey:()=>z_,responseHeadersArgsKey:()=>CT,responseBodyArgsKey:()=>c_,requestHeadersArgsKey:()=>XT,requestHeaderArgsKey:()=>fT,requestBodyArgsKey:()=>JT,requestArgsKey:()=>xT,queryArgsKey:()=>R_,paramsArgsKey:()=>iT,paramArgsKey:()=>ZT,moduleKey:()=>qT,middlewareKey:()=>WT,interceptorKey:()=>IT,injectableKey:()=>zT,injectKey:()=>sT,httpServerArgsKey:()=>ET,guardKey:()=>nT,controllerKey:()=>FT,controllerHttpKey:()=>dT,contextArgsKey:()=>BT,containerKey:()=>AT,configKey:()=>n_,argumentsKey:()=>v});var v=Symbol.for("____boolTypescriptCore:arguments__"),_T=Symbol.for("____boolTypescriptCore:webSocketEventArguments__"),n_=Symbol.for("____boolTypescriptCore:config__"),FT=Symbol.for("____boolTypescriptCore:controller__"),IT=Symbol.for("____boolTypescriptCore:interceptor__"),nT=Symbol.for("____boolTypescriptCore:guard__"),dT=Symbol.for("____boolTypescriptCore:controller.http__"),sT=Symbol.for("____boolTypescriptCore:inject__"),zT=Symbol.for("____boolTypescriptCore:injectable__"),WT=Symbol.for("____boolTypescriptCore:middleware__"),qT=Symbol.for("____boolTypescriptCore:module__"),AT=Symbol.for("____boolTypescriptCore:container__"),zf=Symbol.for("____boolTypescriptCore:zodSchema__"),YT=Symbol.for("____boolTypescriptCore:webSocket__"),uT=Symbol.for("____boolTypescriptCore:webSocket:event__"),QT=Symbol.for("____boolTypescriptCore:webSocketArguments:server__"),UT=Symbol.for("____boolTypescriptCore:webSocketArguments:connection__"),OT=Symbol.for("____boolTypescriptCore:webSocketArguments:message__"),f_=Symbol.for("____boolTypescriptCore:webSocketArguments:closeCode__"),x_=Symbol.for("____boolTypescriptCore:webSocketArguments:closeReason__"),ET=Symbol.for("____boolTypescriptCore:httpArguments:server__"),XT=Symbol.for("____boolTypescriptCore:httpArguments:requestHeaders__"),fT=Symbol.for("____boolTypescriptCore:httpArguments:requestHeader__"),JT=Symbol.for("____boolTypescriptCore:httpArguments:requestBody__"),iT=Symbol.for("____boolTypescriptCore:httpArguments:params__"),ZT=Symbol.for("____boolTypescriptCore:httpArguments:param__"),R_=Symbol.for("____boolTypescriptCore:httpArguments:query__"),xT=Symbol.for("____boolTypescriptCore:httpArguments:request__"),CT=Symbol.for("____boolTypescriptCore:httpArguments:responseHeaders__"),BT=Symbol.for("____boolTypescriptCore:httpArguments:context__"),RT=Symbol.for("____boolTypescriptCore:httpArguments:routeModel__"),c_=Symbol.for("____boolTypescriptCore:httpArguments:responseBody__"),z_=Symbol.for("____boolTypescriptCore:httpArguments:responseStatus__"),N_=Symbol.for("____boolTypescriptCore:httpArguments:responseStatusText__");var Nf=(_)=>(T,A,C)=>{if(!A)return;let E=Reflect.getOwnMetadata(v,T.constructor,A)||{};E[`argumentIndexes.${C}`]={index:C,type:XT,validationSchema:_},Reflect.defineMetadata(v,E,T.constructor,A)},$f=(_,T)=>(A,C,E)=>{if(!C)return;let f=Reflect.getOwnMetadata(v,A.constructor,C)||{};f[`argumentIndexes.${E}`]={index:E,type:fT,key:_,validationSchema:T},Reflect.defineMetadata(v,f,A.constructor,C)},hf=(_,T)=>(A,C,E)=>{if(!C)return;let f=Reflect.getOwnMetadata(v,A.constructor,C)||{};f[`argumentIndexes.${E}`]={index:E,type:JT,validationSchema:_,parser:T},Reflect.defineMetadata(v,f,A.constructor,C)},Kf=(_)=>(T,A,C)=>{if(!A)return;let E=Reflect.getOwnMetadata(v,T.constructor,A)||{};E[`argumentIndexes.${C}`]={index:C,type:iT,validationSchema:_},Reflect.defineMetadata(v,E,T.constructor,A)},If=(_,T)=>(A,C,E)=>{if(!C)return;let f=Reflect.getOwnMetadata(v,A.constructor,C)||{};f[`argumentIndexes.${E}`]={index:E,type:ZT,key:_,validationSchema:T},Reflect.defineMetadata(v,f,A.constructor,C)},uf=(_)=>(T,A,C)=>{if(!A)return;let E=Reflect.getOwnMetadata(v,T.constructor,A)||{};E[`argumentIndexes.${C}`]={index:C,type:R_,validationSchema:_},Reflect.defineMetadata(v,E,T.constructor,A)},Of=(_)=>(T,A,C)=>{if(!A)return;let E=Reflect.getOwnMetadata(v,T.constructor,A)||{};E[`argumentIndexes.${C}`]={index:C,type:xT,validationSchema:_},Reflect.defineMetadata(v,E,T.constructor,A)},Mf=()=>(_,T,A)=>{if(!T)return;let C=Reflect.getOwnMetadata(v,_.constructor,T)||{};C[`argumentIndexes.${A}`]={index:A,type:CT},Reflect.defineMetadata(v,C,_.constructor,T)},mf=(_)=>(T,A,C)=>{if(!A)return;let E=Reflect.getOwnMetadata(v,T.constructor,A)||{};E[`argumentIndexes.${C}`]={index:C,type:BT,key:_},Reflect.defineMetadata(v,E,T.constructor,A)},gf=()=>(_,T,A)=>{if(!T)return;let C=Reflect.getOwnMetadata(v,_.constructor,T)||{};C[`argumentIndexes.${A}`]={index:A,type:RT},Reflect.defineMetadata(v,C,_.constructor,T)},Pf=()=>(_,T,A)=>{if(!T)return;let C=Reflect.getOwnMetadata(v,_.constructor,T)||{};C[`argumentIndexes.${A}`]={index:A,type:ET},Reflect.defineMetadata(v,C,_.constructor,T)};var kf=(_)=>(T)=>{let{modules:A,middlewares:C,guards:E,dependencies:f}=_||{};if(Reflect.hasOwnMetadata(qT,T))throw Error(`Conflict detected! ${T.name} class cannot be both a Module and a Container.`);if(A){for(let R=0;R<A.length;R++)if(!Reflect.getOwnMetadataKeys(A[R]).includes(qT))throw Error(`${A[R].name} is not a module.`)}if(C){for(let R=0;R<C.length;R++)if(!Reflect.getOwnMetadataKeys(C[R]).includes(WT))throw Error(`${C[R].name} is not a middleware.`)}if(C){for(let R=0;R<C.length;R++)if(!Reflect.getOwnMetadataKeys(C[R]).includes(WT))throw Error(`${C[R].name} is not a middleware.`)}if(E){for(let R=0;R<E.length;R++)if(!Reflect.getOwnMetadataKeys(E[R]).includes(nT))throw Error(`${E[R].name} is not a guard.`)}if(f){for(let R=0;R<f.length;R++)if(!Reflect.getOwnMetadataKeys(f[R]).includes(zT))throw Error(`${f[R].name} is not an injectable.`)}Reflect.defineMetadata(AT,_,T)};var vf=(_)=>(T)=>{let A={prefix:!_?.startsWith("/")?`/${_||""}`:_,httpMetadata:[...Reflect.getOwnMetadata(dT,T)||[]]};Reflect.defineMetadata(FT,A,T)};var bf=()=>(_)=>{if(!("enforce"in _.prototype)||typeof _.prototype.enforce!=="function")return;let T=void 0;return Reflect.defineMetadata(nT,T,_),_};var pT=(_,T)=>(A,C,E)=>{if(!(E?.value instanceof Function))throw Error(`${T} decorator only use for class method.`);let f=Reflect.getOwnMetadata(v,A.constructor,C)||{},R=[...Reflect.getOwnMetadata(dT,A.constructor)||[],{path:!_.startsWith("/")?`/${_}`:_,httpMethod:T.toUpperCase(),methodName:C,descriptor:E,argumentsMetadata:f}];Reflect.defineMetadata(dT,R,A.constructor)},lf=(_="/")=>pT(_,"Get"),yf=(_="/")=>pT(_,"Post"),jf=(_="/")=>pT(_,"Put"),df=(_="/")=>pT(_,"Patch"),sf=(_="/")=>pT(_,"Delete"),pf=(_="/")=>pT(_,"Options");var of=(_)=>(T,A,C)=>{let E=Reflect.getMetadata(sT,T)||[];E[C]=_,Reflect.defineMetadata(sT,E,T)};var rf=()=>(_)=>Reflect.defineMetadata(zT,void 0,_);var tf=()=>(_)=>{Reflect.defineMetadata(IT,void 0,_)};var ef=()=>(_)=>{Reflect.defineMetadata(WT,void 0,_)};var af=(_)=>(T)=>{if(Reflect.hasOwnMetadata(AT,T))throw Error(`Conflict detected! ${T.name} class cannot be both a Module and a Container.`);let{middlewares:A,guards:C,interceptors:E,controllers:f,dependencies:R,webSockets:L}=_||{};if(A){for(let c=0;c<A.length;c++)if(!Reflect.getOwnMetadataKeys(A[c]).includes(WT))throw Error(`${A[c].name} is not a middleware.`)}if(C){for(let c=0;c<C.length;c++)if(!Reflect.getOwnMetadataKeys(C[c]).includes(nT))throw Error(`${C[c].name} is not a guard.`)}if(E){for(let c=0;c<E.length;c++)if(!Reflect.getOwnMetadataKeys(E[c]).includes(IT))throw Error(`${E[c].name} is not a interceptor.`)}if(f){for(let c=0;c<f.length;c++)if(!Reflect.getOwnMetadataKeys(f[c]).includes(FT))throw Error(`${f[c].name} is not a controller.`)}if(R){for(let c=0;c<R.length;c++)if(!Reflect.getOwnMetadataKeys(R[c]).includes(zT))throw Error(`${R[c].name} is not an injectable.`)}if(L){for(let c=0;c<L.length;c++)if(!Reflect.getOwnMetadataKeys(L[c]).includes(YT))throw Error(`${L[c].name} is not a websocket gateway.`)}Reflect.defineMetadata(qT,_,T)};var $_=Symbol("__bool:webSocket.upgrade__"),Tx=(_,T,A)=>{let C=new URL(T.url);return _.upgrade(T,{data:{method:T.method.toUpperCase(),pathname:C.pathname,query:A}})},_x=(_)=>(T)=>{let{prefix:A}=_||{};T.prototype[$_]=Tx;let C=Object.getOwnPropertyDescriptor(T.prototype,$_),E=!C?[]:[{path:"/",httpMethod:"GET",methodName:$_,descriptor:C,argumentsMetadata:{}},{path:"/",httpMethod:"POST",methodName:$_,descriptor:C,argumentsMetadata:{}}],f={prefix:!A?.startsWith("/")?`/${A||""}`:A,events:Reflect.getOwnMetadata(uT,T)||{},http:E};Reflect.defineMetadata(YT,f,T)};var Cx=()=>(_,T,A)=>{if(!T)return;let C=Reflect.getOwnMetadata(_T,_.constructor,T)||{};C[`argumentIndexes.${A}`]={index:A,type:UT},Reflect.defineMetadata(_T,C,_.constructor,T)},Ax=()=>(_,T,A)=>{if(!T)return;let C=Reflect.getOwnMetadata(_T,_.constructor,T)||{};C[`argumentIndexes.${A}`]={index:A,type:QT},Reflect.defineMetadata(_T,C,_.constructor,T)},Ex=()=>(_,T,A)=>{if(!T)return;let C=Reflect.getOwnMetadata(_T,_.constructor,T)||{};C[`argumentIndexes.${A}`]={index:A,type:f_},Reflect.defineMetadata(_T,C,_.constructor,T)},fx=()=>(_,T,A)=>{if(!T)return;let C=Reflect.getOwnMetadata(_T,_.constructor,T)||{};C[`argumentIndexes.${A}`]={index:A,type:x_},Reflect.defineMetadata(_T,C,_.constructor,T)},xx=()=>(_,T,A)=>{if(!T)return;let C=Reflect.getOwnMetadata(_T,_.constructor,T)||{};C[`argumentIndexes.${A}`]={index:A,type:OT},Reflect.defineMetadata(_T,C,_.constructor,T)};var Rx=(_)=>(T,A,C)=>{if(!(C.value instanceof Function))throw Error("WebSocketEvent decorator only use for class's method.");let E=Reflect.getOwnMetadata(_T,T.constructor,A),f=Object.freeze({methodName:A,descriptor:C,arguments:E}),R={...Reflect.getOwnMetadata(uT,T.constructor)||void 0,[_]:f};Reflect.defineMetadata(uT,f,T.constructor,A),Reflect.defineMetadata(uT,R,T.constructor)};var cT;(function(_){_.year="year",_.month="month",_.day="day",_.hours="hours",_.minutes="minutes",_.seconds="seconds",_.miliseconds="miliseconds"})(cT||(cT={}));var lC=(_,T,A=cT.day)=>{let C=_ instanceof Date?_:new Date(_);switch(A){case cT.year:C.setFullYear(C.getFullYear()+T);break;case cT.month:C.setMonth(C.getMonth()+T);break;case cT.day:C.setDate(C.getDate()+T);break;case cT.hours:C.setHours(C.getHours()+T);break;case cT.minutes:C.setMinutes(C.getMinutes()+T);break;case cT.seconds:C.setSeconds(C.getSeconds()+T);break;case cT.miliseconds:C.setMilliseconds(C.getMilliseconds()+T);break}return C};var xf=D_(aE(),1);var uc=Object.freeze({400:"BAD_REQUEST",401:"UNAUTHORIZED",402:"PAYMENT_REQUIRED",403:"FORBIDDEN",404:"NOT_FOUND",405:"METHOD_NOT_ALLOWED",406:"NOT_ACCEPTABLE",407:"PROXY_AUTHENCATION_REQUIRED",408:"REQUEST_TIMEOUT",409:"CONFLICT",410:"GONE",411:"LENGTH_REQUIRED",412:"PRECONDITION_FAILED",413:"PAYLOAD_TOO_LARGE",414:"URI_TOO_LONG",415:"UNSUPPORTED_MEDIA_TYPE",416:"RANGE_NOT_SATISFIABLE",417:"EXPECTATION_FAILED",418:"IM_A_TEAPOT",421:"MISDIRECTED_REQUEST",422:"UNPROCESSABLE_ENTITY",423:"LOCKED",424:"FAILED_DEPENDENCY",425:"TOO_EARLY_",426:"UPGRAGE_REQUIRED",428:"PRECONDITION_REQUIRED",429:"TOO_MANY_REQUESTS",431:"REQUEST_HEADER_FIELDS_TOO_LARGE",451:"UNAVAILABLE_FOR_LEGAL_REASONS"});class vT extends Error{httpCode;message;data;constructor({httpCode:_,data:T,message:A}){super();this.httpCode=_,this.message=!A?.trim()?uc[_]:A.trim(),this.data=T}}var Oc=Object.freeze({500:"INTERNAL_SERVER_ERROR",501:"NOT_IMPLEMENTED",502:"BAD_GATEWAY",503:"SERVICE_UNAVAILABLE",504:"GATEWAY_TIMEOUT",505:"HTTP_VERSION_NOT_SUPPORTED",506:"VARIANT_ALSO_NEGOTIATES",507:"INSUFFICIENT_STORAGE",508:"LOOP_DETECTED",510:"NOT_EXTENDED",511:"NETWORK_AUTHENTICATION_REQUIRED"});class J_ extends Error{httpCode;message;data;constructor({httpCode:_,data:T,message:A}){super();this.httpCode=_,this.message=!A?.trim()?Oc[_]:A.trim(),this.data=T}}var NC=["GET","HEAD","POST","PUT","DELETE","CONNECT","OPTIONS","TRACE","PATCH"],Tf=(_)=>!!NC.find((T)=>T===_),_f=(_,T=new Headers)=>{if(T.set("Content-Type","application/json"),_ instanceof vT||_ instanceof J_)return new Response(JSON.stringify(_),{status:_.httpCode,statusText:_.message,headers:T});return new Response(JSON.stringify((()=>{switch(typeof _){case"object":return!(_ instanceof Error)?_:{message:_.message,code:_.name,cause:_.cause};case"string":return{message:_};case"number":return{code:_};default:return}})()),{status:500,statusText:"INTERNAL SERVER ERROR",headers:T})};var G1=async function(){}.constructor;var Cf=Object.freeze({black:30,red:31,green:32,yellow:33,blue:34,magenta:35,cyan:36,white:37,gray:90}),Af=Object.freeze({black:40,red:41,green:42,yellow:43,blue:44,magenta:45,cyan:46,white:47,gray:100}),$T=(_,T={})=>{let{color:A,backgroundColor:C,bold:E,underline:f}=T,R="";if(E)R+="\x1B[1m";if(f)R+="\x1B[4m";if(A&&Cf[A])R+=`\x1B[${Cf[A]}m`;if(C&&Af[C])R+=`\x1B[${Af[C]}m`;return`${R}${_}\x1B[0m`};var Ef=(_)=>{let{headers:T,method:A}=_,C=T.get("upgrade")?.toLowerCase()||"",E=T.get("connection")?.toLowerCase()||"";return A==="GET"&&C?.toLowerCase()==="websocket"&&E?.toLowerCase().includes("upgrade")};class j_{_staticMap=new Map;_dynamicMap=new Map;_options=void 0;constructor(..._){_.forEach((T)=>{T.staticEntries.forEach(([A,C])=>this.set(A,C,{isStatic:!0,isPassthrough:!0})),T.dynamicEntries.forEach(([A,C])=>this.set(A,C,{isStatic:!1}))})}get(_,T){return!(T||this._options)?.isStatic?this._dynamicMap.get(_):this._staticMap.get(_)}has(_,T){return!(T||this._options)?.isStatic?this._dynamicMap.has(_):this._staticMap.has(_)}set(_,T,A){let C=A||this._options;if(!C?.isStatic)this._dynamicMap.set(_,T);else if(!this._staticMap.has(_))this._staticMap.set(_,T);else if(!C.isPassthrough)throw Error(`${String(_)} already exists in context static collection.`);return this}setOptions(_){return this._options=_,this}get staticEntries(){return[...this._staticMap.entries()]}get dynamicEntries(){return[...this._dynamicMap.entries()]}}class $C{static rootPattern=":([a-z0-9A-Z_-]{1,})";static innerRootPattern="([a-z0-9A-Z_-]{1,})";alias;#T=new Map;#_;constructor({alias:_}){let T=this._thinAlias(_);this.alias=T,this.#_=new URLPattern({pathname:T,baseURL:"http://www.booljs.com"})}test({pathname:_}){try{return this.#_.test({pathname:this._thinAlias(_),baseURL:"http://www.booljs.com"})}catch(T){return console.error(T),!1}}exec({pathname:_,method:T}){try{let A=this.#T.get(T);if(!A)return null;let C=this.#_.exec({pathname:this._thinAlias(_),baseURL:"http://www.booljs.com"});if(!C)return null;let E=C.pathname.groups;return Object.freeze({parameters:E,model:A})}catch(A){return console.error(A),null}}get({model:_}){if(!this.#T.get("GET"))this.#T.set("GET",_);return this}post({model:_}){if(!this.#T.get("POST"))this.#T.set("POST",_);return this}put({model:_}){if(!this.#T.get("PUT"))this.#T.set("PUT",_);return this}delete({model:_}){if(!this.#T.get("DELETE"))this.#T.set("DELETE",_);return this}connect({model:_}){if(!this.#T.get("CONNECT"))return this.#T.set("CONNECT",_);return this}options({model:_}){if(!this.#T.get("OPTIONS"))return this.#T.set("OPTIONS",_);return this}trace({model:_}){if(!this.#T.get("TRACE"))return this.#T.set("TRACE",_);return this}patch({model:_}){if(!this.#T.get("PATCH"))return this.#T.set("PATCH",_);return this}_thinAlias(_){return _.replace(new RegExp("[/]{2,}","g"),"/").replace(new RegExp("^[/]|[/]$","g"),"")}get _fullPath(){return this.alias.split("/").map((A,C)=>{let E=new RegExp(":([a-z0-9A-Z_.-]{1,})(\\(.*?\\))","g");if(!E.test(A)){if(E=new RegExp(":([a-z0-9A-Z_.-]{1,})","g"),!E.test(A))return A;return A.replace(E,(f,R)=>`${f}(.*?)`)}return A}).join("/")}get _filteredPath(){return this.alias.split("/").map((A,C)=>{let E=new RegExp(":([a-z0-9A-Z_.-]{1,})((.*?))","g");if(!E.test(A)){if(E=new RegExp(":([a-z0-9A-Z_.-]{1,})","g"),!E.test(A))return A;return A.replace(E,(f,R)=>"(.*?)")}return A.replace(E,(f,R,L)=>L)}).join("/")}}var ff=$C;class Z_{alias;_routes=new Map;constructor({alias:_}){this.alias=this._thinAlias(_)}route(_){let T=this._thinAlias(`${this.alias}/${_}`),A=this._routes.get(T),C=!A?new ff({alias:`${this.alias}/${_}`}):A;if(!A)this._routes.set(T,C);return C}_thinAlias(_){return _.replace(new RegExp("[/]{2,}","g"),"/").replace(new RegExp("^[/]|[/]$","g"),"")}get routes(){return this._routes}}class B_{_routers=new Map;add(..._){for(let T of _){if(this._routers.has(T.alias))continue;this._routers.set(T.alias,T)}return this}find({pathname:_,method:T}){for(let A of this._routers.values())for(let C of A.routes.values()){if(!C.test({pathname:_}))continue;let f=C.exec({pathname:_,method:T});if(!f)continue;return f}return null}}var k1=D_(G_(),1);class __{_mapper=new Map;constructor(..._){_.forEach((T)=>{T.entries.forEach(([A,C])=>{this._mapper.set(A,C)})})}get(_){if(this._mapper.has(_))return this._mapper.get(_);if(typeof _!=="function")return;let T=Reflect.getMetadataKeys(_);if(![zT,FT,WT,nT,IT,YT].some((f)=>T.includes(f)))throw Error("Missing dependency declaration, please check @Injectable() used on dependency(ies).");let C=(Reflect.getOwnMetadata(sT,_)||[]).map((f)=>this.get(f)),E=new _(...C);return this._mapper.set(_,E),E}set(_,T){if(this._mapper.has(_))throw Error(`${String(_)} already exists in injector collection.`);this._mapper.set(_,T)}get entries(){return[...this._mapper.entries()]}}class d_{error;constructor(_){this.error=_}}class s_{eventName;metadata;_context=void 0;constructor({eventName:_,metadata:T}){this.eventName=_,this.metadata=T}bind(_){return this._context=_,this}execute(){if(this._context&&typeof this.metadata.descriptor.value==="function")this.metadata.descriptor.value=this.metadata.descriptor.value.bind(this._context);return Object.freeze({methodName:this.metadata.methodName,descriptor:this.metadata.descriptor,arguments:this.metadata.arguments})}}class V_{rawAlias;alias;routes=[];constructor(_="/"){this.rawAlias=_;this.alias=V_.thinAlias(_)}addRoutes(..._){for(let T of _)if(!this.routes.includes(T))this.routes.push(T);return this}bind(_){for(let T of this.routes)T.bind(_);return this}execute(){let _=new Map;for(let T of this.routes)_.set(`${this.alias}:::${T.eventName}`,T.execute());return _}static thinAlias(_){return _.replace(new RegExp("[/]{2,}","g"),"/").replace(new RegExp("^[/]|[/]$","g"),"")}}class C_{rawPrefix;prefix;routers=[];constructor(_="/"){this.rawPrefix=_;this.prefix=C_.thinPrefix(_)}addRouters(..._){for(let T=0;T<_.length;T++)if(!this.routers.includes(_[T]))this.routers.push(_[T]);for(let T of _)if(!this.routers.includes(T))this.routers.push(T);return this}execute(){let _=new Map;for(let T of this.routers){let A=T.execute();for(let[C,E]of A.entries())_.set(`/${C_.thinPrefix(`${this.prefix}/${C}`)}`,E)}return _}static thinPrefix(_){return _.replace(new RegExp("[/]{2,}","g"),"/").replace(new RegExp("^[/]|[/]$","g"),"")}}class i_{classConstructor;options;#T;#_;#E=new __;#C=new Map;#f;#x=900;#A;constructor(_,T){this.classConstructor=_;this.options=T;if(this.#_=Reflect.getOwnMetadataKeys(_),!this.#_.includes(AT)&&!this.#_.includes(qT))throw Error(`Can not detect! ${_.name} class is not a container or module.`);this.#x=typeof T.static?.cacheTimeInSeconds!=="number"?900:T.static.cacheTimeInSeconds,this.#f=Object.freeze({allowLogsMethods:this.options?.log?.methods||[],staticOption:this.options.static,allowOrigins:!this.options.cors?.origins?["*"]:typeof this.options.cors.origins!=="string"?this.options.cors.origins.includes("*")||this.options.cors.origins.length<1?["*"]:this.options.cors.origins:[this.options.cors.origins!=="*"?this.options.cors.origins:"*"],allowMethods:this.options.cors?.methods||NC,allowCredentials:!this.options.cors?.credentials?!1:!0,allowHeaders:!this.options.cors?.headers||this.options.cors.headers.includes("*")?["*"]:this.options.cors.headers})}useValidator(_){this.#A=_}async preLaunch(){if(this.#T)return this.#T;let _=!this.#_.includes(AT)?void 0:Reflect.getOwnMetadata(AT,this.classConstructor),T=!this.#_.includes(AT)?[this.classConstructor]:_?.modules||[],A=!_?void 0:await this.containerResolution({containerClass:this.classConstructor,options:this.options,extendInjector:this.#E}),C=await Promise.all(T.map((L)=>this.moduleResolution({moduleClass:L,options:this.options,extendInjector:!A?this.#E:A.injector})));if([...new Set(C.map((L)=>L.prefix))].length!==C.length)throw Error("Module prefix should be unique.");let f=new Map;for(let L of C){let c=L.webSocketRouterGroup.execute();for(let[Y,S]of c.entries())f.set(Y,S)}let R=Object.freeze({containerMetadata:_,modulesConverted:T,resolutedContainer:A,resolutedModules:C,webSocketsMap:f});return this.#T=R,R}async listen(){let{allowLogsMethods:_,allowOrigins:T,allowMethods:A,allowHeaders:C,allowCredentials:E,staticOption:f}=this.#f,{resolutedContainer:R,resolutedModules:L,webSocketsMap:c}=await this.preLaunch(),Y=Bun.serve({port:this.options.port,fetch:async(S,J)=>{let w=performance.now(),Z=new URL(S.url),q=xf.parse(Z.searchParams.toString(),this.options.queryParser),X=S.headers.get("origin")||"*",V=S.method.toUpperCase(),W=new Headers,N=new j_().setOptions({isStatic:!0}).set(ET,J).set(xT,S).set(fT,S.headers).set(CT,W).set(R_,q);try{if(!Tf(V))return this.finalizeResponse(new Response(JSON.stringify({httpCode:405,message:"Method Not Allowed.",data:void 0}),{status:405,statusText:"Method Not Allowed.",headers:W}));let D=Ef(S),n;if(D){for(let y of L){let l=y.webSocketHttpRouterGroup.find({pathname:Z.pathname,method:V});if(l){n=Object.freeze({route:l,resolution:y});break}}if(!n)return this.finalizeResponse(new Response(JSON.stringify({httpCode:404,message:"Route not found.",data:void 0}),{status:404,statusText:"Not found.",headers:W}));let O=await this.webSocketFetcher({request:S,server:J},{query:q,responseHeaders:W,route:n.route,moduleResolution:n.resolution});return O instanceof Response?O:void 0}if([...!E?[]:[{key:"Access-Control-Allow-Credentials",value:"true"}],{key:"Access-Control-Allow-Origin",value:T.includes("*")?"*":!T.includes(X)?T[0]:X},{key:"Access-Control-Allow-Methods",value:A.join(", ")},{key:"Access-Control-Allow-Headers",value:C.join(", ")}].forEach(({key:O,value:y})=>W.set(O,y)),!A.includes(V))return this.finalizeResponse(new Response(void 0,{status:405,statusText:"Method Not Allowed.",headers:W}));if(S.method.toUpperCase()==="OPTIONS")return this.finalizeResponse(T.includes("*")||T.includes(X)?new Response(void 0,{status:204,statusText:"No Content.",headers:W}):new Response(void 0,{status:417,statusText:"Expectation Failed.",headers:W}));if(f){let{path:O,headers:y}=f,l=`${O}/${Z.pathname}`,a=this.#C.get(l);if(!a){let t=Bun.file(l);if(await t.exists()){if(y)for(let[HT,ST]of Object.entries(y))W.set(HT,ST);return W.set("Content-Type",t.type),this.finalizeResponse(new Response(await t.arrayBuffer(),{status:200,statusText:"SUCCESS",headers:W}))}}else{let t=new Date>a.expiredAt;if(t)this.#C.delete(l);let p=!t?a.file:Bun.file(l);if(await p.exists()){if(this.#C.set(l,Object.freeze({expiredAt:lC(new Date,this.#x,cT.seconds),file:p})),y)for(let[ST,bT]of Object.entries(y))W.set(ST,bT);return W.set("Content-Type",p.type),this.finalizeResponse(new Response(await p.arrayBuffer(),{status:200,statusText:"SUCCESS",headers:W}))}}}for(let O of L){let y=O.controllerRouterGroup.find({pathname:Z.pathname,method:V});if(y){n=Object.freeze({route:y,resolution:O});break}}if(R){let{context:O}=await this.httpFetcher({context:N,route:n?.route,resolutedMap:{injector:R.injector,startMiddlewareGroup:R.startMiddlewareGroup,guardGroup:R.guardGroup},options:{isContainer:!0}});N=O}if(!n)N.setOptions({isStatic:!1}).set(z_,404).set(N_,"Not found.").set(c_,JSON.stringify({httpCode:404,message:"Route not found.",data:void 0}));else{let{context:O}=await this.httpFetcher({context:N,route:n.route,resolutedMap:n.resolution});N=O}if(R){let{context:O}=await this.httpFetcher({context:N,resolutedMap:{injector:R.injector,endMiddlewareGroup:R.endMiddlewareGroup},options:{isContainer:!0}});N=O}let TT=N.get(CT,{isStatic:!0})||new Headers,Q=N.get(c_,{isStatic:!1})||void 0,g=N.get(z_,{isStatic:!1}),P=N.get(N_,{isStatic:!1});return this.serializeResponse({status:typeof g!=="number"?V==="POST"?201:void 0:g,statusText:typeof P!=="string"?void 0:P,headers:TT,data:Q})}catch(U){return this.options.debug&&console.error(U),this.finalizeResponse(_f(U,W))}finally{if(_){let U=performance.now(),D=$T(Z.pathname,{color:"blue"}),n=`${Bun.color("yellow","ansi")}${process.pid}`,TT=$T(S.method,{color:"yellow",backgroundColor:"blue"}),Q=$T(`${S.headers.get("x-forwarded-for")||S.headers.get("x-real-ip")||J.requestIP(S)?.address||"<Unknown>"}`,{color:"yellow"}),g=$T(`${Math.round((U-w+Number.EPSILON)*100)/100}ms`,{color:"yellow",backgroundColor:"blue"});_.includes(S.method.toUpperCase())&&console.info(`PID: ${n} - Method: ${TT} - IP: ${Q} - ${D} - Time: ${g}`)}}},websocket:{open:(S)=>{let J=`${S.data.pathname}:::open`,w=c.get(J);if(!w)return;let Z=w.arguments||{},q=[];for(let[X,V]of Object.entries(Z))switch(V.type){case UT:q[V.index]=S;break;case QT:q[V.index]=Y;break}w.descriptor.value(...q)},close:(S,J,w)=>{let Z=`${S.data.pathname}:::close`,q=c.get(Z);if(!q)return;let X=q.arguments||{},V=[];for(let[W,N]of Object.entries(X))switch(N.type){case UT:V[N.index]=S;break;case QT:V[N.index]=Y;break;case f_:V[N.index]=J;break;case x_:V[N.index]=w;break}q.descriptor.value(...V)},message:(S,J)=>{let w=`${S.data.pathname}:::message`,Z=c.get(w);if(!Z)return;let q=Z.arguments||{},X=[];for(let[V,W]of Object.entries(q))switch(W.type){case UT:X[W.index]=S;break;case OT:X[W.index]=J;break;case QT:X[W.index]=Y;break}Z.descriptor.value(...X)},drain:(S)=>{let J=`${S.data.pathname}:::drain`,w=c.get(J);if(!w)return;let Z=w.arguments||{},q=[];for(let[X,V]of Object.entries(Z))switch(V.type){case UT:q[V.index]=S;break;case QT:q[V.index]=Y;break}w.descriptor.value(...q)},ping:(S,J)=>{let w=`${S.data.pathname}:::ping`,Z=c.get(w);if(!Z)return;let q=Z.arguments||{},X=[];for(let[V,W]of Object.entries(q))switch(W.type){case UT:X[W.index]=S;break;case QT:X[W.index]=Y;break;case OT:X[W.index]=J;break}Z.descriptor.value(...X)},pong:(S,J)=>{let w=`${S.data.pathname}:::pong`,Z=c.get(w);if(!Z)return;let q=Z.arguments||{},X=[];for(let[V,W]of Object.entries(q))switch(W.type){case UT:X[W.index]=S;break;case QT:X[W.index]=Y;break;case OT:X[W.index]=J;break}Z.descriptor.value(...X)}}})}async containerResolution({containerClass:_,options:T,extendInjector:A}){if(!Reflect.getOwnMetadataKeys(_).includes(AT))throw Error(`${_.name} is not a container.`);let C=new __(A),E=Reflect.getOwnMetadata(AT,_),{loaders:f,middlewares:R,guards:L,dependencies:c,config:Y}=E||{},{config:S}=Object.freeze({config:{...typeof T.config!=="function"?T.config:await T.config(),...typeof Y!=="function"?typeof Y!=="object"?void 0:("key"in Y)&&("value"in Y)&&typeof Y.key==="symbol"?typeof Y.value!=="function"?Y.value:await Y.value():Y:await Y()}});if(C.set(Y&&"key"in Y&&"value"in Y&&typeof Y.key==="symbol"?Y.key:n_,S),f){let q=[];for(let[V,W]of Object.entries(f))q.push(async()=>{try{let N=await W({config:S});return console.info(`${$T(" INFO ",{color:"white",backgroundColor:"blue",bold:!0})} Loader [${V}] initialized successfully.`),N}catch(N){throw console.error(`${$T(" WARN ",{color:"yellow",backgroundColor:"red",bold:!0})} Loader [${V}] initialization failed.`),T.debug&&console.error(N),N}});let X=await Promise.all(q.map((V)=>V()));for(let[V,W]of X)C.set(V,W)}!c||c.map((q)=>C.get(q));let J=[],w=[];!R||R.forEach((q)=>{let X=C.get(q);if(X.start&&typeof X.start==="function"){let V=Reflect.getOwnMetadata(v,q,"start")||{};J.push(Object.freeze({class:q,funcName:"start",func:X.start.bind(X),argumentsMetadata:V}))}if(X.end&&typeof X.end==="function"){let V=Reflect.getOwnMetadata(v,q,"end")||{};w.push(Object.freeze({class:q,funcName:"end",func:X.end.bind(X),argumentsMetadata:V}))}});let Z=!L?[]:L.map((q)=>{let X=C.get(q),V=Reflect.getOwnMetadata(v,q,"enforce")||{};return Object.freeze({class:q,funcName:"enforce",func:X.enforce.bind(X),argumentsMetadata:V})});return Object.freeze({injector:C,startMiddlewareGroup:J,endMiddlewareGroup:w,guardGroup:Z})}async moduleResolution({moduleClass:_,options:T,extendInjector:A}){if(!Reflect.getOwnMetadataKeys(_).includes(qT))throw Error(`${_.name} is not a module.`);let C=new __(A),E=Reflect.getOwnMetadata(qT,_),{loaders:f,middlewares:R,guards:L,interceptors:c,controllers:Y,dependencies:S,webSockets:J,prefix:w,config:Z}=E||{},q=`${T.prefix||""}/${w||""}`,{config:X}=Object.freeze({config:!Z?void 0:{...typeof T.config!=="function"?T.config:await T.config(),...typeof Z!=="function"?typeof Z!=="object"?void 0:("key"in Z)&&("value"in Z)&&typeof Z.key==="symbol"?typeof Z.value!=="function"?Z.value:await Z.value():Z:await Z()}});if(X&&C.set(Z&&"key"in Z&&"value"in Z&&typeof Z.key==="symbol"?Z.key:n_,X),f){let g=[];for(let[O,y]of Object.entries(f))g.push(async()=>{try{let l=await y({config:X});return console.info(`${$T(" INFO ",{color:"white",backgroundColor:"blue",bold:!0})} Loader [${O}] initialized successfully.`),l}catch(l){throw console.error(`${$T(" WARN ",{color:"yellow",backgroundColor:"red",bold:!0})} Loader [${O}] initialization failed.`),T.debug&&console.error(l),l}});let P=await Promise.all(g.map((O)=>O()));for(let O=0;O<P.length;O++){let[y,l]=P[O];C.set(y,l)}}!S||S.map((g)=>C.get(g));let V=[],W=[];!R||R.forEach((g)=>{let P=C.get(g);if(P.start&&typeof P.start==="function"){let O=Reflect.getOwnMetadata(v,g,"start")||{};V.push(Object.freeze({class:g,funcName:"start",func:P.start.bind(P),argumentsMetadata:O}))}if(P.end&&typeof P.end==="function"){let O=Reflect.getOwnMetadata(v,g,"end")||{};W.push(Object.freeze({class:g,funcName:"end",func:P.end.bind(P),argumentsMetadata:O}))}});let N=!L?[]:L.map((g)=>{let P=C.get(g),O=Reflect.getOwnMetadata(v,g,"enforce")||{};return Object.freeze({class:g,funcName:"enforce",func:P.enforce.bind(P),argumentsMetadata:O})}),U=[],D=[];!c||c.forEach((g)=>{let P=C.get(g);if(P.open&&typeof P.open==="function"){let O=Reflect.getOwnMetadata(v,g,"open")||{};U.push(Object.freeze({class:g,funcName:"open",func:P.open.bind(P),argumentsMetadata:O}))}if(P.close&&typeof P.close==="function"){let O=Reflect.getOwnMetadata(v,g,"close")||{};D.push(Object.freeze({class:g,funcName:"close",func:P.close.bind(P),argumentsMetadata:O}))}});let n=new B_;!Y||Y.forEach((g)=>this.initControllerInstance({controllerConstructor:g,httpRouterGroup:n,injector:C,prefix:q}));let TT=new B_,Q=new C_;return J&&J.forEach((g)=>this.initWebSocketInstance({webSocketConstructor:g,httpRouterGroup:TT,webSocketRouterGroup:Q,injector:C,prefix:q})),Object.freeze({prefix:w||"",injector:C,startMiddlewareGroup:V,endMiddlewareGroup:W,guardGroup:N,openInterceptorGroup:U,closeInterceptorGroup:D,controllerRouterGroup:n,webSocketHttpRouterGroup:TT,webSocketRouterGroup:Q})}async argumentsResolution(_,T,A,C){if(!this.#A)return _;try{let E=await this.#A.validate(_,T,A,C);if(!(E instanceof d_))return E;throw new vT({httpCode:400,message:`Validation at the [${C.toString()}] method fails at positional argument [${A}].`,data:E.error})}catch(E){if(E instanceof vT)throw E;throw new J_({httpCode:500,message:`Validation at the [${C.toString()}] method error at positional argument [${A}].`,data:!(E instanceof Error)?E:[{message:E.message,code:E.name,cause:E.cause}]})}}initControllerInstance({controllerConstructor:_,httpRouterGroup:T,injector:A,prefix:C}){if(!Reflect.getOwnMetadataKeys(_).includes(FT))throw Error(`${_.name} is not a controller.`);let E=A.get(_);if(!E)throw Error("Can not initialize controller.");let f=Reflect.getOwnMetadata(FT,_)||{prefix:"/",httpMetadata:[]},R=new Z_({alias:`/${C||""}/${f.prefix}`});return f.httpMetadata.forEach((L)=>{if(typeof L.descriptor.value!=="function")return;let c=R.route(L.path),Y=L.descriptor.value.bind(E),S=Object.freeze({class:_,funcName:L.methodName,func:Y,argumentsMetadata:L.argumentsMetadata});switch(L.httpMethod){case"GET":return c.get({model:S});case"POST":return c.post({model:S});case"PUT":return c.put({model:S});case"PATCH":return c.patch({model:S});case"DELETE":return c.delete({model:S});case"OPTIONS":return c.options({model:S})}}),T.add(R)}initWebSocketInstance({injector:_,httpRouterGroup:T,prefix:A,webSocketRouterGroup:C,webSocketConstructor:E}){if(!Reflect.getOwnMetadataKeys(E).includes(YT))throw Error(`${E.name} is not a websocket route.`);let f=_.get(E);if(!f)throw Error("Can not initialize webSocket.");let R=Reflect.getOwnMetadata(YT,E)||{prefix:"/",events:[],http:[]},L=`/${A||""}/${R.prefix}`,c=new Z_({alias:L});for(let[S,J]of Object.entries(R.http)){if(typeof J.descriptor?.value!=="function")continue;let w=c.route(J.path),Z=J.descriptor.value.bind(f),q=Object.freeze({class:E,funcName:J.methodName,func:Z,argumentsMetadata:J.argumentsMetadata});switch(J.httpMethod){case"GET":w.get({model:q});break;case"POST":w.post({model:q});break}}T.add(c);let Y=new V_(L);for(let[S,J]of Object.entries(R.events)){let w=new s_({eventName:S,metadata:J});Y.addRoutes(w)}return Y.bind(f),C.addRouters(Y),Object.freeze({httpRouterGroup:T,webSocketRouterGroup:C})}serializeResponse({status:_,statusText:T,headers:A,data:C}){let E=A.get("Content-Type")||"text/plain";if(E.includes("application/json"))return this.finalizeResponse(new Response(!C?void 0:C instanceof ReadableStream?C:JSON.stringify(C),{status:!C?204:_,statusText:T,headers:A}));if(E.includes("text/plain")||E.includes("text/html"))return this.finalizeResponse(new Response(!C?void 0:C instanceof ReadableStream?C:String(C),{status:!C?204:_,statusText:T,headers:A}));if(E.includes("application/octet-stream")){if(C instanceof Uint8Array||C instanceof ArrayBuffer||C instanceof Blob||C instanceof ReadableStream)return this.finalizeResponse(new Response(C,{status:_,statusText:T,headers:A}));throw Error("Invalid data type for application/octet-stream")}if(E.includes("multipart/form-data")){if(C instanceof FormData)return this.finalizeResponse(new Response(C,{status:_,statusText:T,headers:A}));throw Error("multipart/form-data requires FormData object")}return this.finalizeResponse(new Response(!C?void 0:String(C),{status:!C?204:_,statusText:T,headers:A}))}finalizeResponse(_){return _.headers.set("X-Powered-By","Bool Typescript"),_}async httpFetcher({context:_,route:T,options:A,resolutedMap:C}){let E={isStatic:!0},f=new j_(...!_?[]:[_]).setOptions(E);if(T)f.set(iT,T.parameters,{isPassthrough:!0}).set(RT,T.model,{isPassthrough:!0});let R=f.get(ET,E)||void 0,L=f.get(xT,E)||void 0,c=f.get(fT,E)||void 0,Y=f.get(CT,E)||void 0,S=f.get(iT,E)||void 0,J=f.get(RT,E)||void 0;if(C){let{startMiddlewareGroup:w,guardGroup:Z}=C;if(w)for(let q=0;q<w.length;q++){let X=[],{func:V,funcName:W,argumentsMetadata:N}=w[q];for(let[U,D]of Object.entries(N))switch(D.type){case BT:X[D.index]=!D.key?f:f.get(D.key,E);break;case xT:X[D.index]=!D.validationSchema?L:await this.argumentsResolution(L,D.validationSchema,D.index,W);break;case JT:X[D.index]=!D.validationSchema?await L?.[D.parser||"json"]():await this.argumentsResolution(await L?.[D.parser||"json"](),D.validationSchema,D.index,W);break;case XT:X[D.index]=!D.validationSchema?c:await this.argumentsResolution(c?.toJSON(),D.validationSchema,D.index,W);break;case fT:X[D.index]=!D.validationSchema?c?.get(D.key)||void 0:await this.argumentsResolution(c?.get(D.key)||void 0,D.validationSchema,D.index,W);break;case ZT:X[D.index]=!D.validationSchema?S?.[D.key]||void 0:await this.argumentsResolution(S?.[D.key]||void 0,D.validationSchema,D.index,W);break;case RT:X[D.index]=J;break;case CT:X[D.index]=Y;break;case ET:X[D.index]=R;break;default:X[D.index]=!D.validationSchema?!f.has(D.type,E)?void 0:f.get(D.type,E):await this.argumentsResolution(!(D.type in f)?void 0:f.get(D.type,E),D.validationSchema,D.index,W);break}await V(...X)}if(Z)for(let q=0;q<Z.length;q++){let X=[],{func:V,funcName:W,argumentsMetadata:N}=Z[q];for(let[D,n]of Object.entries(N))switch(n.type){case xT:X[n.index]=!n.validationSchema?L:await this.argumentsResolution(L,n.validationSchema,n.index,W);break;case JT:X[n.index]=!n.validationSchema?await L?.[n.parser||"json"]():await this.argumentsResolution(await L?.[n.parser||"json"](),n.validationSchema,n.index,W);break;case BT:X[n.index]=!n.key?f:f.get(n.key);break;case XT:X[n.index]=!n.validationSchema?c:await this.argumentsResolution(c?.toJSON(),n.validationSchema,n.index,W);break;case CT:X[n.index]=Y;break;case fT:X[n.index]=!n.validationSchema?c?.get(n.key)||void 0:await this.argumentsResolution(c?.get(n.key)||void 0,n.validationSchema,n.index,W);break;case ZT:X[n.index]=!n.validationSchema?S?.[n.key]||void 0:await this.argumentsResolution(S?.[n.key],n.validationSchema,n.index,W);break;case RT:X[n.index]=J;break;case ET:X[n.index]=R;break;default:X[n.index]=!n.validationSchema?!f.has(n.type)?void 0:f.get(n.type):await this.argumentsResolution(f.get(n.type),n.validationSchema,n.index,W);break}let U=await V(...X);if(typeof U!=="boolean"||!U)throw new vT({httpCode:401,message:"Unauthorization.",data:void 0})}}if(J&&!A?.isContainer){if(C&&"openInterceptorGroup"in C&&C.openInterceptorGroup){let{openInterceptorGroup:V}=C;for(let W=0;W<V.length;W++){let N=[],{func:U,funcName:D,argumentsMetadata:n}=V[W];for(let[TT,Q]of Object.entries(n))switch(Q.type){case xT:N[Q.index]=!Q.validationSchema?L:await this.argumentsResolution(L,Q.validationSchema,Q.index,D);break;case JT:N[Q.index]=!Q.validationSchema?await L?.[Q.parser||"json"]():await this.argumentsResolution(await L?.[Q.parser||"json"](),Q.validationSchema,Q.index,D);break;case BT:N[Q.index]=!Q.key?f:f.get(Q.key);break;case XT:N[Q.index]=!Q.validationSchema?c:await this.argumentsResolution(c?.toJSON(),Q.validationSchema,Q.index,D);break;case fT:N[Q.index]=!Q.validationSchema?c?.get(Q.key)||void 0:await this.argumentsResolution(c?.get(Q.key)||void 0,Q.validationSchema,Q.index,D);break;case CT:N[Q.index]=Y;break;case ZT:N[Q.index]=!Q.validationSchema?S?.[Q.key]||void 0:await this.argumentsResolution(S?.[Q.key]||void 0,Q.validationSchema,Q.index,D);break;case RT:N[Q.index]=J;break;case ET:N[Q.index]=R;break;default:N[Q.index]=!Q.validationSchema?!f.has(Q.type)?void 0:f.get(Q.type):await this.argumentsResolution(f.get(Q.type),Q.validationSchema,Q.index,D);break}await U(...N)}}let w=[],{func:Z,funcName:q,argumentsMetadata:X}=J;for(let[V,W]of Object.entries(X))switch(W.type){case xT:w[W.index]=!W.validationSchema?L:await this.argumentsResolution(L,W.validationSchema,W.index,q);break;case JT:w[W.index]=!W.validationSchema?await L?.[W.parser||"json"]():await this.argumentsResolution(await L?.[W.parser||"json"](),W.validationSchema,W.index,q);break;case BT:w[W.index]=!W.key?f:f.get(W.key);break;case XT:w[W.index]=!W.validationSchema?c:await this.argumentsResolution(c?.toJSON(),W.validationSchema,W.index,q);break;case fT:w[W.index]=!W.validationSchema?c?.get(W.key)||void 0:await this.argumentsResolution(c?.get(W.key)||void 0,W.validationSchema,W.index,q);break;case CT:w[W.index]=Y;break;case ZT:w[W.index]=!W.validationSchema?S?.[W.key]||void 0:await this.argumentsResolution(S?.[W.key]||void 0,W.validationSchema,W.index,q);break;case RT:w[W.index]=J;break;case ET:w[W.index]=R;break;default:w[W.index]=!W.validationSchema?!f.has(W.type)?void 0:f.get(W.type):await this.argumentsResolution(f.get(W.type),W.validationSchema,W.index,q);break}if(f.set(c_,await Z(...w),{isStatic:!1}),C&&"closeInterceptorGroup"in C&&C.closeInterceptorGroup){let{closeInterceptorGroup:V}=C;for(let W=0;W<V.length;W++){let N=[],{func:U,funcName:D,argumentsMetadata:n}=V[W];for(let[TT,Q]of Object.entries(n))switch(Q.type){case xT:N[Q.index]=!Q.validationSchema?L:await this.argumentsResolution(L,Q.validationSchema,Q.index,D);break;case JT:N[Q.index]=!Q.validationSchema?await L?.[Q.parser||"json"]():await this.argumentsResolution(await L?.[Q.parser||"json"](),Q.validationSchema,Q.index,D);break;case BT:N[Q.index]=!Q.key?f:f.get(Q.key);break;case XT:N[Q.index]=!Q.validationSchema?c:await this.argumentsResolution(c?.toJSON(),Q.validationSchema,Q.index,D);break;case CT:N[Q.index]=f.get(Q.type);break;case fT:N[Q.index]=!Q.validationSchema?c?.get(Q.key)||void 0:await this.argumentsResolution(c?.get(Q.key)||void 0,Q.validationSchema,Q.index,D);break;case ZT:N[Q.index]=!Q.validationSchema?S?.[Q.key]||void 0:await this.argumentsResolution(S?.[Q.key]||void 0,Q.validationSchema,Q.index,D);break;case RT:N[Q.index]=J;break;case ET:N[Q.index]=R;break;default:N[Q.index]=!Q.validationSchema?!f.has(Q.type)?void 0:f.get(Q.type):await this.argumentsResolution(f.get(Q.type),Q.validationSchema,Q.index,D);break}await U(...N)}}}if(C){let{endMiddlewareGroup:w}=C;if(w)for(let Z=0;Z<w.length;Z++){let q=[],{func:X,funcName:V,argumentsMetadata:W}=w[Z];for(let[N,U]of Object.entries(W))switch(U.type){case xT:q[U.index]=!U.validationSchema?L:await this.argumentsResolution(L,U.validationSchema,U.index,V);break;case JT:q[U.index]=!U.validationSchema?await L?.[U.parser||"json"]():await this.argumentsResolution(await L?.[U.parser||"json"](),U.validationSchema,U.index,V);break;case BT:q[U.index]=!U.key?f:f.get(U.key);break;case XT:q[U.index]=!U.validationSchema?c:await this.argumentsResolution(c?.toJSON(),U.validationSchema,U.index,V);break;case CT:q[U.index]=f.get(U.type);break;case fT:q[U.index]=!U.validationSchema?c?.get(U.key)||void 0:await this.argumentsResolution(c?.get(U.key)||void 0,U.validationSchema,U.index,V);break;case ZT:q[U.index]=!U.validationSchema?S?.[U.key]||void 0:await this.argumentsResolution(S?.[U.key]||void 0,U.validationSchema,U.index,V);break;case RT:q[U.index]=J;break;case ET:q[U.index]=R;break;default:q[U.index]=!U.validationSchema?!f.has(U.type)?void 0:f.get(U.type):await this.argumentsResolution(!(U.type in f)?void 0:f.get(U.type),U.validationSchema,U.index,V);break}await X(...q)}}return Object.freeze({context:f})}async webSocketFetcher(_,T){let{request:A,server:C}=_,{query:E,responseHeaders:f,route:{model:R}}=T,L=await R.func(...[C,A,E]);if(typeof L!=="boolean")return this.finalizeResponse(new Response(JSON.stringify({httpCode:500,message:"Can not detect webSocket upgrade result.",data:void 0}),{status:500,statusText:"Internal server error.",headers:f}));if(!L)return this.finalizeResponse(new Response(JSON.stringify({httpCode:500,message:"Can not upgrade.",data:void 0}),{status:500,statusText:"Internal server error.",headers:f}));return L}}var W4=D_(G_(),1);var Mc=async(_,T)=>{try{let A=new i_(_,T);return await A.preLaunch(),A}catch(A){throw T.debug&&console.error(A),A}};export{_f as jsonErrorInfer,Oc as httpServerErrors,Tf as httpMethodsStandardization,NC as httpMethods,uc as httpClientErrors,Ax as WebSocketServer,C_ as WebSocketRouterGroup,V_ as WebSocketRouter,s_ as WebSocketRoute,xx as WebSocketMessage,Rx as WebSocketEvent,Cx as WebSocketConnection,fx as WebSocketCloseReason,Ex as WebSocketCloseCode,_x as WebSocket,d_ as ValidationFailed,gf as RouteModel,Mf as ResponseHeaders,Nf as RequestHeaders,$f as RequestHeader,hf as RequestBody,Of as Request,uf as Query,jf as Put,yf as Post,df as Patch,Kf as Params,If as Param,pf as Options,af as Module,ef as Middleware,bC as Keys,tf as Interceptor,__ as Injector,rf as Injectable,of as Inject,J_ as HttpServerError,Pf as HttpServer,B_ as HttpRouterGroup,Z_ as HttpRouter,$C as HttpRoute,vT as HttpClientError,bf as Guard,lf as Get,sf as Delete,vf as Controller,mf as Context,kf as Container,Mc as BoolFactory,i_ as Application};

//# debugId=98EF91E31992235A64756E2164756E21
